
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.30">
    
    
      
        <title>pyCEURmake API Documentation</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.3cba04c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pyceurmake-api-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="pyCEURmake API Documentation" class="md-header__button md-logo" aria-label="pyCEURmake API Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            pyCEURmake API Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="pyCEURmake API Documentation" class="md-nav__button md-logo" aria-label="pyCEURmake API Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    pyCEURmake API Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    API
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ceurws" class="md-nav__link">
    <span class="md-ellipsis">
      ceurws
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.ceur_ws" class="md-nav__link">
    <span class="md-ellipsis">
      ceur_ws
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ceur_ws">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Conference" class="md-nav__link">
    <span class="md-ellipsis">
      Conference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Conference.getSamples" class="md-nav__link">
    <span class="md-ellipsis">
      getSamples
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.ConferenceManager" class="md-nav__link">
    <span class="md-ellipsis">
      ConferenceManager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Editor" class="md-nav__link">
    <span class="md-ellipsis">
      Editor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Editor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Editor.getSamples" class="md-nav__link">
    <span class="md-ellipsis">
      getSamples
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.EditorManager" class="md-nav__link">
    <span class="md-ellipsis">
      EditorManager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Paper" class="md-nav__link">
    <span class="md-ellipsis">
      Paper
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Paper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Paper.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Paper.getSamples" class="md-nav__link">
    <span class="md-ellipsis">
      getSamples
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.PaperManager" class="md-nav__link">
    <span class="md-ellipsis">
      PaperManager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Session" class="md-nav__link">
    <span class="md-ellipsis">
      Session
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Session">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Session.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Session.getSamples" class="md-nav__link">
    <span class="md-ellipsis">
      getSamples
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.SessionManager" class="md-nav__link">
    <span class="md-ellipsis">
      SessionManager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume" class="md-nav__link">
    <span class="md-ellipsis">
      Volume
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Volume">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.papers" class="md-nav__link">
    <span class="md-ellipsis">
      papers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.sessions" class="md-nav__link">
    <span class="md-ellipsis">
      sessions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.extractAndSetLocation" class="md-nav__link">
    <span class="md-ellipsis">
      extractAndSetLocation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.extractDates" class="md-nav__link">
    <span class="md-ellipsis">
      extractDates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.extractValuesFromVolumePage" class="md-nav__link">
    <span class="md-ellipsis">
      extractValuesFromVolumePage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.getSubmittingEditor" class="md-nav__link">
    <span class="md-ellipsis">
      getSubmittingEditor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.getVolumeNumber" class="md-nav__link">
    <span class="md-ellipsis">
      getVolumeNumber
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.getVolumeUrl" class="md-nav__link">
    <span class="md-ellipsis">
      getVolumeUrl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.getVolumeUrlOf" class="md-nav__link">
    <span class="md-ellipsis">
      getVolumeUrlOf
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.get_loctime" class="md-nav__link">
    <span class="md-ellipsis">
      get_loctime
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.isVirtualEvent" class="md-nav__link">
    <span class="md-ellipsis">
      isVirtualEvent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.normalize" class="md-nav__link">
    <span class="md-ellipsis">
      normalize
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.rankLocations" class="md-nav__link">
    <span class="md-ellipsis">
      rankLocations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.removePartsMatching" class="md-nav__link">
    <span class="md-ellipsis">
      removePartsMatching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.resolveLoctime" class="md-nav__link">
    <span class="md-ellipsis">
      resolveLoctime
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.VolumeManager" class="md-nav__link">
    <span class="md-ellipsis">
      VolumeManager
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VolumeManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.VolumeManager.getIndexHtml" class="md-nav__link">
    <span class="md-ellipsis">
      getIndexHtml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.VolumeManager.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.VolumeManager.loadFromBackup" class="md-nav__link">
    <span class="md-ellipsis">
      loadFromBackup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.VolumeManager.loadFromIndexHtml" class="md-nav__link">
    <span class="md-ellipsis">
      loadFromIndexHtml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.VolumeManager.recreate" class="md-nav__link">
    <span class="md-ellipsis">
      recreate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.VolumeManager.update" class="md-nav__link">
    <span class="md-ellipsis">
      update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.VolumeManager.update_or_recreate" class="md-nav__link">
    <span class="md-ellipsis">
      update_or_recreate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.ceur_ws_web_cmd" class="md-nav__link">
    <span class="md-ellipsis">
      ceur_ws_web_cmd
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ceur_ws_web_cmd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws_web_cmd.CeurWsCmd" class="md-nav__link">
    <span class="md-ellipsis">
      CeurWsCmd
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CeurWsCmd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws_web_cmd.CeurWsCmd.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws_web_cmd.CeurWsCmd.getArgParser" class="md-nav__link">
    <span class="md-ellipsis">
      getArgParser
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws_web_cmd.CeurWsCmd.handle_args" class="md-nav__link">
    <span class="md-ellipsis">
      handle_args
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws_web_cmd.main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.config" class="md-nav__link">
    <span class="md-ellipsis">
      config
    </span>
  </a>
  
    <nav class="md-nav" aria-label="config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.config.CEURWS" class="md-nav__link">
    <span class="md-ellipsis">
      CEURWS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CEURWS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.config.CEURWS.get_home_path" class="md-nav__link">
    <span class="md-ellipsis">
      get_home_path
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.dblp" class="md-nav__link">
    <span class="md-ellipsis">
      dblp
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dblp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpAuthorIdentifier" class="md-nav__link">
    <span class="md-ellipsis">
      DblpAuthorIdentifier
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DblpAuthorIdentifier">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpAuthorIdentifier.all" class="md-nav__link">
    <span class="md-ellipsis">
      all
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpAuthorIdentifier.getAllAsMap" class="md-nav__link">
    <span class="md-ellipsis">
      getAllAsMap
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpAuthorIdentifier.getWikidataIdQueryPart" class="md-nav__link">
    <span class="md-ellipsis">
      getWikidataIdQueryPart
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpAuthors" class="md-nav__link">
    <span class="md-ellipsis">
      DblpAuthors
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DblpAuthors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpAuthors.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEditors" class="md-nav__link">
    <span class="md-ellipsis">
      DblpEditors
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DblpEditors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEditors.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint" class="md-nav__link">
    <span class="md-ellipsis">
      DblpEndpoint
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DblpEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.convertEntityIdToUrlId" class="md-nav__link">
    <span class="md-ellipsis">
      convertEntityIdToUrlId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.getDblpIdByVolumeNumber" class="md-nav__link">
    <span class="md-ellipsis">
      getDblpIdByVolumeNumber
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.getDblpUrlByDblpId" class="md-nav__link">
    <span class="md-ellipsis">
      getDblpUrlByDblpId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.getEditorsOfVolume" class="md-nav__link">
    <span class="md-ellipsis">
      getEditorsOfVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.get_ceur_proceeding" class="md-nav__link">
    <span class="md-ellipsis">
      get_ceur_proceeding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.get_ceur_volume_papers" class="md-nav__link">
    <span class="md-ellipsis">
      get_ceur_volume_papers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.get_lod" class="md-nav__link">
    <span class="md-ellipsis">
      get_lod
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.load_all" class="md-nav__link">
    <span class="md-ellipsis">
      load_all
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.toDblpUrl" class="md-nav__link">
    <span class="md-ellipsis">
      toDblpUrl
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpManager" class="md-nav__link">
    <span class="md-ellipsis">
      DblpManager
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DblpManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpManager.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpManager.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpPapers" class="md-nav__link">
    <span class="md-ellipsis">
      DblpPapers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DblpPapers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpPapers.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpVolumes" class="md-nav__link">
    <span class="md-ellipsis">
      DblpVolumes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DblpVolumes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpVolumes.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.indexparser" class="md-nav__link">
    <span class="md-ellipsis">
      indexparser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="indexparser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser" class="md-nav__link">
    <span class="md-ellipsis">
      IndexHtmlParser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IndexHtmlParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.find" class="md-nav__link">
    <span class="md-ellipsis">
      find
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.findVolume" class="md-nav__link">
    <span class="md-ellipsis">
      findVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.getInfo" class="md-nav__link">
    <span class="md-ellipsis">
      getInfo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.parse" class="md-nav__link">
    <span class="md-ellipsis">
      parse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.parseVolume" class="md-nav__link">
    <span class="md-ellipsis">
      parseVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.setSeeAlsoVolumes" class="md-nav__link">
    <span class="md-ellipsis">
      setSeeAlsoVolumes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.setVolumeName" class="md-nav__link">
    <span class="md-ellipsis">
      setVolumeName
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.setVolumeNumber" class="md-nav__link">
    <span class="md-ellipsis">
      setVolumeNumber
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.setVolumeTitle" class="md-nav__link">
    <span class="md-ellipsis">
      setVolumeTitle
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.ParserConfig" class="md-nav__link">
    <span class="md-ellipsis">
      ParserConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ParserConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.ParserConfig.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.location" class="md-nav__link">
    <span class="md-ellipsis">
      location
    </span>
  </a>
  
    <nav class="md-nav" aria-label="location">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.location.LocationLookup" class="md-nav__link">
    <span class="md-ellipsis">
      LocationLookup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LocationLookup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.location.LocationLookup.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.location.LocationLookup.getCityByWikiDataId" class="md-nav__link">
    <span class="md-ellipsis">
      getCityByWikiDataId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.location.LocationLookup.initPredefinedLocations" class="md-nav__link">
    <span class="md-ellipsis">
      initPredefinedLocations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.location.LocationLookup.lookup" class="md-nav__link">
    <span class="md-ellipsis">
      lookup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.location.LocationLookup.lookupGeograpy" class="md-nav__link">
    <span class="md-ellipsis">
      lookupGeograpy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.location.LocationLookup.lookupNominatim" class="md-nav__link">
    <span class="md-ellipsis">
      lookupNominatim
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.loctime" class="md-nav__link">
    <span class="md-ellipsis">
      loctime
    </span>
  </a>
  
    <nav class="md-nav" aria-label="loctime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser" class="md-nav__link">
    <span class="md-ellipsis">
      LoctimeParser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LoctimeParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser.create_pareto_analysis" class="md-nav__link">
    <span class="md-ellipsis">
      create_pareto_analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser.get_parts" class="md-nav__link">
    <span class="md-ellipsis">
      get_parts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser.parse" class="md-nav__link">
    <span class="md-ellipsis">
      parse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser.save" class="md-nav__link">
    <span class="md-ellipsis">
      save
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser.setup" class="md-nav__link">
    <span class="md-ellipsis">
      setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser.update_lookup_counts" class="md-nav__link">
    <span class="md-ellipsis">
      update_lookup_counts
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.PercentageTable" class="md-nav__link">
    <span class="md-ellipsis">
      PercentageTable
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PercentageTable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.PercentageTable.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.PercentageTable.add_value" class="md-nav__link">
    <span class="md-ellipsis">
      add_value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.PercentageTable.generate_table" class="md-nav__link">
    <span class="md-ellipsis">
      generate_table
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.models" class="md-nav__link">
    <span class="md-ellipsis">
      models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.models.ceur" class="md-nav__link">
    <span class="md-ellipsis">
      ceur
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ceur">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.models.ceur.Paper" class="md-nav__link">
    <span class="md-ellipsis">
      Paper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.ceur.Volume" class="md-nav__link">
    <span class="md-ellipsis">
      Volume
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp" class="md-nav__link">
    <span class="md-ellipsis">
      dblp
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dblp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp.DblpPaper" class="md-nav__link">
    <span class="md-ellipsis">
      DblpPaper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp.DblpProceeding" class="md-nav__link">
    <span class="md-ellipsis">
      DblpProceeding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp.DblpScholar" class="md-nav__link">
    <span class="md-ellipsis">
      DblpScholar
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp2" class="md-nav__link">
    <span class="md-ellipsis">
      dblp2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dblp2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp2.Authorship" class="md-nav__link">
    <span class="md-ellipsis">
      Authorship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp2.Editorship" class="md-nav__link">
    <span class="md-ellipsis">
      Editorship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp2.Paper" class="md-nav__link">
    <span class="md-ellipsis">
      Paper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp2.Proceeding" class="md-nav__link">
    <span class="md-ellipsis">
      Proceeding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp2.Scholar" class="md-nav__link">
    <span class="md-ellipsis">
      Scholar
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.namedqueries" class="md-nav__link">
    <span class="md-ellipsis">
      namedqueries
    </span>
  </a>
  
    <nav class="md-nav" aria-label="namedqueries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.namedqueries.NamedQueries" class="md-nav__link">
    <span class="md-ellipsis">
      NamedQueries
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NamedQueries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.namedqueries.NamedQueries.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.namedqueries.NamedQueries.query" class="md-nav__link">
    <span class="md-ellipsis">
      query
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.namedqueries.NamedQueries.toQueryManager" class="md-nav__link">
    <span class="md-ellipsis">
      toQueryManager
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.papertocparser" class="md-nav__link">
    <span class="md-ellipsis">
      papertocparser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="papertocparser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.papertocparser.PaperTocParser" class="md-nav__link">
    <span class="md-ellipsis">
      PaperTocParser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PaperTocParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.papertocparser.PaperTocParser.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.papertocparser.PaperTocParser.parsePapers" class="md-nav__link">
    <span class="md-ellipsis">
      parsePapers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.services" class="md-nav__link">
    <span class="md-ellipsis">
      services
    </span>
  </a>
  
    <nav class="md-nav" aria-label="services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing" class="md-nav__link">
    <span class="md-ellipsis">
      entity_fishing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="entity_fishing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing" class="md-nav__link">
    <span class="md-ellipsis">
      CeurEntityFishing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CeurEntityFishing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      __call__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.concept_look_up_batch" class="md-nav__link">
    <span class="md-ellipsis">
      concept_look_up_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.disambiguate_text_batch" class="md-nav__link">
    <span class="md-ellipsis">
      disambiguate_text_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.generic_client_batch" class="md-nav__link">
    <span class="md-ellipsis">
      generic_client_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.look_extra_informations_on_entity" class="md-nav__link">
    <span class="md-ellipsis">
      look_extra_informations_on_entity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.main_disambiguation_process_batch" class="md-nav__link">
    <span class="md-ellipsis">
      main_disambiguation_process_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.pipe" class="md-nav__link">
    <span class="md-ellipsis">
      pipe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.prepare_data" class="md-nav__link">
    <span class="md-ellipsis">
      prepare_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.process_response" class="md-nav__link">
    <span class="md-ellipsis">
      process_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.process_single_doc_after_call" class="md-nav__link">
    <span class="md-ellipsis">
      process_single_doc_after_call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.updated_entities" class="md-nav__link">
    <span class="md-ellipsis">
      updated_entities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.opentapioca" class="md-nav__link">
    <span class="md-ellipsis">
      opentapioca
    </span>
  </a>
  
    <nav class="md-nav" aria-label="opentapioca">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.services.opentapioca.EntityLinker" class="md-nav__link">
    <span class="md-ellipsis">
      EntityLinker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EntityLinker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.services.opentapioca.EntityLinker.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      __call__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.opentapioca.EntityLinker.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.opentapioca.EntityLinker.pipe" class="md-nav__link">
    <span class="md-ellipsis">
      pipe
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.sql_cache" class="md-nav__link">
    <span class="md-ellipsis">
      sql_cache
    </span>
  </a>
  
    <nav class="md-nav" aria-label="sql_cache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.Cached" class="md-nav__link">
    <span class="md-ellipsis">
      Cached
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cached">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.Cached.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.Cached.check_local_cache" class="md-nav__link">
    <span class="md-ellipsis">
      check_local_cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.Cached.fetch_from_local" class="md-nav__link">
    <span class="md-ellipsis">
      fetch_from_local
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.Cached.fetch_or_query" class="md-nav__link">
    <span class="md-ellipsis">
      fetch_or_query
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.Cached.get_lod" class="md-nav__link">
    <span class="md-ellipsis">
      get_lod
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.Cached.store" class="md-nav__link">
    <span class="md-ellipsis">
      store
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.Cached.to_entities" class="md-nav__link">
    <span class="md-ellipsis">
      to_entities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.SqlDB" class="md-nav__link">
    <span class="md-ellipsis">
      SqlDB
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SqlDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.SqlDB.get_session" class="md-nav__link">
    <span class="md-ellipsis">
      get_session
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.textparser" class="md-nav__link">
    <span class="md-ellipsis">
      textparser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="textparser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.textparser.Textparser" class="md-nav__link">
    <span class="md-ellipsis">
      Textparser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Textparser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.textparser.Textparser.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.textparser.Textparser.getMatch" class="md-nav__link">
    <span class="md-ellipsis">
      getMatch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.textparser.Textparser.hasValue" class="md-nav__link">
    <span class="md-ellipsis">
      hasValue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.textparser.Textparser.log" class="md-nav__link">
    <span class="md-ellipsis">
      log
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.textparser.Textparser.sanitize" class="md-nav__link">
    <span class="md-ellipsis">
      sanitize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.urn" class="md-nav__link">
    <span class="md-ellipsis">
      urn
    </span>
  </a>
  
    <nav class="md-nav" aria-label="urn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.urn.URN" class="md-nav__link">
    <span class="md-ellipsis">
      URN
    </span>
  </a>
  
    <nav class="md-nav" aria-label="URN">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.urn.URN.calc_urn_checksum" class="md-nav__link">
    <span class="md-ellipsis">
      calc_urn_checksum
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.utils" class="md-nav__link">
    <span class="md-ellipsis">
      utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.download" class="md-nav__link">
    <span class="md-ellipsis">
      download
    </span>
  </a>
  
    <nav class="md-nav" aria-label="download">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.download.Download" class="md-nav__link">
    <span class="md-ellipsis">
      Download
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Download">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.download.Download.downloadBackupFile" class="md-nav__link">
    <span class="md-ellipsis">
      downloadBackupFile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.download.Download.needsDownload" class="md-nav__link">
    <span class="md-ellipsis">
      needsDownload
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.download.Profiler" class="md-nav__link">
    <span class="md-ellipsis">
      Profiler
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Profiler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.download.Profiler.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.download.Profiler.time" class="md-nav__link">
    <span class="md-ellipsis">
      time
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape" class="md-nav__link">
    <span class="md-ellipsis">
      webscrape
    </span>
  </a>
  
    <nav class="md-nav" aria-label="webscrape">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.ScrapeDescription" class="md-nav__link">
    <span class="md-ellipsis">
      ScrapeDescription
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape" class="md-nav__link">
    <span class="md-ellipsis">
      WebScrape
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebScrape">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.findLinkForRegexp" class="md-nav__link">
    <span class="md-ellipsis">
      findLinkForRegexp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.fromTag" class="md-nav__link">
    <span class="md-ellipsis">
      fromTag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.getSoup" class="md-nav__link">
    <span class="md-ellipsis">
      getSoup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.get_html_from_url" class="md-nav__link">
    <span class="md-ellipsis">
      get_html_from_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.get_soup_from_string" class="md-nav__link">
    <span class="md-ellipsis">
      get_soup_from_string
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.parseRDFa" class="md-nav__link">
    <span class="md-ellipsis">
      parseRDFa
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.parseWithScrapeDescription" class="md-nav__link">
    <span class="md-ellipsis">
      parseWithScrapeDescription
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.printPrettyHtml" class="md-nav__link">
    <span class="md-ellipsis">
      printPrettyHtml
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.version" class="md-nav__link">
    <span class="md-ellipsis">
      version
    </span>
  </a>
  
    <nav class="md-nav" aria-label="version">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.version.Version" class="md-nav__link">
    <span class="md-ellipsis">
      Version
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.view" class="md-nav__link">
    <span class="md-ellipsis">
      view
    </span>
  </a>
  
    <nav class="md-nav" aria-label="view">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.view.View" class="md-nav__link">
    <span class="md-ellipsis">
      View
    </span>
  </a>
  
    <nav class="md-nav" aria-label="View">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.view.View.createExternalLink" class="md-nav__link">
    <span class="md-ellipsis">
      createExternalLink
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.view.View.createItemLink" class="md-nav__link">
    <span class="md-ellipsis">
      createItemLink
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.view.View.createLink" class="md-nav__link">
    <span class="md-ellipsis">
      createLink
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j" class="md-nav__link">
    <span class="md-ellipsis">
      volume_neo4j
    </span>
  </a>
  
    <nav class="md-nav" aria-label="volume_neo4j">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Editor" class="md-nav__link">
    <span class="md-ellipsis">
      Editor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Editor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Editor.create_node" class="md-nav__link">
    <span class="md-ellipsis">
      create_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Editor.from_json" class="md-nav__link">
    <span class="md-ellipsis">
      from_json
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Editor.search_by_name" class="md-nav__link">
    <span class="md-ellipsis">
      search_by_name
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Location" class="md-nav__link">
    <span class="md-ellipsis">
      Location
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Location">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Location.parse" class="md-nav__link">
    <span class="md-ellipsis">
      parse
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Neo4j" class="md-nav__link">
    <span class="md-ellipsis">
      Neo4j
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Neo4j">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Neo4j.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Volume" class="md-nav__link">
    <span class="md-ellipsis">
      Volume
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Volume">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Volume.create_node" class="md-nav__link">
    <span class="md-ellipsis">
      create_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Volume.default_source" class="md-nav__link">
    <span class="md-ellipsis">
      default_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Volume.from_json" class="md-nav__link">
    <span class="md-ellipsis">
      from_json
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Volume.load_json_file" class="md-nav__link">
    <span class="md-ellipsis">
      load_json_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Volume.parse_args" class="md-nav__link">
    <span class="md-ellipsis">
      parse_args
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.volume_view" class="md-nav__link">
    <span class="md-ellipsis">
      volume_view
    </span>
  </a>
  
    <nav class="md-nav" aria-label="volume_view">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView" class="md-nav__link">
    <span class="md-ellipsis">
      VolumeListView
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VolumeListView">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.add_msg" class="md-nav__link">
    <span class="md-ellipsis">
      add_msg
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.add_or_update_volume_in_wikidata" class="md-nav__link">
    <span class="md-ellipsis">
      add_or_update_volume_in_wikidata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.check_recently_updated_volumes" class="md-nav__link">
    <span class="md-ellipsis">
      check_recently_updated_volumes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.clear_msg" class="md-nav__link">
    <span class="md-ellipsis">
      clear_msg
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.createEventItemAndLinkProceedings" class="md-nav__link">
    <span class="md-ellipsis">
      createEventItemAndLinkProceedings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.createProceedingsItemFromVolume" class="md-nav__link">
    <span class="md-ellipsis">
      createProceedingsItemFromVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.get_volume_lod" class="md-nav__link">
    <span class="md-ellipsis">
      get_volume_lod
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.onWikidataButtonClick" class="md-nav__link">
    <span class="md-ellipsis">
      onWikidataButtonClick
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.on_check_recently_update_volumes_button_click" class="md-nav__link">
    <span class="md-ellipsis">
      on_check_recently_update_volumes_button_click
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.optional_login" class="md-nav__link">
    <span class="md-ellipsis">
      optional_login
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.setup_ui" class="md-nav__link">
    <span class="md-ellipsis">
      setup_ui
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.updateRecentlyAddedVolume" class="md-nav__link">
    <span class="md-ellipsis">
      updateRecentlyAddedVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.updateWikidataVolumes" class="md-nav__link">
    <span class="md-ellipsis">
      updateWikidataVolumes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeView" class="md-nav__link">
    <span class="md-ellipsis">
      VolumeView
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VolumeView">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeView.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeView.onWikidataButtonClick" class="md-nav__link">
    <span class="md-ellipsis">
      onWikidataButtonClick
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeView.setup_ui" class="md-nav__link">
    <span class="md-ellipsis">
      setup_ui
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeView.showVolume" class="md-nav__link">
    <span class="md-ellipsis">
      showVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeView.updateWikidataSpan" class="md-nav__link">
    <span class="md-ellipsis">
      updateWikidataSpan
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.volumeparser" class="md-nav__link">
    <span class="md-ellipsis">
      volumeparser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="volumeparser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumePageCache" class="md-nav__link">
    <span class="md-ellipsis">
      VolumePageCache
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VolumePageCache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumePageCache.cache" class="md-nav__link">
    <span class="md-ellipsis">
      cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumePageCache.delete" class="md-nav__link">
    <span class="md-ellipsis">
      delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumePageCache.get" class="md-nav__link">
    <span class="md-ellipsis">
      get
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumePageCache.is_cached" class="md-nav__link">
    <span class="md-ellipsis">
      is_cached
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser" class="md-nav__link">
    <span class="md-ellipsis">
      VolumeParser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VolumeParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.check_parsed_dict" class="md-nav__link">
    <span class="md-ellipsis">
      check_parsed_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.getSoup" class="md-nav__link">
    <span class="md-ellipsis">
      getSoup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.get_volume_page" class="md-nav__link">
    <span class="md-ellipsis">
      get_volume_page
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.get_volume_soup" class="md-nav__link">
    <span class="md-ellipsis">
      get_volume_soup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.parse" class="md-nav__link">
    <span class="md-ellipsis">
      parse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.parseAffiliationMap" class="md-nav__link">
    <span class="md-ellipsis">
      parseAffiliationMap
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.parseEditors" class="md-nav__link">
    <span class="md-ellipsis">
      parseEditors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.parseRDFa" class="md-nav__link">
    <span class="md-ellipsis">
      parseRDFa
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.parse_soup" class="md-nav__link">
    <span class="md-ellipsis">
      parse_soup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.parse_volume" class="md-nav__link">
    <span class="md-ellipsis">
      parse_volume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.volumeUrl" class="md-nav__link">
    <span class="md-ellipsis">
      volumeUrl
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.webserver" class="md-nav__link">
    <span class="md-ellipsis">
      webserver
    </span>
  </a>
  
    <nav class="md-nav" aria-label="webserver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsSolution" class="md-nav__link">
    <span class="md-ellipsis">
      CeurWsSolution
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CeurWsSolution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsSolution.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsSolution.home" class="md-nav__link">
    <span class="md-ellipsis">
      home
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsSolution.prepare_ui" class="md-nav__link">
    <span class="md-ellipsis">
      prepare_ui
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsSolution.volume_selected" class="md-nav__link">
    <span class="md-ellipsis">
      volume_selected
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsSolution.volumes" class="md-nav__link">
    <span class="md-ellipsis">
      volumes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsSolution.wikidatasync" class="md-nav__link">
    <span class="md-ellipsis">
      wikidatasync
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsWebServer" class="md-nav__link">
    <span class="md-ellipsis">
      CeurWsWebServer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CeurWsWebServer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsWebServer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsWebServer.configure_run" class="md-nav__link">
    <span class="md-ellipsis">
      configure_run
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.wikidata_view" class="md-nav__link">
    <span class="md-ellipsis">
      wikidata_view
    </span>
  </a>
  
    <nav class="md-nav" aria-label="wikidata_view">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidata_view.WikidataView" class="md-nav__link">
    <span class="md-ellipsis">
      WikidataView
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WikidataView">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidata_view.WikidataView.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidata_view.WikidataView.on_refresh_button_click" class="md-nav__link">
    <span class="md-ellipsis">
      on_refresh_button_click
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidata_view.WikidataView.reload_aggrid" class="md-nav__link">
    <span class="md-ellipsis">
      reload_aggrid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidata_view.WikidataView.setup_ui" class="md-nav__link">
    <span class="md-ellipsis">
      setup_ui
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidata_view.WikidataView.update_proceedings" class="md-nav__link">
    <span class="md-ellipsis">
      update_proceedings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.wikidatasync" class="md-nav__link">
    <span class="md-ellipsis">
      wikidatasync
    </span>
  </a>
  
    <nav class="md-nav" aria-label="wikidatasync">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync" class="md-nav__link">
    <span class="md-ellipsis">
      WikidataSync
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WikidataSync">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.addAcronymToItem" class="md-nav__link">
    <span class="md-ellipsis">
      addAcronymToItem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.addDblpPublicationId" class="md-nav__link">
    <span class="md-ellipsis">
      addDblpPublicationId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.addLinkBetweenProceedingsAndEvent" class="md-nav__link">
    <span class="md-ellipsis">
      addLinkBetweenProceedingsAndEvent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.addOfficialWebsiteToItem" class="md-nav__link">
    <span class="md-ellipsis">
      addOfficialWebsiteToItem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.addProceedingsToWikidata" class="md-nav__link">
    <span class="md-ellipsis">
      addProceedingsToWikidata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.addVolume" class="md-nav__link">
    <span class="md-ellipsis">
      addVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.checkIfProceedingsFromExists" class="md-nav__link">
    <span class="md-ellipsis">
      checkIfProceedingsFromExists
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.doAddEventToWikidata" class="md-nav__link">
    <span class="md-ellipsis">
      doAddEventToWikidata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.doAddProceedingsToWikidata" class="md-nav__link">
    <span class="md-ellipsis">
      doAddProceedingsToWikidata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.doCreateEventItemAndLinkProceedings" class="md-nav__link">
    <span class="md-ellipsis">
      doCreateEventItemAndLinkProceedings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.from_args" class="md-nav__link">
    <span class="md-ellipsis">
      from_args
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.from_endpoint_names" class="md-nav__link">
    <span class="md-ellipsis">
      from_endpoint_names
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getAuthorByIds" class="md-nav__link">
    <span class="md-ellipsis">
      getAuthorByIds
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getEventNameFromTitle" class="md-nav__link">
    <span class="md-ellipsis">
      getEventNameFromTitle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getEventTypeFromTitle" class="md-nav__link">
    <span class="md-ellipsis">
      getEventTypeFromTitle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getEventWdItemsByUrn" class="md-nav__link">
    <span class="md-ellipsis">
      getEventWdItemsByUrn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getEventsOfProceedings" class="md-nav__link">
    <span class="md-ellipsis">
      getEventsOfProceedings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getEventsOfProceedingsByVolnumber" class="md-nav__link">
    <span class="md-ellipsis">
      getEventsOfProceedingsByVolnumber
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getProceedingWdItemsByUrn" class="md-nav__link">
    <span class="md-ellipsis">
      getProceedingWdItemsByUrn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getProceedingsForVolume" class="md-nav__link">
    <span class="md-ellipsis">
      getProceedingsForVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getRecentlyAddedVolumeList" class="md-nav__link">
    <span class="md-ellipsis">
      getRecentlyAddedVolumeList
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getWikidataEventRecord" class="md-nav__link">
    <span class="md-ellipsis">
      getWikidataEventRecord
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getWikidataIdByDblpEventId" class="md-nav__link">
    <span class="md-ellipsis">
      getWikidataIdByDblpEventId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getWikidataIdByVolumeNumber" class="md-nav__link">
    <span class="md-ellipsis">
      getWikidataIdByVolumeNumber
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getWikidataProceedingsRecord" class="md-nav__link">
    <span class="md-ellipsis">
      getWikidataProceedingsRecord
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.hasItemPropertyValueFor" class="md-nav__link">
    <span class="md-ellipsis">
      hasItemPropertyValueFor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.loadProceedingsFromCache" class="md-nav__link">
    <span class="md-ellipsis">
      loadProceedingsFromCache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.preparePaperManager" class="md-nav__link">
    <span class="md-ellipsis">
      preparePaperManager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.prepareVolumeManager" class="md-nav__link">
    <span class="md-ellipsis">
      prepareVolumeManager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.removeWdPrefix" class="md-nav__link">
    <span class="md-ellipsis">
      removeWdPrefix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.storeVolumes" class="md-nav__link">
    <span class="md-ellipsis">
      storeVolumes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.update" class="md-nav__link">
    <span class="md-ellipsis">
      update
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.workshop" class="md-nav__link">
    <span class="md-ellipsis">
      workshop
    </span>
  </a>
  
    <nav class="md-nav" aria-label="workshop">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.workshop.Workshop" class="md-nav__link">
    <span class="md-ellipsis">
      Workshop
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Workshop">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.workshop.Workshop.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ceurws" class="md-nav__link">
    <span class="md-ellipsis">
      ceurws
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.ceur_ws" class="md-nav__link">
    <span class="md-ellipsis">
      ceur_ws
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ceur_ws">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Conference" class="md-nav__link">
    <span class="md-ellipsis">
      Conference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Conference.getSamples" class="md-nav__link">
    <span class="md-ellipsis">
      getSamples
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.ConferenceManager" class="md-nav__link">
    <span class="md-ellipsis">
      ConferenceManager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Editor" class="md-nav__link">
    <span class="md-ellipsis">
      Editor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Editor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Editor.getSamples" class="md-nav__link">
    <span class="md-ellipsis">
      getSamples
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.EditorManager" class="md-nav__link">
    <span class="md-ellipsis">
      EditorManager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Paper" class="md-nav__link">
    <span class="md-ellipsis">
      Paper
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Paper">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Paper.__str__" class="md-nav__link">
    <span class="md-ellipsis">
      __str__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Paper.getSamples" class="md-nav__link">
    <span class="md-ellipsis">
      getSamples
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.PaperManager" class="md-nav__link">
    <span class="md-ellipsis">
      PaperManager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Session" class="md-nav__link">
    <span class="md-ellipsis">
      Session
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Session">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Session.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Session.getSamples" class="md-nav__link">
    <span class="md-ellipsis">
      getSamples
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.SessionManager" class="md-nav__link">
    <span class="md-ellipsis">
      SessionManager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume" class="md-nav__link">
    <span class="md-ellipsis">
      Volume
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Volume">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.papers" class="md-nav__link">
    <span class="md-ellipsis">
      papers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.sessions" class="md-nav__link">
    <span class="md-ellipsis">
      sessions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.extractAndSetLocation" class="md-nav__link">
    <span class="md-ellipsis">
      extractAndSetLocation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.extractDates" class="md-nav__link">
    <span class="md-ellipsis">
      extractDates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.extractValuesFromVolumePage" class="md-nav__link">
    <span class="md-ellipsis">
      extractValuesFromVolumePage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.getSubmittingEditor" class="md-nav__link">
    <span class="md-ellipsis">
      getSubmittingEditor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.getVolumeNumber" class="md-nav__link">
    <span class="md-ellipsis">
      getVolumeNumber
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.getVolumeUrl" class="md-nav__link">
    <span class="md-ellipsis">
      getVolumeUrl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.getVolumeUrlOf" class="md-nav__link">
    <span class="md-ellipsis">
      getVolumeUrlOf
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.get_loctime" class="md-nav__link">
    <span class="md-ellipsis">
      get_loctime
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.isVirtualEvent" class="md-nav__link">
    <span class="md-ellipsis">
      isVirtualEvent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.normalize" class="md-nav__link">
    <span class="md-ellipsis">
      normalize
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.rankLocations" class="md-nav__link">
    <span class="md-ellipsis">
      rankLocations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.removePartsMatching" class="md-nav__link">
    <span class="md-ellipsis">
      removePartsMatching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.Volume.resolveLoctime" class="md-nav__link">
    <span class="md-ellipsis">
      resolveLoctime
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.VolumeManager" class="md-nav__link">
    <span class="md-ellipsis">
      VolumeManager
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VolumeManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.VolumeManager.getIndexHtml" class="md-nav__link">
    <span class="md-ellipsis">
      getIndexHtml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.VolumeManager.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.VolumeManager.loadFromBackup" class="md-nav__link">
    <span class="md-ellipsis">
      loadFromBackup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.VolumeManager.loadFromIndexHtml" class="md-nav__link">
    <span class="md-ellipsis">
      loadFromIndexHtml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.VolumeManager.recreate" class="md-nav__link">
    <span class="md-ellipsis">
      recreate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.VolumeManager.update" class="md-nav__link">
    <span class="md-ellipsis">
      update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws.VolumeManager.update_or_recreate" class="md-nav__link">
    <span class="md-ellipsis">
      update_or_recreate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.ceur_ws_web_cmd" class="md-nav__link">
    <span class="md-ellipsis">
      ceur_ws_web_cmd
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ceur_ws_web_cmd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws_web_cmd.CeurWsCmd" class="md-nav__link">
    <span class="md-ellipsis">
      CeurWsCmd
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CeurWsCmd">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws_web_cmd.CeurWsCmd.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws_web_cmd.CeurWsCmd.getArgParser" class="md-nav__link">
    <span class="md-ellipsis">
      getArgParser
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws_web_cmd.CeurWsCmd.handle_args" class="md-nav__link">
    <span class="md-ellipsis">
      handle_args
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.ceur_ws_web_cmd.main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.config" class="md-nav__link">
    <span class="md-ellipsis">
      config
    </span>
  </a>
  
    <nav class="md-nav" aria-label="config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.config.CEURWS" class="md-nav__link">
    <span class="md-ellipsis">
      CEURWS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CEURWS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.config.CEURWS.get_home_path" class="md-nav__link">
    <span class="md-ellipsis">
      get_home_path
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.dblp" class="md-nav__link">
    <span class="md-ellipsis">
      dblp
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dblp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpAuthorIdentifier" class="md-nav__link">
    <span class="md-ellipsis">
      DblpAuthorIdentifier
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DblpAuthorIdentifier">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpAuthorIdentifier.all" class="md-nav__link">
    <span class="md-ellipsis">
      all
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpAuthorIdentifier.getAllAsMap" class="md-nav__link">
    <span class="md-ellipsis">
      getAllAsMap
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpAuthorIdentifier.getWikidataIdQueryPart" class="md-nav__link">
    <span class="md-ellipsis">
      getWikidataIdQueryPart
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpAuthors" class="md-nav__link">
    <span class="md-ellipsis">
      DblpAuthors
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DblpAuthors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpAuthors.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEditors" class="md-nav__link">
    <span class="md-ellipsis">
      DblpEditors
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DblpEditors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEditors.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint" class="md-nav__link">
    <span class="md-ellipsis">
      DblpEndpoint
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DblpEndpoint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.convertEntityIdToUrlId" class="md-nav__link">
    <span class="md-ellipsis">
      convertEntityIdToUrlId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.getDblpIdByVolumeNumber" class="md-nav__link">
    <span class="md-ellipsis">
      getDblpIdByVolumeNumber
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.getDblpUrlByDblpId" class="md-nav__link">
    <span class="md-ellipsis">
      getDblpUrlByDblpId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.getEditorsOfVolume" class="md-nav__link">
    <span class="md-ellipsis">
      getEditorsOfVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.get_ceur_proceeding" class="md-nav__link">
    <span class="md-ellipsis">
      get_ceur_proceeding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.get_ceur_volume_papers" class="md-nav__link">
    <span class="md-ellipsis">
      get_ceur_volume_papers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.get_lod" class="md-nav__link">
    <span class="md-ellipsis">
      get_lod
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.load_all" class="md-nav__link">
    <span class="md-ellipsis">
      load_all
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpEndpoint.toDblpUrl" class="md-nav__link">
    <span class="md-ellipsis">
      toDblpUrl
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpManager" class="md-nav__link">
    <span class="md-ellipsis">
      DblpManager
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DblpManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpManager.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpManager.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpPapers" class="md-nav__link">
    <span class="md-ellipsis">
      DblpPapers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DblpPapers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpPapers.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpVolumes" class="md-nav__link">
    <span class="md-ellipsis">
      DblpVolumes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DblpVolumes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.dblp.DblpVolumes.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.indexparser" class="md-nav__link">
    <span class="md-ellipsis">
      indexparser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="indexparser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser" class="md-nav__link">
    <span class="md-ellipsis">
      IndexHtmlParser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IndexHtmlParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.find" class="md-nav__link">
    <span class="md-ellipsis">
      find
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.findVolume" class="md-nav__link">
    <span class="md-ellipsis">
      findVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.getInfo" class="md-nav__link">
    <span class="md-ellipsis">
      getInfo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.parse" class="md-nav__link">
    <span class="md-ellipsis">
      parse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.parseVolume" class="md-nav__link">
    <span class="md-ellipsis">
      parseVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.setSeeAlsoVolumes" class="md-nav__link">
    <span class="md-ellipsis">
      setSeeAlsoVolumes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.setVolumeName" class="md-nav__link">
    <span class="md-ellipsis">
      setVolumeName
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.setVolumeNumber" class="md-nav__link">
    <span class="md-ellipsis">
      setVolumeNumber
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.IndexHtmlParser.setVolumeTitle" class="md-nav__link">
    <span class="md-ellipsis">
      setVolumeTitle
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.ParserConfig" class="md-nav__link">
    <span class="md-ellipsis">
      ParserConfig
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ParserConfig">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.indexparser.ParserConfig.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.location" class="md-nav__link">
    <span class="md-ellipsis">
      location
    </span>
  </a>
  
    <nav class="md-nav" aria-label="location">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.location.LocationLookup" class="md-nav__link">
    <span class="md-ellipsis">
      LocationLookup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LocationLookup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.location.LocationLookup.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.location.LocationLookup.getCityByWikiDataId" class="md-nav__link">
    <span class="md-ellipsis">
      getCityByWikiDataId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.location.LocationLookup.initPredefinedLocations" class="md-nav__link">
    <span class="md-ellipsis">
      initPredefinedLocations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.location.LocationLookup.lookup" class="md-nav__link">
    <span class="md-ellipsis">
      lookup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.location.LocationLookup.lookupGeograpy" class="md-nav__link">
    <span class="md-ellipsis">
      lookupGeograpy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.location.LocationLookup.lookupNominatim" class="md-nav__link">
    <span class="md-ellipsis">
      lookupNominatim
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.loctime" class="md-nav__link">
    <span class="md-ellipsis">
      loctime
    </span>
  </a>
  
    <nav class="md-nav" aria-label="loctime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser" class="md-nav__link">
    <span class="md-ellipsis">
      LoctimeParser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LoctimeParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser.create_pareto_analysis" class="md-nav__link">
    <span class="md-ellipsis">
      create_pareto_analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser.get_parts" class="md-nav__link">
    <span class="md-ellipsis">
      get_parts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser.load" class="md-nav__link">
    <span class="md-ellipsis">
      load
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser.parse" class="md-nav__link">
    <span class="md-ellipsis">
      parse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser.save" class="md-nav__link">
    <span class="md-ellipsis">
      save
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser.setup" class="md-nav__link">
    <span class="md-ellipsis">
      setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.LoctimeParser.update_lookup_counts" class="md-nav__link">
    <span class="md-ellipsis">
      update_lookup_counts
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.PercentageTable" class="md-nav__link">
    <span class="md-ellipsis">
      PercentageTable
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PercentageTable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.PercentageTable.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.PercentageTable.add_value" class="md-nav__link">
    <span class="md-ellipsis">
      add_value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.loctime.PercentageTable.generate_table" class="md-nav__link">
    <span class="md-ellipsis">
      generate_table
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.models" class="md-nav__link">
    <span class="md-ellipsis">
      models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.models.ceur" class="md-nav__link">
    <span class="md-ellipsis">
      ceur
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ceur">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.models.ceur.Paper" class="md-nav__link">
    <span class="md-ellipsis">
      Paper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.ceur.Volume" class="md-nav__link">
    <span class="md-ellipsis">
      Volume
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp" class="md-nav__link">
    <span class="md-ellipsis">
      dblp
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dblp">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp.DblpPaper" class="md-nav__link">
    <span class="md-ellipsis">
      DblpPaper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp.DblpProceeding" class="md-nav__link">
    <span class="md-ellipsis">
      DblpProceeding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp.DblpScholar" class="md-nav__link">
    <span class="md-ellipsis">
      DblpScholar
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp2" class="md-nav__link">
    <span class="md-ellipsis">
      dblp2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dblp2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp2.Authorship" class="md-nav__link">
    <span class="md-ellipsis">
      Authorship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp2.Editorship" class="md-nav__link">
    <span class="md-ellipsis">
      Editorship
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp2.Paper" class="md-nav__link">
    <span class="md-ellipsis">
      Paper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp2.Proceeding" class="md-nav__link">
    <span class="md-ellipsis">
      Proceeding
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.models.dblp2.Scholar" class="md-nav__link">
    <span class="md-ellipsis">
      Scholar
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.namedqueries" class="md-nav__link">
    <span class="md-ellipsis">
      namedqueries
    </span>
  </a>
  
    <nav class="md-nav" aria-label="namedqueries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.namedqueries.NamedQueries" class="md-nav__link">
    <span class="md-ellipsis">
      NamedQueries
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NamedQueries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.namedqueries.NamedQueries.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.namedqueries.NamedQueries.query" class="md-nav__link">
    <span class="md-ellipsis">
      query
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.namedqueries.NamedQueries.toQueryManager" class="md-nav__link">
    <span class="md-ellipsis">
      toQueryManager
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.papertocparser" class="md-nav__link">
    <span class="md-ellipsis">
      papertocparser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="papertocparser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.papertocparser.PaperTocParser" class="md-nav__link">
    <span class="md-ellipsis">
      PaperTocParser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PaperTocParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.papertocparser.PaperTocParser.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.papertocparser.PaperTocParser.parsePapers" class="md-nav__link">
    <span class="md-ellipsis">
      parsePapers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.services" class="md-nav__link">
    <span class="md-ellipsis">
      services
    </span>
  </a>
  
    <nav class="md-nav" aria-label="services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing" class="md-nav__link">
    <span class="md-ellipsis">
      entity_fishing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="entity_fishing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing" class="md-nav__link">
    <span class="md-ellipsis">
      CeurEntityFishing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CeurEntityFishing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      __call__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.concept_look_up_batch" class="md-nav__link">
    <span class="md-ellipsis">
      concept_look_up_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.disambiguate_text_batch" class="md-nav__link">
    <span class="md-ellipsis">
      disambiguate_text_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.generic_client_batch" class="md-nav__link">
    <span class="md-ellipsis">
      generic_client_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.look_extra_informations_on_entity" class="md-nav__link">
    <span class="md-ellipsis">
      look_extra_informations_on_entity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.main_disambiguation_process_batch" class="md-nav__link">
    <span class="md-ellipsis">
      main_disambiguation_process_batch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.pipe" class="md-nav__link">
    <span class="md-ellipsis">
      pipe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.prepare_data" class="md-nav__link">
    <span class="md-ellipsis">
      prepare_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.process_response" class="md-nav__link">
    <span class="md-ellipsis">
      process_response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.process_single_doc_after_call" class="md-nav__link">
    <span class="md-ellipsis">
      process_single_doc_after_call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.entity_fishing.CeurEntityFishing.updated_entities" class="md-nav__link">
    <span class="md-ellipsis">
      updated_entities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.opentapioca" class="md-nav__link">
    <span class="md-ellipsis">
      opentapioca
    </span>
  </a>
  
    <nav class="md-nav" aria-label="opentapioca">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.services.opentapioca.EntityLinker" class="md-nav__link">
    <span class="md-ellipsis">
      EntityLinker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EntityLinker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.services.opentapioca.EntityLinker.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      __call__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.opentapioca.EntityLinker.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.services.opentapioca.EntityLinker.pipe" class="md-nav__link">
    <span class="md-ellipsis">
      pipe
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.sql_cache" class="md-nav__link">
    <span class="md-ellipsis">
      sql_cache
    </span>
  </a>
  
    <nav class="md-nav" aria-label="sql_cache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.Cached" class="md-nav__link">
    <span class="md-ellipsis">
      Cached
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cached">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.Cached.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.Cached.check_local_cache" class="md-nav__link">
    <span class="md-ellipsis">
      check_local_cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.Cached.fetch_from_local" class="md-nav__link">
    <span class="md-ellipsis">
      fetch_from_local
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.Cached.fetch_or_query" class="md-nav__link">
    <span class="md-ellipsis">
      fetch_or_query
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.Cached.get_lod" class="md-nav__link">
    <span class="md-ellipsis">
      get_lod
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.Cached.store" class="md-nav__link">
    <span class="md-ellipsis">
      store
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.Cached.to_entities" class="md-nav__link">
    <span class="md-ellipsis">
      to_entities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.SqlDB" class="md-nav__link">
    <span class="md-ellipsis">
      SqlDB
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SqlDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.sql_cache.SqlDB.get_session" class="md-nav__link">
    <span class="md-ellipsis">
      get_session
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.textparser" class="md-nav__link">
    <span class="md-ellipsis">
      textparser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="textparser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.textparser.Textparser" class="md-nav__link">
    <span class="md-ellipsis">
      Textparser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Textparser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.textparser.Textparser.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.textparser.Textparser.getMatch" class="md-nav__link">
    <span class="md-ellipsis">
      getMatch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.textparser.Textparser.hasValue" class="md-nav__link">
    <span class="md-ellipsis">
      hasValue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.textparser.Textparser.log" class="md-nav__link">
    <span class="md-ellipsis">
      log
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.textparser.Textparser.sanitize" class="md-nav__link">
    <span class="md-ellipsis">
      sanitize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.urn" class="md-nav__link">
    <span class="md-ellipsis">
      urn
    </span>
  </a>
  
    <nav class="md-nav" aria-label="urn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.urn.URN" class="md-nav__link">
    <span class="md-ellipsis">
      URN
    </span>
  </a>
  
    <nav class="md-nav" aria-label="URN">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.urn.URN.calc_urn_checksum" class="md-nav__link">
    <span class="md-ellipsis">
      calc_urn_checksum
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.utils" class="md-nav__link">
    <span class="md-ellipsis">
      utils
    </span>
  </a>
  
    <nav class="md-nav" aria-label="utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.download" class="md-nav__link">
    <span class="md-ellipsis">
      download
    </span>
  </a>
  
    <nav class="md-nav" aria-label="download">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.download.Download" class="md-nav__link">
    <span class="md-ellipsis">
      Download
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Download">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.download.Download.downloadBackupFile" class="md-nav__link">
    <span class="md-ellipsis">
      downloadBackupFile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.download.Download.needsDownload" class="md-nav__link">
    <span class="md-ellipsis">
      needsDownload
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.download.Profiler" class="md-nav__link">
    <span class="md-ellipsis">
      Profiler
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Profiler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.download.Profiler.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.download.Profiler.time" class="md-nav__link">
    <span class="md-ellipsis">
      time
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape" class="md-nav__link">
    <span class="md-ellipsis">
      webscrape
    </span>
  </a>
  
    <nav class="md-nav" aria-label="webscrape">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.ScrapeDescription" class="md-nav__link">
    <span class="md-ellipsis">
      ScrapeDescription
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape" class="md-nav__link">
    <span class="md-ellipsis">
      WebScrape
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebScrape">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.findLinkForRegexp" class="md-nav__link">
    <span class="md-ellipsis">
      findLinkForRegexp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.fromTag" class="md-nav__link">
    <span class="md-ellipsis">
      fromTag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.getSoup" class="md-nav__link">
    <span class="md-ellipsis">
      getSoup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.get_html_from_url" class="md-nav__link">
    <span class="md-ellipsis">
      get_html_from_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.get_soup_from_string" class="md-nav__link">
    <span class="md-ellipsis">
      get_soup_from_string
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.parseRDFa" class="md-nav__link">
    <span class="md-ellipsis">
      parseRDFa
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.parseWithScrapeDescription" class="md-nav__link">
    <span class="md-ellipsis">
      parseWithScrapeDescription
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.utils.webscrape.WebScrape.printPrettyHtml" class="md-nav__link">
    <span class="md-ellipsis">
      printPrettyHtml
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.version" class="md-nav__link">
    <span class="md-ellipsis">
      version
    </span>
  </a>
  
    <nav class="md-nav" aria-label="version">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.version.Version" class="md-nav__link">
    <span class="md-ellipsis">
      Version
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.view" class="md-nav__link">
    <span class="md-ellipsis">
      view
    </span>
  </a>
  
    <nav class="md-nav" aria-label="view">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.view.View" class="md-nav__link">
    <span class="md-ellipsis">
      View
    </span>
  </a>
  
    <nav class="md-nav" aria-label="View">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.view.View.createExternalLink" class="md-nav__link">
    <span class="md-ellipsis">
      createExternalLink
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.view.View.createItemLink" class="md-nav__link">
    <span class="md-ellipsis">
      createItemLink
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.view.View.createLink" class="md-nav__link">
    <span class="md-ellipsis">
      createLink
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j" class="md-nav__link">
    <span class="md-ellipsis">
      volume_neo4j
    </span>
  </a>
  
    <nav class="md-nav" aria-label="volume_neo4j">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Editor" class="md-nav__link">
    <span class="md-ellipsis">
      Editor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Editor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Editor.create_node" class="md-nav__link">
    <span class="md-ellipsis">
      create_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Editor.from_json" class="md-nav__link">
    <span class="md-ellipsis">
      from_json
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Editor.search_by_name" class="md-nav__link">
    <span class="md-ellipsis">
      search_by_name
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Location" class="md-nav__link">
    <span class="md-ellipsis">
      Location
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Location">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Location.parse" class="md-nav__link">
    <span class="md-ellipsis">
      parse
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Neo4j" class="md-nav__link">
    <span class="md-ellipsis">
      Neo4j
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Neo4j">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Neo4j.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Volume" class="md-nav__link">
    <span class="md-ellipsis">
      Volume
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Volume">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Volume.create_node" class="md-nav__link">
    <span class="md-ellipsis">
      create_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Volume.default_source" class="md-nav__link">
    <span class="md-ellipsis">
      default_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Volume.from_json" class="md-nav__link">
    <span class="md-ellipsis">
      from_json
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Volume.load_json_file" class="md-nav__link">
    <span class="md-ellipsis">
      load_json_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_neo4j.Volume.parse_args" class="md-nav__link">
    <span class="md-ellipsis">
      parse_args
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.volume_view" class="md-nav__link">
    <span class="md-ellipsis">
      volume_view
    </span>
  </a>
  
    <nav class="md-nav" aria-label="volume_view">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView" class="md-nav__link">
    <span class="md-ellipsis">
      VolumeListView
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VolumeListView">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.add_msg" class="md-nav__link">
    <span class="md-ellipsis">
      add_msg
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.add_or_update_volume_in_wikidata" class="md-nav__link">
    <span class="md-ellipsis">
      add_or_update_volume_in_wikidata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.check_recently_updated_volumes" class="md-nav__link">
    <span class="md-ellipsis">
      check_recently_updated_volumes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.clear_msg" class="md-nav__link">
    <span class="md-ellipsis">
      clear_msg
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.createEventItemAndLinkProceedings" class="md-nav__link">
    <span class="md-ellipsis">
      createEventItemAndLinkProceedings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.createProceedingsItemFromVolume" class="md-nav__link">
    <span class="md-ellipsis">
      createProceedingsItemFromVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.get_volume_lod" class="md-nav__link">
    <span class="md-ellipsis">
      get_volume_lod
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.onWikidataButtonClick" class="md-nav__link">
    <span class="md-ellipsis">
      onWikidataButtonClick
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.on_check_recently_update_volumes_button_click" class="md-nav__link">
    <span class="md-ellipsis">
      on_check_recently_update_volumes_button_click
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.optional_login" class="md-nav__link">
    <span class="md-ellipsis">
      optional_login
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.setup_ui" class="md-nav__link">
    <span class="md-ellipsis">
      setup_ui
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.updateRecentlyAddedVolume" class="md-nav__link">
    <span class="md-ellipsis">
      updateRecentlyAddedVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeListView.updateWikidataVolumes" class="md-nav__link">
    <span class="md-ellipsis">
      updateWikidataVolumes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeView" class="md-nav__link">
    <span class="md-ellipsis">
      VolumeView
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VolumeView">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeView.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeView.onWikidataButtonClick" class="md-nav__link">
    <span class="md-ellipsis">
      onWikidataButtonClick
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeView.setup_ui" class="md-nav__link">
    <span class="md-ellipsis">
      setup_ui
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeView.showVolume" class="md-nav__link">
    <span class="md-ellipsis">
      showVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volume_view.VolumeView.updateWikidataSpan" class="md-nav__link">
    <span class="md-ellipsis">
      updateWikidataSpan
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.volumeparser" class="md-nav__link">
    <span class="md-ellipsis">
      volumeparser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="volumeparser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumePageCache" class="md-nav__link">
    <span class="md-ellipsis">
      VolumePageCache
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VolumePageCache">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumePageCache.cache" class="md-nav__link">
    <span class="md-ellipsis">
      cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumePageCache.delete" class="md-nav__link">
    <span class="md-ellipsis">
      delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumePageCache.get" class="md-nav__link">
    <span class="md-ellipsis">
      get
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumePageCache.is_cached" class="md-nav__link">
    <span class="md-ellipsis">
      is_cached
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser" class="md-nav__link">
    <span class="md-ellipsis">
      VolumeParser
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VolumeParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.check_parsed_dict" class="md-nav__link">
    <span class="md-ellipsis">
      check_parsed_dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.getSoup" class="md-nav__link">
    <span class="md-ellipsis">
      getSoup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.get_volume_page" class="md-nav__link">
    <span class="md-ellipsis">
      get_volume_page
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.get_volume_soup" class="md-nav__link">
    <span class="md-ellipsis">
      get_volume_soup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.parse" class="md-nav__link">
    <span class="md-ellipsis">
      parse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.parseAffiliationMap" class="md-nav__link">
    <span class="md-ellipsis">
      parseAffiliationMap
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.parseEditors" class="md-nav__link">
    <span class="md-ellipsis">
      parseEditors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.parseRDFa" class="md-nav__link">
    <span class="md-ellipsis">
      parseRDFa
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.parse_soup" class="md-nav__link">
    <span class="md-ellipsis">
      parse_soup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.parse_volume" class="md-nav__link">
    <span class="md-ellipsis">
      parse_volume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.volumeparser.VolumeParser.volumeUrl" class="md-nav__link">
    <span class="md-ellipsis">
      volumeUrl
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.webserver" class="md-nav__link">
    <span class="md-ellipsis">
      webserver
    </span>
  </a>
  
    <nav class="md-nav" aria-label="webserver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsSolution" class="md-nav__link">
    <span class="md-ellipsis">
      CeurWsSolution
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CeurWsSolution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsSolution.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsSolution.home" class="md-nav__link">
    <span class="md-ellipsis">
      home
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsSolution.prepare_ui" class="md-nav__link">
    <span class="md-ellipsis">
      prepare_ui
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsSolution.volume_selected" class="md-nav__link">
    <span class="md-ellipsis">
      volume_selected
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsSolution.volumes" class="md-nav__link">
    <span class="md-ellipsis">
      volumes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsSolution.wikidatasync" class="md-nav__link">
    <span class="md-ellipsis">
      wikidatasync
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsWebServer" class="md-nav__link">
    <span class="md-ellipsis">
      CeurWsWebServer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CeurWsWebServer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsWebServer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.webserver.CeurWsWebServer.configure_run" class="md-nav__link">
    <span class="md-ellipsis">
      configure_run
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.wikidata_view" class="md-nav__link">
    <span class="md-ellipsis">
      wikidata_view
    </span>
  </a>
  
    <nav class="md-nav" aria-label="wikidata_view">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidata_view.WikidataView" class="md-nav__link">
    <span class="md-ellipsis">
      WikidataView
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WikidataView">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidata_view.WikidataView.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidata_view.WikidataView.on_refresh_button_click" class="md-nav__link">
    <span class="md-ellipsis">
      on_refresh_button_click
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidata_view.WikidataView.reload_aggrid" class="md-nav__link">
    <span class="md-ellipsis">
      reload_aggrid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidata_view.WikidataView.setup_ui" class="md-nav__link">
    <span class="md-ellipsis">
      setup_ui
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidata_view.WikidataView.update_proceedings" class="md-nav__link">
    <span class="md-ellipsis">
      update_proceedings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.wikidatasync" class="md-nav__link">
    <span class="md-ellipsis">
      wikidatasync
    </span>
  </a>
  
    <nav class="md-nav" aria-label="wikidatasync">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync" class="md-nav__link">
    <span class="md-ellipsis">
      WikidataSync
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WikidataSync">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.addAcronymToItem" class="md-nav__link">
    <span class="md-ellipsis">
      addAcronymToItem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.addDblpPublicationId" class="md-nav__link">
    <span class="md-ellipsis">
      addDblpPublicationId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.addLinkBetweenProceedingsAndEvent" class="md-nav__link">
    <span class="md-ellipsis">
      addLinkBetweenProceedingsAndEvent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.addOfficialWebsiteToItem" class="md-nav__link">
    <span class="md-ellipsis">
      addOfficialWebsiteToItem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.addProceedingsToWikidata" class="md-nav__link">
    <span class="md-ellipsis">
      addProceedingsToWikidata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.addVolume" class="md-nav__link">
    <span class="md-ellipsis">
      addVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.checkIfProceedingsFromExists" class="md-nav__link">
    <span class="md-ellipsis">
      checkIfProceedingsFromExists
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.doAddEventToWikidata" class="md-nav__link">
    <span class="md-ellipsis">
      doAddEventToWikidata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.doAddProceedingsToWikidata" class="md-nav__link">
    <span class="md-ellipsis">
      doAddProceedingsToWikidata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.doCreateEventItemAndLinkProceedings" class="md-nav__link">
    <span class="md-ellipsis">
      doCreateEventItemAndLinkProceedings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.from_args" class="md-nav__link">
    <span class="md-ellipsis">
      from_args
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.from_endpoint_names" class="md-nav__link">
    <span class="md-ellipsis">
      from_endpoint_names
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getAuthorByIds" class="md-nav__link">
    <span class="md-ellipsis">
      getAuthorByIds
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getEventNameFromTitle" class="md-nav__link">
    <span class="md-ellipsis">
      getEventNameFromTitle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getEventTypeFromTitle" class="md-nav__link">
    <span class="md-ellipsis">
      getEventTypeFromTitle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getEventWdItemsByUrn" class="md-nav__link">
    <span class="md-ellipsis">
      getEventWdItemsByUrn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getEventsOfProceedings" class="md-nav__link">
    <span class="md-ellipsis">
      getEventsOfProceedings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getEventsOfProceedingsByVolnumber" class="md-nav__link">
    <span class="md-ellipsis">
      getEventsOfProceedingsByVolnumber
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getProceedingWdItemsByUrn" class="md-nav__link">
    <span class="md-ellipsis">
      getProceedingWdItemsByUrn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getProceedingsForVolume" class="md-nav__link">
    <span class="md-ellipsis">
      getProceedingsForVolume
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getRecentlyAddedVolumeList" class="md-nav__link">
    <span class="md-ellipsis">
      getRecentlyAddedVolumeList
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getWikidataEventRecord" class="md-nav__link">
    <span class="md-ellipsis">
      getWikidataEventRecord
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getWikidataIdByDblpEventId" class="md-nav__link">
    <span class="md-ellipsis">
      getWikidataIdByDblpEventId
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getWikidataIdByVolumeNumber" class="md-nav__link">
    <span class="md-ellipsis">
      getWikidataIdByVolumeNumber
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.getWikidataProceedingsRecord" class="md-nav__link">
    <span class="md-ellipsis">
      getWikidataProceedingsRecord
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.hasItemPropertyValueFor" class="md-nav__link">
    <span class="md-ellipsis">
      hasItemPropertyValueFor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.loadProceedingsFromCache" class="md-nav__link">
    <span class="md-ellipsis">
      loadProceedingsFromCache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.preparePaperManager" class="md-nav__link">
    <span class="md-ellipsis">
      preparePaperManager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.prepareVolumeManager" class="md-nav__link">
    <span class="md-ellipsis">
      prepareVolumeManager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.removeWdPrefix" class="md-nav__link">
    <span class="md-ellipsis">
      removeWdPrefix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.storeVolumes" class="md-nav__link">
    <span class="md-ellipsis">
      storeVolumes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceurws.wikidatasync.WikidataSync.update" class="md-nav__link">
    <span class="md-ellipsis">
      update
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ceurws.workshop" class="md-nav__link">
    <span class="md-ellipsis">
      workshop
    </span>
  </a>
  
    <nav class="md-nav" aria-label="workshop">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.workshop.Workshop" class="md-nav__link">
    <span class="md-ellipsis">
      Workshop
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Workshop">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ceurws.workshop.Workshop.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="pyceurmake-api-documentation">pyCEURmake API Documentation</h1>


<div class="doc doc-object doc-module">



<a id="ceurws"></a>
    <div class="doc doc-contents first">



  <div class="doc doc-children">










<div class="doc doc-object doc-module">



<h2 id="ceurws.ceur_ws" class="doc doc-heading">
            <code>ceur_ws</code>


</h2>

    <div class="doc doc-contents ">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.ceur_ws.Conference" class="doc doc-heading">
            <code>Conference</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="lodstorage.jsonable.JSONAble">JSONAble</span></code></p>


      <p>Represents a conference</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Conference</span><span class="p">(</span><span class="n">JSONAble</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a conference</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">getSamples</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get sample records of the entity</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">samples</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Vol-2436&quot;</span><span class="p">,</span>
                <span class="s2">&quot;fullTitle&quot;</span><span class="p">:</span> <span class="s2">&quot;SIAM International Conference on Data Mining&quot;</span><span class="p">,</span>
                <span class="s2">&quot;homepage&quot;</span><span class="p">:</span> <span class="s2">&quot;https://www.siam.org/Conferences/CM/Main/sdm19&quot;</span><span class="p">,</span>
                <span class="s2">&quot;acronym&quot;</span><span class="p">:</span> <span class="s2">&quot;SDM 2019&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">samples</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Conference.getSamples" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getSamples</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>get sample records of the entity</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">getSamples</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get sample records of the entity</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">samples</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Vol-2436&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fullTitle&quot;</span><span class="p">:</span> <span class="s2">&quot;SIAM International Conference on Data Mining&quot;</span><span class="p">,</span>
            <span class="s2">&quot;homepage&quot;</span><span class="p">:</span> <span class="s2">&quot;https://www.siam.org/Conferences/CM/Main/sdm19&quot;</span><span class="p">,</span>
            <span class="s2">&quot;acronym&quot;</span><span class="p">:</span> <span class="s2">&quot;SDM 2019&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">]</span>
    <span class="k">return</span> <span class="n">samples</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.ceur_ws.ConferenceManager" class="doc doc-heading">
            <code>ConferenceManager</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="lodstorage.entity.EntityManager">EntityManager</span></code></p>


      <p>Contains multiple ceurws sessions</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ConferenceManager</span><span class="p">(</span><span class="n">EntityManager</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Contains multiple ceurws sessions</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">listName</span><span class="o">=</span><span class="s2">&quot;conferences&quot;</span><span class="p">,</span>
            <span class="n">clazz</span><span class="o">=</span><span class="n">Conference</span><span class="p">,</span>
            <span class="n">tableName</span><span class="o">=</span><span class="s2">&quot;conferences&quot;</span><span class="p">,</span>
            <span class="n">entityName</span><span class="o">=</span><span class="n">Conference</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">primaryKey</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
            <span class="n">entityPluralName</span><span class="o">=</span><span class="s2">&quot;conferences&quot;</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">CEURWS</span><span class="o">.</span><span class="n">CONFIG</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.ceur_ws.Editor" class="doc doc-heading">
            <code>Editor</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="lodstorage.jsonable.JSONAble">JSONAble</span></code></p>


      <p>Represents a volume editor</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Editor</span><span class="p">(</span><span class="n">JSONAble</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a volume editor</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">getSamples</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get sample records of the entity</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">samples</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Vol-2436/John Doe&quot;</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;John Doe&quot;</span><span class="p">,</span>
                <span class="s2">&quot;homepage&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.example.org/john&quot;</span><span class="p">,</span>
                <span class="s2">&quot;country&quot;</span><span class="p">:</span> <span class="s2">&quot;Germany&quot;</span><span class="p">,</span>
                <span class="s2">&quot;affiliation&quot;</span><span class="p">:</span> <span class="s2">&quot;Leibniz University Hannover &amp; L3S Research Center&quot;</span><span class="p">,</span>
                <span class="s2">&quot;submitted&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Vol-2436/Jane Doe&quot;</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Jane Doe&quot;</span><span class="p">,</span>
                <span class="s2">&quot;homepage&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.example.org/jane&quot;</span><span class="p">,</span>
                <span class="s2">&quot;country&quot;</span><span class="p">:</span> <span class="s2">&quot;Germany&quot;</span><span class="p">,</span>
                <span class="s2">&quot;affiliation&quot;</span><span class="p">:</span> <span class="s2">&quot;Technical University Dortmund&quot;</span><span class="p">,</span>
                <span class="s2">&quot;submitted&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">samples</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Editor.getSamples" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getSamples</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>get sample records of the entity</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">getSamples</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get sample records of the entity</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">samples</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Vol-2436/John Doe&quot;</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;John Doe&quot;</span><span class="p">,</span>
            <span class="s2">&quot;homepage&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.example.org/john&quot;</span><span class="p">,</span>
            <span class="s2">&quot;country&quot;</span><span class="p">:</span> <span class="s2">&quot;Germany&quot;</span><span class="p">,</span>
            <span class="s2">&quot;affiliation&quot;</span><span class="p">:</span> <span class="s2">&quot;Leibniz University Hannover &amp; L3S Research Center&quot;</span><span class="p">,</span>
            <span class="s2">&quot;submitted&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Vol-2436/Jane Doe&quot;</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Jane Doe&quot;</span><span class="p">,</span>
            <span class="s2">&quot;homepage&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.example.org/jane&quot;</span><span class="p">,</span>
            <span class="s2">&quot;country&quot;</span><span class="p">:</span> <span class="s2">&quot;Germany&quot;</span><span class="p">,</span>
            <span class="s2">&quot;affiliation&quot;</span><span class="p">:</span> <span class="s2">&quot;Technical University Dortmund&quot;</span><span class="p">,</span>
            <span class="s2">&quot;submitted&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">]</span>
    <span class="k">return</span> <span class="n">samples</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.ceur_ws.EditorManager" class="doc doc-heading">
            <code>EditorManager</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="lodstorage.entity.EntityManager">EntityManager</span></code></p>


      <p>Contains multiple ceurws editors</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">EditorManager</span><span class="p">(</span><span class="n">EntityManager</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Contains multiple ceurws editors</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">listName</span><span class="o">=</span><span class="s2">&quot;editors&quot;</span><span class="p">,</span>
            <span class="n">clazz</span><span class="o">=</span><span class="n">Editor</span><span class="p">,</span>
            <span class="n">tableName</span><span class="o">=</span><span class="s2">&quot;editors&quot;</span><span class="p">,</span>
            <span class="n">entityName</span><span class="o">=</span><span class="n">Session</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">primaryKey</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
            <span class="n">entityPluralName</span><span class="o">=</span><span class="s2">&quot;editors&quot;</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">CEURWS</span><span class="o">.</span><span class="n">CONFIG</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.ceur_ws.Paper" class="doc doc-heading">
            <code>Paper</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="lodstorage.jsonable.JSONAble">JSONAble</span></code></p>


      <p>Represents a paper</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Paper</span><span class="p">(</span><span class="n">JSONAble</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a paper</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">position</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pagesFrom</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pagesTo</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">authors</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">position</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pagesFrom</span> <span class="o">=</span> <span class="n">pagesFrom</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pagesTo</span> <span class="o">=</span> <span class="n">pagesTo</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">authors</span> <span class="o">=</span> <span class="n">authors</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">getSamples</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get sample records of the entity</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">samples</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span>  <span class="c1"># id is constructed with volume and position</span>
                <span class="c1"># → &lt;volNumber&gt;/s&lt;position&gt;/&lt;type&gt;_&lt;position_relative_to_type&gt;</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Vol-2436/s1/summary&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;summary&quot;</span><span class="p">,</span>
                <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;1st Workshop on Evaluation and Experimental Design in Data Mining and &quot;</span>
                <span class="s2">&quot;Machine Learning (EDML 2019)&quot;</span><span class="p">,</span>
                <span class="s2">&quot;pdf&quot;</span><span class="p">:</span> <span class="s2">&quot;http://ceur-ws.org/Vol-2436/summary.pdf&quot;</span><span class="p">,</span>
                <span class="s2">&quot;pagesFrom&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;pagesTo&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                <span class="s2">&quot;authors&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">&quot;Eirini Ntoutsi&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;Erich Schubert&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;Arthur Zimek&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;Albrecht Zimmermann&quot;</span><span class="p">,</span>
                <span class="p">],</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Vol-2436/s1/invited_1&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;invited&quot;</span><span class="p">,</span>
                <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Evaluation of Unsupervised Learning Results: Making the Seemingly Impossible Possible&quot;</span><span class="p">,</span>
                <span class="s2">&quot;pdf&quot;</span><span class="p">:</span> <span class="s2">&quot;http://ceur-ws.org/Vol-2436/invited_1.pdf&quot;</span><span class="p">,</span>
                <span class="s2">&quot;pagesFrom&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
                <span class="s2">&quot;pagesTo&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
                <span class="s2">&quot;authors&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Ricardo J. G. B. Campello&quot;</span><span class="p">],</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Vol-2436/s1/article_1&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;article&quot;</span><span class="p">,</span>
                <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;EvalNE: A Framework for Evaluating Network Embeddings on Link Prediction&quot;</span><span class="p">,</span>
                <span class="s2">&quot;pdf&quot;</span><span class="p">:</span> <span class="s2">&quot;http://ceur-ws.org/Vol-2436/article_2.pdf&quot;</span><span class="p">,</span>
                <span class="s2">&quot;pagesFrom&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
                <span class="s2">&quot;pagesTo&quot;</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span>
                <span class="s2">&quot;authors&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">&quot;Alexandru Mara&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;Jefrey Lijffijt&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;Tijl De Bie&quot;</span><span class="p">,</span>
                <span class="p">],</span>
            <span class="p">},</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">samples</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        return my string representation</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: my text representation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span>
        <span class="k">return</span> <span class="n">text</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Paper.__str__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__str__</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>return my string representation</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>my text representation</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    return my string representation</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: my text representation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span>
    <span class="k">return</span> <span class="n">text</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Paper.getSamples" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getSamples</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>get sample records of the entity</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">getSamples</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get sample records of the entity</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">samples</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>  <span class="c1"># id is constructed with volume and position</span>
            <span class="c1"># → &lt;volNumber&gt;/s&lt;position&gt;/&lt;type&gt;_&lt;position_relative_to_type&gt;</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Vol-2436/s1/summary&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;summary&quot;</span><span class="p">,</span>
            <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;1st Workshop on Evaluation and Experimental Design in Data Mining and &quot;</span>
            <span class="s2">&quot;Machine Learning (EDML 2019)&quot;</span><span class="p">,</span>
            <span class="s2">&quot;pdf&quot;</span><span class="p">:</span> <span class="s2">&quot;http://ceur-ws.org/Vol-2436/summary.pdf&quot;</span><span class="p">,</span>
            <span class="s2">&quot;pagesFrom&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;pagesTo&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="s2">&quot;authors&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;Eirini Ntoutsi&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Erich Schubert&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Arthur Zimek&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Albrecht Zimmermann&quot;</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Vol-2436/s1/invited_1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;invited&quot;</span><span class="p">,</span>
            <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Evaluation of Unsupervised Learning Results: Making the Seemingly Impossible Possible&quot;</span><span class="p">,</span>
            <span class="s2">&quot;pdf&quot;</span><span class="p">:</span> <span class="s2">&quot;http://ceur-ws.org/Vol-2436/invited_1.pdf&quot;</span><span class="p">,</span>
            <span class="s2">&quot;pagesFrom&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s2">&quot;pagesTo&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="s2">&quot;authors&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Ricardo J. G. B. Campello&quot;</span><span class="p">],</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Vol-2436/s1/article_1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;article&quot;</span><span class="p">,</span>
            <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;EvalNE: A Framework for Evaluating Network Embeddings on Link Prediction&quot;</span><span class="p">,</span>
            <span class="s2">&quot;pdf&quot;</span><span class="p">:</span> <span class="s2">&quot;http://ceur-ws.org/Vol-2436/article_2.pdf&quot;</span><span class="p">,</span>
            <span class="s2">&quot;pagesFrom&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
            <span class="s2">&quot;pagesTo&quot;</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span>
            <span class="s2">&quot;authors&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;Alexandru Mara&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Jefrey Lijffijt&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Tijl De Bie&quot;</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">},</span>
    <span class="p">]</span>
    <span class="k">return</span> <span class="n">samples</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.ceur_ws.PaperManager" class="doc doc-heading">
            <code>PaperManager</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="lodstorage.entity.EntityManager">EntityManager</span></code></p>


      <p>Contains multiple ceurws papers</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PaperManager</span><span class="p">(</span><span class="n">EntityManager</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Contains multiple ceurws papers</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">listName</span><span class="o">=</span><span class="s2">&quot;papers&quot;</span><span class="p">,</span>
            <span class="n">clazz</span><span class="o">=</span><span class="n">Paper</span><span class="p">,</span>
            <span class="n">tableName</span><span class="o">=</span><span class="s2">&quot;papers&quot;</span><span class="p">,</span>
            <span class="n">entityName</span><span class="o">=</span><span class="n">Paper</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">primaryKey</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
            <span class="n">entityPluralName</span><span class="o">=</span><span class="s2">&quot;papers&quot;</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">CEURWS</span><span class="o">.</span><span class="n">CONFIG</span><span class="p">,</span>
            <span class="n">handleInvalidListTypes</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">listSeparator</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.ceur_ws.Session" class="doc doc-heading">
            <code>Session</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="lodstorage.jsonable.JSONAble">JSONAble</span></code></p>


      <p>Represents a session in ceur-ws</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Session</span><span class="p">(</span><span class="n">JSONAble</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a session in ceur-ws</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">position</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">papers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;Paper&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        constructor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">position</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_papers</span> <span class="o">=</span> <span class="n">papers</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">getSamples</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get sample records of the entity</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">samples</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Vol-2436/s1&quot;</span><span class="p">,</span>  <span class="c1"># id is constructed with volume and position → &lt;volNumber&gt;/s&lt;position&gt;</span>
                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Information Technologies and Intelligent Decision Making Systems II&quot;</span><span class="p">,</span>
                <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;papers&quot;</span><span class="p">:</span> <span class="p">{</span>  <span class="c1"># 1:n relation / command chain</span>
                    <span class="s2">&quot;VOL-2436/s1/p1&quot;</span><span class="p">:</span> <span class="n">Paper</span><span class="p">,</span>
                    <span class="s2">&quot;VOL-2436/s1/p2&quot;</span><span class="p">:</span> <span class="n">Paper</span><span class="p">,</span>
                <span class="p">},</span>
            <span class="p">}</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">samples</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">papers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cached</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>  <span class="c1"># dict: str→Paper</span>
        <span class="k">if</span> <span class="n">cached</span><span class="p">:</span>
            <span class="c1"># check if cached</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># load papers</span>
            <span class="k">if</span> <span class="n">cached</span><span class="p">:</span>
                <span class="c1"># set papers</span>
                <span class="k">pass</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_papers</span>

    <span class="nd">@papers</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">papers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">paper</span><span class="p">:</span> <span class="n">Paper</span><span class="p">):</span>
        <span class="c1"># ToDo: Adjust to proper 1:n handling</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_papers&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_papers</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="n">paper</span><span class="o">.</span><span class="n">id</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_papers</span><span class="p">[</span><span class="n">paper</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">paper</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_papers</span> <span class="o">=</span> <span class="n">paper</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Session.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="nb">id</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">papers</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>constructor</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">position</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">papers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;Paper&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    constructor</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">position</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_papers</span> <span class="o">=</span> <span class="n">papers</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Session.getSamples" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getSamples</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>get sample records of the entity</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">getSamples</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get sample records of the entity</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">samples</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;Vol-2436/s1&quot;</span><span class="p">,</span>  <span class="c1"># id is constructed with volume and position → &lt;volNumber&gt;/s&lt;position&gt;</span>
            <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Information Technologies and Intelligent Decision Making Systems II&quot;</span><span class="p">,</span>
            <span class="s2">&quot;position&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;papers&quot;</span><span class="p">:</span> <span class="p">{</span>  <span class="c1"># 1:n relation / command chain</span>
                <span class="s2">&quot;VOL-2436/s1/p1&quot;</span><span class="p">:</span> <span class="n">Paper</span><span class="p">,</span>
                <span class="s2">&quot;VOL-2436/s1/p2&quot;</span><span class="p">:</span> <span class="n">Paper</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>
    <span class="p">]</span>
    <span class="k">return</span> <span class="n">samples</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.ceur_ws.SessionManager" class="doc doc-heading">
            <code>SessionManager</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="lodstorage.entity.EntityManager">EntityManager</span></code></p>


      <p>Contains multiple ceurws sessions</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">SessionManager</span><span class="p">(</span><span class="n">EntityManager</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Contains multiple ceurws sessions</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">listName</span><span class="o">=</span><span class="s2">&quot;sessions&quot;</span><span class="p">,</span>
            <span class="n">clazz</span><span class="o">=</span><span class="n">Session</span><span class="p">,</span>
            <span class="n">tableName</span><span class="o">=</span><span class="s2">&quot;sessions&quot;</span><span class="p">,</span>
            <span class="n">entityName</span><span class="o">=</span><span class="n">Session</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">primaryKey</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
            <span class="c1"># ToDo: check if just the title is a sufficent key or if an ID must be added</span>
            <span class="n">entityPluralName</span><span class="o">=</span><span class="s2">&quot;sessions&quot;</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">CEURWS</span><span class="o">.</span><span class="n">CONFIG</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.ceur_ws.Volume" class="doc doc-heading">
            <code>Volume</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="lodstorage.jsonable.JSONAble">JSONAble</span></code></p>


      <p>Represents a volume in ceur-ws</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Volume</span><span class="p">(</span><span class="n">JSONAble</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a volume in ceur-ws</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">fullTitle</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">acronym</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">lang</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">location</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">country</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">countryWikidataId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">region</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">city</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">cityWikidataId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">ordinal</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">date</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">dateFrom</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">dateTo</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pubYear</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">pubDate</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">submitDate</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">valid</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">conference</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Conference&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">editors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;Editor&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sessions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;Session&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">virtualEvent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">submittedBy</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        constructor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="n">number</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fullTitle</span> <span class="o">=</span> <span class="n">fullTitle</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">acronym</span> <span class="o">=</span> <span class="n">acronym</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lang</span> <span class="o">=</span> <span class="n">lang</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">location</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">country</span> <span class="o">=</span> <span class="n">country</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">countryWikidataId</span> <span class="o">=</span> <span class="n">countryWikidataId</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="n">region</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">city</span> <span class="o">=</span> <span class="n">city</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cityWikidataId</span> <span class="o">=</span> <span class="n">cityWikidataId</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ordinal</span> <span class="o">=</span> <span class="n">ordinal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">date</span> <span class="o">=</span> <span class="n">date</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dateFrom</span> <span class="o">=</span> <span class="n">dateFrom</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dateTo</span> <span class="o">=</span> <span class="n">dateTo</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pubYear</span> <span class="o">=</span> <span class="n">pubYear</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pubDate</span> <span class="o">=</span> <span class="n">pubDate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">submitDate</span> <span class="o">=</span> <span class="n">submitDate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valid</span> <span class="o">=</span> <span class="n">valid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conference</span> <span class="o">=</span> <span class="n">conference</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">editors</span> <span class="o">=</span> <span class="n">editors</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sessions</span> <span class="o">=</span> <span class="n">sessions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">virtualEvent</span> <span class="o">=</span> <span class="n">virtualEvent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">submittedBy</span> <span class="o">=</span> <span class="n">submittedBy</span>

    <span class="k">def</span> <span class="nf">getSamples</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">samples</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;number&quot;</span><span class="p">:</span> <span class="mi">2436</span><span class="p">,</span>
                <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://ceur-ws.org/Vol-2436/&quot;</span><span class="p">,</span>
                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Evaluation and Experimental Design in Data Mining and Machine Learning&quot;</span><span class="p">,</span>
                <span class="s2">&quot;fullTitle&quot;</span><span class="p">:</span> <span class="s2">&quot;1st Workshop on Evaluation and Experimental Design in Data Mining and Machine Learning&quot;</span><span class="p">,</span>
                <span class="s2">&quot;acronym&quot;</span><span class="p">:</span> <span class="s2">&quot;EDML 2019&quot;</span><span class="p">,</span>
                <span class="s2">&quot;lang&quot;</span><span class="p">:</span> <span class="s2">&quot;en&quot;</span><span class="p">,</span>
                <span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="s2">&quot;Calgary, Alberta, Canada&quot;</span><span class="p">,</span>
                <span class="s2">&quot;country&quot;</span><span class="p">:</span> <span class="s2">&quot;Canada&quot;</span><span class="p">,</span>
                <span class="s2">&quot;region&quot;</span><span class="p">:</span> <span class="s2">&quot;Alberta&quot;</span><span class="p">,</span>
                <span class="s2">&quot;city&quot;</span><span class="p">:</span> <span class="s2">&quot;Calgary&quot;</span><span class="p">,</span>
                <span class="s2">&quot;ordinal&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2019</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">4</span><span class="p">),</span>
                <span class="s2">&quot;dateFrom&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;dateTo&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="s2">&quot;pubYear&quot;</span><span class="p">:</span> <span class="mi">2019</span><span class="p">,</span>
                <span class="s2">&quot;pubDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-09-08&quot;</span><span class="p">,</span>
                <span class="s2">&quot;submitDate&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-07-28&quot;</span><span class="p">,</span>
                <span class="s2">&quot;valid&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;conference&quot;</span><span class="p">:</span> <span class="n">Conference</span><span class="p">,</span>
                <span class="s2">&quot;editors&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">Editor</span><span class="p">],</span>
                <span class="s2">&quot;sessions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">Session</span><span class="p">],</span>
                <span class="s2">&quot;virtualEvent&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">samples</span>

    <span class="k">def</span> <span class="nf">getVolumeNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get number of the volume</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">number</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;number&quot;</span><span class="p">,</span> <span class="s2">&quot;Volume has no number&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">number</span>

    <span class="k">def</span> <span class="nf">getVolumeUrl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the url of the volume page</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">number</span>
        <span class="k">if</span> <span class="n">number</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getVolumeUrlOf</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">url</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">getVolumeUrlOf</span><span class="p">(</span>
        <span class="n">number</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the volume url of the given volume number</span>
<span class="sd">        Args:</span>
<span class="sd">            number: volume number</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;http://ceur-ws.org/Vol-</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">/&quot;</span>
        <span class="k">return</span> <span class="n">url</span>

    <span class="k">def</span> <span class="nf">isVirtualEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns True if the event is a virtual event</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;virtualEvent&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">normalize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Tries to normalize the properties e.g. breaking loctime into designated location and time properties</span>
<span class="sd">        Example: &#39;Vienna, Austria, July 25th, 2022&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">get_loctime</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the loctime</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">loctime</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;loctime&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">loctime</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">td_title</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;tdtitle&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">td_title</span><span class="p">:</span>
                <span class="n">title_parts</span> <span class="o">=</span> <span class="n">td_title</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
                <span class="k">del</span> <span class="n">title_parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">loctime</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">title_parts</span><span class="p">)</span>
                <span class="n">loctime</span> <span class="o">=</span> <span class="n">loctime</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">loctime</span> <span class="o">=</span> <span class="n">loctime</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">loctime</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">loctime</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">loctime</span>

    <span class="k">def</span> <span class="nf">resolveLoctime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Resolve the loctime property by breaking it down to city, region, country, dateFrom, and dateTo</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">loctime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_loctime</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">loctime</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">dateFrom</span><span class="p">,</span> <span class="n">dateTo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extractDates</span><span class="p">(</span><span class="n">loctime</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dateFrom</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dateFrom</span> <span class="o">=</span> <span class="n">dateFrom</span>
        <span class="k">if</span> <span class="n">dateTo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dateTo</span> <span class="o">=</span> <span class="n">dateTo</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extractAndSetLocation</span><span class="p">(</span><span class="n">locationStr</span><span class="o">=</span><span class="n">loctime</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">extractAndSetLocation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locationStr</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extracts the location from the given string and returns the found city and country</span>
<span class="sd">        ToDo: Once the EventReferenceParser from cc is updated to support city country combinations switch to it</span>
<span class="sd">        Args:</span>
<span class="sd">            locationStr: string to extract the locations from</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;locationparser&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">parser</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">parser</span> <span class="o">=</span> <span class="n">LocationContext</span><span class="o">.</span><span class="n">fromCache</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">locationparser</span> <span class="o">=</span> <span class="n">parser</span>
        <span class="n">locationStr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">removePartsMatching</span><span class="p">(</span><span class="n">locationStr</span><span class="p">,</span> <span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\d&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">month</span> <span class="ow">in</span> <span class="n">calendar</span><span class="o">.</span><span class="n">month_name</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">month</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">locationStr</span> <span class="o">=</span> <span class="n">locationStr</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">month</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="n">locations</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">locateLocation</span><span class="p">(</span><span class="n">locationStr</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">locations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rankLocations</span><span class="p">(</span><span class="n">locationStr</span><span class="p">,</span> <span class="n">locations</span><span class="p">)</span>
        <span class="n">city</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">cityWikidataId</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">country</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">countryWikidataId</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">locations</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">locations</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">bestMatch</span> <span class="o">=</span> <span class="n">locations</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bestMatch</span><span class="p">,</span> <span class="n">City</span><span class="p">):</span>
                <span class="n">city</span> <span class="o">=</span> <span class="n">bestMatch</span><span class="o">.</span><span class="n">name</span>
                <span class="n">cityWikidataId</span> <span class="o">=</span> <span class="n">bestMatch</span><span class="o">.</span><span class="n">wikidataid</span>
                <span class="n">country</span> <span class="o">=</span> <span class="n">bestMatch</span><span class="o">.</span><span class="n">country</span><span class="o">.</span><span class="n">name</span>
                <span class="n">countryWikidataId</span> <span class="o">=</span> <span class="n">bestMatch</span><span class="o">.</span><span class="n">country</span><span class="o">.</span><span class="n">wikidataid</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bestMatch</span><span class="p">,</span> <span class="n">Country</span><span class="p">):</span>
                <span class="n">country</span> <span class="o">=</span> <span class="n">bestMatch</span><span class="o">.</span><span class="n">wikidataid</span>
        <span class="n">virtualEventKeywords</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;virtual&quot;</span><span class="p">,</span> <span class="s2">&quot;online&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">virtualEventKeywords</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">locationStr</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">virtualEvent</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="n">city</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">city</span> <span class="o">=</span> <span class="n">city</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cityWikidataId</span> <span class="o">=</span> <span class="n">cityWikidataId</span>
        <span class="k">if</span> <span class="n">countryWikidataId</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">country</span> <span class="o">=</span> <span class="n">country</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">countryWikidataId</span> <span class="o">=</span> <span class="n">countryWikidataId</span>

    <span class="k">def</span> <span class="nf">extractDates</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">dateStr</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">durationThreshold</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">11</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; &quot;</span>
<span class="sd">        Extracts the start and end time from the given string</span>
<span class="sd">        optimized for the format of the loctime property</span>
<span class="sd">        Args:</span>
<span class="sd">            dateStr: string to extract the dates from</span>
<span class="sd">            durationThreshold: number of days allowed between two extracted dates</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dateFrom</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">dateTo</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">dateStr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
        <span class="c1"># normalize certain foreign language month names that occur regularly</span>
        <span class="k">if</span> <span class="s2">&quot;novembro&quot;</span> <span class="ow">in</span> <span class="n">dateStr</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="n">dateStr</span> <span class="o">=</span> <span class="n">dateStr</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;novembro&quot;</span><span class="p">,</span> <span class="s2">&quot;november&quot;</span><span class="p">)</span>
        <span class="n">loctimeParts</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;[,)(]&quot;</span><span class="p">,</span> <span class="n">dateStr</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\d</span><span class="si">{4}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">loctimeParts</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()):</span>
            <span class="n">year</span> <span class="o">=</span> <span class="n">loctimeParts</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">rawDate</span> <span class="o">=</span> <span class="n">loctimeParts</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">loctimeParts</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span> <span class="ow">and</span> <span class="n">loctimeParts</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="n">cn</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">cn</span> <span class="ow">in</span> <span class="n">calendar</span><span class="o">.</span><span class="n">month_name</span>
            <span class="p">]:</span>
                <span class="n">rawDate</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">loctimeParts</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">rawDate</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">dateParts</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;[-–‐&amp;]| to | and &quot;</span><span class="p">,</span> <span class="n">rawDate</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dateParts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">dateFrom</span> <span class="o">=</span> <span class="n">dateutil</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dateParts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">dateTo</span> <span class="o">=</span> <span class="n">dateFrom</span>
                <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">dateParts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="n">dateParts</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                    <span class="n">dateOne</span> <span class="o">=</span> <span class="n">dateutil</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dateParts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dateParts</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">:</span>
                        <span class="n">dayMonthParts</span> <span class="o">=</span> <span class="n">dateParts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
                        <span class="n">dayMonthParts</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                        <span class="n">endDate</span> <span class="o">=</span> <span class="n">dayMonthParts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">dateParts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">dateTwo</span> <span class="o">=</span> <span class="n">dateutil</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">endDate</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">dateTwo</span> <span class="o">=</span> <span class="n">dateutil</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dateParts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">dates</span> <span class="o">=</span> <span class="p">[</span><span class="n">dateOne</span><span class="p">,</span> <span class="n">dateTwo</span><span class="p">]</span>
                    <span class="n">dates</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
                    <span class="n">dateFrom</span> <span class="o">=</span> <span class="n">dates</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">dateTo</span> <span class="o">=</span> <span class="n">dates</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">if</span> <span class="n">dateTo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">dateFrom</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">delta</span> <span class="o">=</span> <span class="n">dateTo</span> <span class="o">-</span> <span class="n">dateFrom</span>
                <span class="k">if</span> <span class="n">delta</span> <span class="o">&lt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">():</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error this should not be possible&quot;</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">delta</span> <span class="o">&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">durationThreshold</span><span class="p">):</span>
                    <span class="nb">print</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="p">,</span>
                        <span class="sa">f</span><span class="s2">&quot;Event with a duration of more than </span><span class="si">{</span><span class="n">durationThreshold</span><span class="si">}</span><span class="s2"> days seems suspicious&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">dateFrom</span><span class="o">.</span><span class="n">date</span><span class="p">(),</span> <span class="n">dateTo</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="p">,</span> <span class="n">dateStr</span><span class="p">,</span> <span class="s2">&quot;→ Dates could not be extracted&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># corner case</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">removePartsMatching</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes parts from the given value matching the pattern</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">separator</span><span class="p">)</span>
        <span class="n">resParts</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">parts</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">part</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">resParts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">part</span><span class="p">)</span>
        <span class="n">resValue</span> <span class="o">=</span> <span class="n">separator</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">resParts</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">resValue</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">rankLocations</span><span class="p">(</span><span class="n">locationStr</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">locations</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Location</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        rank the given locations to find the best match to the given location string</span>
<span class="sd">        Args:</span>
<span class="sd">            locationStr: location string</span>
<span class="sd">            locations: list of locations objects</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rankedLocations</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">locations</span><span class="p">:</span>
            <span class="n">locationsToCheck</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">location</span><span class="p">,</span> <span class="n">City</span><span class="p">):</span>
                <span class="n">locationsToCheck</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">location</span><span class="p">,</span>
                    <span class="n">location</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
                    <span class="n">location</span><span class="o">.</span><span class="n">country</span><span class="p">,</span>
                <span class="p">]</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">location</span><span class="p">,</span> <span class="n">Region</span><span class="p">):</span>
                <span class="n">locationsToCheck</span> <span class="o">=</span> <span class="p">[</span><span class="n">location</span><span class="p">,</span> <span class="n">location</span><span class="o">.</span><span class="n">country</span><span class="p">]</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">location</span><span class="p">,</span> <span class="n">Country</span><span class="p">):</span>
                <span class="n">locationsToCheck</span> <span class="o">=</span> <span class="p">[</span><span class="n">location</span><span class="p">]</span>
            <span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">ltc</span> <span class="ow">in</span> <span class="n">locationsToCheck</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">ltc</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="n">locationStr</span><span class="p">:</span>
                    <span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">rankedLocations</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">score</span><span class="p">,</span> <span class="n">location</span><span class="p">))</span>
        <span class="n">rankedLocations</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">scoreTuple</span><span class="p">:</span> <span class="n">scoreTuple</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">location</span> <span class="k">for</span> <span class="n">score</span><span class="p">,</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">rankedLocations</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">text</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sessions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        sessions of this volume</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sessions</span>

    <span class="nd">@sessions</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">sessions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">session</span><span class="p">):</span>
        <span class="c1"># ToDo: Adjust to proper 1:n handling</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_sessions&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sessions</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_sessions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_sessions</span> <span class="o">=</span> <span class="n">session</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">papers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        papers of this volume</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">extractValuesFromVolumePage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">BeautifulSoup</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        extract values from the given volume page</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;?&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h1</span> <span class="o">=</span> <span class="s2">&quot;?&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
        <span class="n">volumeParser</span> <span class="o">=</span> <span class="n">VolumeParser</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">parseDict</span><span class="p">,</span> <span class="n">soup</span> <span class="o">=</span> <span class="n">volumeParser</span><span class="o">.</span><span class="n">parse_volume</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getVolumeNumber</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fromDict</span><span class="p">(</span><span class="n">parseDict</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">parseDict</span><span class="p">,</span> <span class="n">soup</span>

    <span class="k">def</span> <span class="nf">getSubmittingEditor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Editor that submitted the volume</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">submitter</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;editors&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">editor</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">editors</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">editor</span><span class="p">,</span> <span class="n">Editor</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">editor</span><span class="p">,</span> <span class="s2">&quot;submitted&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
                    <span class="n">submitter</span> <span class="o">=</span> <span class="n">editor</span>
                    <span class="k">break</span>
        <span class="k">return</span> <span class="n">submitter</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h4 id="ceurws.ceur_ws.Volume.papers" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">papers</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>papers of this volume</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h4 id="ceurws.ceur_ws.Volume.sessions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sessions</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>sessions of this volume</p>
    </div>

</div>



<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Volume.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fullTitle</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">acronym</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">lang</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">country</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">countryWikidataId</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">city</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cityWikidataId</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ordinal</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dateFrom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dateTo</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pubYear</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pubDate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">submitDate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">valid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">conference</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">editors</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sessions</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">virtualEvent</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">submittedBy</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>constructor</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">fullTitle</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">acronym</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">lang</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">location</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">country</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">countryWikidataId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">region</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">city</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">cityWikidataId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ordinal</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">date</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dateFrom</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">dateTo</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">pubYear</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">pubDate</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">submitDate</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">valid</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">conference</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Conference&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">editors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;Editor&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">sessions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;Session&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">virtualEvent</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">submittedBy</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    constructor</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="n">number</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">url</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fullTitle</span> <span class="o">=</span> <span class="n">fullTitle</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">acronym</span> <span class="o">=</span> <span class="n">acronym</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lang</span> <span class="o">=</span> <span class="n">lang</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">location</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">country</span> <span class="o">=</span> <span class="n">country</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">countryWikidataId</span> <span class="o">=</span> <span class="n">countryWikidataId</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="n">region</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">city</span> <span class="o">=</span> <span class="n">city</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cityWikidataId</span> <span class="o">=</span> <span class="n">cityWikidataId</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ordinal</span> <span class="o">=</span> <span class="n">ordinal</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">date</span> <span class="o">=</span> <span class="n">date</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dateFrom</span> <span class="o">=</span> <span class="n">dateFrom</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dateTo</span> <span class="o">=</span> <span class="n">dateTo</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pubYear</span> <span class="o">=</span> <span class="n">pubYear</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pubDate</span> <span class="o">=</span> <span class="n">pubDate</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">submitDate</span> <span class="o">=</span> <span class="n">submitDate</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">valid</span> <span class="o">=</span> <span class="n">valid</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">conference</span> <span class="o">=</span> <span class="n">conference</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">editors</span> <span class="o">=</span> <span class="n">editors</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sessions</span> <span class="o">=</span> <span class="n">sessions</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">virtualEvent</span> <span class="o">=</span> <span class="n">virtualEvent</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">submittedBy</span> <span class="o">=</span> <span class="n">submittedBy</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Volume.extractAndSetLocation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">extractAndSetLocation</span><span class="p">(</span><span class="n">locationStr</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Extracts the location from the given string and returns the found city and country
ToDo: Once the EventReferenceParser from cc is updated to support city country combinations switch to it
Args:
    locationStr: string to extract the locations from</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">extractAndSetLocation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locationStr</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extracts the location from the given string and returns the found city and country</span>
<span class="sd">    ToDo: Once the EventReferenceParser from cc is updated to support city country combinations switch to it</span>
<span class="sd">    Args:</span>
<span class="sd">        locationStr: string to extract the locations from</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;locationparser&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">parser</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">LocationContext</span><span class="o">.</span><span class="n">fromCache</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">locationparser</span> <span class="o">=</span> <span class="n">parser</span>
    <span class="n">locationStr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">removePartsMatching</span><span class="p">(</span><span class="n">locationStr</span><span class="p">,</span> <span class="n">pattern</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\d&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">month</span> <span class="ow">in</span> <span class="n">calendar</span><span class="o">.</span><span class="n">month_name</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">month</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">locationStr</span> <span class="o">=</span> <span class="n">locationStr</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">month</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
    <span class="n">locations</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">locateLocation</span><span class="p">(</span><span class="n">locationStr</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">locations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rankLocations</span><span class="p">(</span><span class="n">locationStr</span><span class="p">,</span> <span class="n">locations</span><span class="p">)</span>
    <span class="n">city</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">cityWikidataId</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">country</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">countryWikidataId</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">locations</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">locations</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">bestMatch</span> <span class="o">=</span> <span class="n">locations</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bestMatch</span><span class="p">,</span> <span class="n">City</span><span class="p">):</span>
            <span class="n">city</span> <span class="o">=</span> <span class="n">bestMatch</span><span class="o">.</span><span class="n">name</span>
            <span class="n">cityWikidataId</span> <span class="o">=</span> <span class="n">bestMatch</span><span class="o">.</span><span class="n">wikidataid</span>
            <span class="n">country</span> <span class="o">=</span> <span class="n">bestMatch</span><span class="o">.</span><span class="n">country</span><span class="o">.</span><span class="n">name</span>
            <span class="n">countryWikidataId</span> <span class="o">=</span> <span class="n">bestMatch</span><span class="o">.</span><span class="n">country</span><span class="o">.</span><span class="n">wikidataid</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bestMatch</span><span class="p">,</span> <span class="n">Country</span><span class="p">):</span>
            <span class="n">country</span> <span class="o">=</span> <span class="n">bestMatch</span><span class="o">.</span><span class="n">wikidataid</span>
    <span class="n">virtualEventKeywords</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;virtual&quot;</span><span class="p">,</span> <span class="s2">&quot;online&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">virtualEventKeywords</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">locationStr</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">virtualEvent</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="n">city</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">city</span> <span class="o">=</span> <span class="n">city</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cityWikidataId</span> <span class="o">=</span> <span class="n">cityWikidataId</span>
    <span class="k">if</span> <span class="n">countryWikidataId</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">country</span> <span class="o">=</span> <span class="n">country</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">countryWikidataId</span> <span class="o">=</span> <span class="n">countryWikidataId</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Volume.extractDates" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">extractDates</span><span class="p">(</span><span class="n">dateStr</span><span class="p">,</span> <span class="n">durationThreshold</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>"
Extracts the start and end time from the given string
optimized for the format of the loctime property
Args:
    dateStr: string to extract the dates from
    durationThreshold: number of days allowed between two extracted dates</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">extractDates</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">dateStr</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">durationThreshold</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">11</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; &quot;</span>
<span class="sd">    Extracts the start and end time from the given string</span>
<span class="sd">    optimized for the format of the loctime property</span>
<span class="sd">    Args:</span>
<span class="sd">        dateStr: string to extract the dates from</span>
<span class="sd">        durationThreshold: number of days allowed between two extracted dates</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dateFrom</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">dateTo</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">dateStr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="c1"># normalize certain foreign language month names that occur regularly</span>
    <span class="k">if</span> <span class="s2">&quot;novembro&quot;</span> <span class="ow">in</span> <span class="n">dateStr</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
        <span class="n">dateStr</span> <span class="o">=</span> <span class="n">dateStr</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;novembro&quot;</span><span class="p">,</span> <span class="s2">&quot;november&quot;</span><span class="p">)</span>
    <span class="n">loctimeParts</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;[,)(]&quot;</span><span class="p">,</span> <span class="n">dateStr</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\d</span><span class="si">{4}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">loctimeParts</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()):</span>
        <span class="n">year</span> <span class="o">=</span> <span class="n">loctimeParts</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">rawDate</span> <span class="o">=</span> <span class="n">loctimeParts</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">loctimeParts</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span> <span class="ow">and</span> <span class="n">loctimeParts</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">cn</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">cn</span> <span class="ow">in</span> <span class="n">calendar</span><span class="o">.</span><span class="n">month_name</span>
        <span class="p">]:</span>
            <span class="n">rawDate</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">loctimeParts</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">rawDate</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">dateParts</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;[-–‐&amp;]| to | and &quot;</span><span class="p">,</span> <span class="n">rawDate</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dateParts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">dateFrom</span> <span class="o">=</span> <span class="n">dateutil</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dateParts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">dateTo</span> <span class="o">=</span> <span class="n">dateFrom</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">dateParts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">dateParts</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">dateOne</span> <span class="o">=</span> <span class="n">dateutil</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dateParts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dateParts</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">:</span>
                    <span class="n">dayMonthParts</span> <span class="o">=</span> <span class="n">dateParts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
                    <span class="n">dayMonthParts</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                    <span class="n">endDate</span> <span class="o">=</span> <span class="n">dayMonthParts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">dateParts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">dateTwo</span> <span class="o">=</span> <span class="n">dateutil</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">endDate</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dateTwo</span> <span class="o">=</span> <span class="n">dateutil</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dateParts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">dates</span> <span class="o">=</span> <span class="p">[</span><span class="n">dateOne</span><span class="p">,</span> <span class="n">dateTwo</span><span class="p">]</span>
                <span class="n">dates</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
                <span class="n">dateFrom</span> <span class="o">=</span> <span class="n">dates</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">dateTo</span> <span class="o">=</span> <span class="n">dates</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">if</span> <span class="n">dateTo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">dateFrom</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">delta</span> <span class="o">=</span> <span class="n">dateTo</span> <span class="o">-</span> <span class="n">dateFrom</span>
            <span class="k">if</span> <span class="n">delta</span> <span class="o">&lt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">():</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error this should not be possible&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">delta</span> <span class="o">&gt;</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">durationThreshold</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s2">&quot;Event with a duration of more than </span><span class="si">{</span><span class="n">durationThreshold</span><span class="si">}</span><span class="s2"> days seems suspicious&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">dateFrom</span><span class="o">.</span><span class="n">date</span><span class="p">(),</span> <span class="n">dateTo</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="p">,</span> <span class="n">dateStr</span><span class="p">,</span> <span class="s2">&quot;→ Dates could not be extracted&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># corner case</span>
        <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Volume.extractValuesFromVolumePage" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">extractValuesFromVolumePage</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>extract values from the given volume page</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">extractValuesFromVolumePage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">BeautifulSoup</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    extract values from the given volume page</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">desc</span> <span class="o">=</span> <span class="s2">&quot;?&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">h1</span> <span class="o">=</span> <span class="s2">&quot;?&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="n">volumeParser</span> <span class="o">=</span> <span class="n">VolumeParser</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
    <span class="n">parseDict</span><span class="p">,</span> <span class="n">soup</span> <span class="o">=</span> <span class="n">volumeParser</span><span class="o">.</span><span class="n">parse_volume</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getVolumeNumber</span><span class="p">())</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fromDict</span><span class="p">(</span><span class="n">parseDict</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parseDict</span><span class="p">,</span> <span class="n">soup</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Volume.getSubmittingEditor" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getSubmittingEditor</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Returns the Editor that submitted the volume</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getSubmittingEditor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the Editor that submitted the volume</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">submitter</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;editors&quot;</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">editor</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">editors</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">editor</span><span class="p">,</span> <span class="n">Editor</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">editor</span><span class="p">,</span> <span class="s2">&quot;submitted&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
                <span class="n">submitter</span> <span class="o">=</span> <span class="n">editor</span>
                <span class="k">break</span>
    <span class="k">return</span> <span class="n">submitter</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Volume.getVolumeNumber" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getVolumeNumber</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>get number of the volume</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getVolumeNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get number of the volume</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">number</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;number&quot;</span><span class="p">,</span> <span class="s2">&quot;Volume has no number&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">number</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Volume.getVolumeUrl" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getVolumeUrl</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>get the url of the volume page</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getVolumeUrl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the url of the volume page</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">number</span>
    <span class="k">if</span> <span class="n">number</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getVolumeUrlOf</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">url</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Volume.getVolumeUrlOf" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getVolumeUrlOf</span><span class="p">(</span><span class="n">number</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>get the volume url of the given volume number
Args:
    number: volume number</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">getVolumeUrlOf</span><span class="p">(</span>
    <span class="n">number</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the volume url of the given volume number</span>
<span class="sd">    Args:</span>
<span class="sd">        number: volume number</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;http://ceur-ws.org/Vol-</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">/&quot;</span>
    <span class="k">return</span> <span class="n">url</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Volume.get_loctime" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_loctime</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>get the loctime</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_loctime</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the loctime</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">loctime</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;loctime&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">loctime</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">td_title</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;tdtitle&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">td_title</span><span class="p">:</span>
            <span class="n">title_parts</span> <span class="o">=</span> <span class="n">td_title</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
            <span class="k">del</span> <span class="n">title_parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">loctime</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">title_parts</span><span class="p">)</span>
            <span class="n">loctime</span> <span class="o">=</span> <span class="n">loctime</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">loctime</span> <span class="o">=</span> <span class="n">loctime</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">pass</span>
    <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">loctime</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">loctime</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">loctime</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Volume.isVirtualEvent" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">isVirtualEvent</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Returns True if the event is a virtual event</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">isVirtualEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns True if the event is a virtual event</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;virtualEvent&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Volume.normalize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">normalize</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Tries to normalize the properties e.g. breaking loctime into designated location and time properties
Example: 'Vienna, Austria, July 25th, 2022'</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">normalize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Tries to normalize the properties e.g. breaking loctime into designated location and time properties</span>
<span class="sd">    Example: &#39;Vienna, Austria, July 25th, 2022&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Volume.rankLocations" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">rankLocations</span><span class="p">(</span><span class="n">locationStr</span><span class="p">,</span> <span class="n">locations</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>rank the given locations to find the best match to the given location string
Args:
    locationStr: location string
    locations: list of locations objects</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">rankLocations</span><span class="p">(</span><span class="n">locationStr</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">locations</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Location</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    rank the given locations to find the best match to the given location string</span>
<span class="sd">    Args:</span>
<span class="sd">        locationStr: location string</span>
<span class="sd">        locations: list of locations objects</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rankedLocations</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">locations</span><span class="p">:</span>
        <span class="n">locationsToCheck</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">location</span><span class="p">,</span> <span class="n">City</span><span class="p">):</span>
            <span class="n">locationsToCheck</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">location</span><span class="p">,</span>
                <span class="n">location</span><span class="o">.</span><span class="n">region</span><span class="p">,</span>
                <span class="n">location</span><span class="o">.</span><span class="n">country</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">location</span><span class="p">,</span> <span class="n">Region</span><span class="p">):</span>
            <span class="n">locationsToCheck</span> <span class="o">=</span> <span class="p">[</span><span class="n">location</span><span class="p">,</span> <span class="n">location</span><span class="o">.</span><span class="n">country</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">location</span><span class="p">,</span> <span class="n">Country</span><span class="p">):</span>
            <span class="n">locationsToCheck</span> <span class="o">=</span> <span class="p">[</span><span class="n">location</span><span class="p">]</span>
        <span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">ltc</span> <span class="ow">in</span> <span class="n">locationsToCheck</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ltc</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="n">locationStr</span><span class="p">:</span>
                <span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">rankedLocations</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">score</span><span class="p">,</span> <span class="n">location</span><span class="p">))</span>
    <span class="n">rankedLocations</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">scoreTuple</span><span class="p">:</span> <span class="n">scoreTuple</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">location</span> <span class="k">for</span> <span class="n">score</span><span class="p">,</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">rankedLocations</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Volume.removePartsMatching" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">removePartsMatching</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>Removes parts from the given value matching the pattern</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">removePartsMatching</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Removes parts from the given value matching the pattern</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">separator</span><span class="p">)</span>
    <span class="n">resParts</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">parts</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">part</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">resParts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">part</span><span class="p">)</span>
    <span class="n">resValue</span> <span class="o">=</span> <span class="n">separator</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">resParts</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">resValue</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.Volume.resolveLoctime" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">resolveLoctime</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Resolve the loctime property by breaking it down to city, region, country, dateFrom, and dateTo</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">resolveLoctime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Resolve the loctime property by breaking it down to city, region, country, dateFrom, and dateTo</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">loctime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_loctime</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">loctime</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">dateFrom</span><span class="p">,</span> <span class="n">dateTo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extractDates</span><span class="p">(</span><span class="n">loctime</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">dateFrom</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dateFrom</span> <span class="o">=</span> <span class="n">dateFrom</span>
    <span class="k">if</span> <span class="n">dateTo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dateTo</span> <span class="o">=</span> <span class="n">dateTo</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extractAndSetLocation</span><span class="p">(</span><span class="n">locationStr</span><span class="o">=</span><span class="n">loctime</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.ceur_ws.VolumeManager" class="doc doc-heading">
            <code>VolumeManager</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="lodstorage.entity.EntityManager">EntityManager</span></code></p>


      <p>Contains multiple ceurws volumes</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">VolumeManager</span><span class="p">(</span><span class="n">EntityManager</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Contains multiple ceurws volumes</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tableName</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;volumes&quot;</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">listName</span><span class="o">=</span><span class="s2">&quot;volumes&quot;</span><span class="p">,</span>
            <span class="n">clazz</span><span class="o">=</span><span class="n">Volume</span><span class="p">,</span>
            <span class="n">tableName</span><span class="o">=</span><span class="n">tableName</span><span class="p">,</span>
            <span class="n">entityName</span><span class="o">=</span><span class="n">Volume</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="n">primaryKey</span><span class="o">=</span><span class="s2">&quot;number&quot;</span><span class="p">,</span>
            <span class="n">entityPluralName</span><span class="o">=</span><span class="s2">&quot;volumes&quot;</span><span class="p">,</span>
            <span class="n">config</span><span class="o">=</span><span class="n">CEURWS</span><span class="o">.</span><span class="n">CONFIG</span><span class="p">,</span>
            <span class="n">handleInvalidListTypes</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volumes</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Volume</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        load the volumeManager</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">Download</span><span class="o">.</span><span class="n">needsDownload</span><span class="p">(</span><span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_FILE</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">loadFromIndexHtml</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">store</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">loadFromBackup</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">loadFromBackup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        load from the SQLITE Cache file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fromStore</span><span class="p">(</span><span class="n">cacheFile</span><span class="o">=</span><span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_FILE</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_config</span><span class="p">:</span> <span class="n">ParserConfig</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        update me by a checking for recently added volumes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_down_to_volume</span><span class="p">(</span><span class="n">parser_config</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_or_recreate</span><span class="p">(</span><span class="n">parser_config</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_down_to_volume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_config</span><span class="p">):</span>
        <span class="n">volumeCount</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volumes</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">volumeCount</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">max_vol</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">volumes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">parser_config</span><span class="o">.</span><span class="n">down_to_volume</span> <span class="o">=</span> <span class="n">max_vol</span><span class="o">.</span><span class="n">number</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">recreate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_config</span><span class="p">:</span> <span class="n">ParserConfig</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        recreate me by a full parse of all volume files</span>

<span class="sd">        Args:</span>
<span class="sd">            parser_config: parser configuration</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">update_or_recreate</span><span class="p">(</span><span class="n">parser_config</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_or_recreate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_config</span><span class="p">:</span> <span class="n">ParserConfig</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        recreate or update me by parsing the index.html file</span>

<span class="sd">        Args:</span>
<span class="sd">            parser_config: parser configuration</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">progress_bar</span> <span class="o">=</span> <span class="n">parser_config</span><span class="o">.</span><span class="n">progress_bar</span>
        <span class="n">loctime_parser</span> <span class="o">=</span> <span class="n">LoctimeParser</span><span class="p">()</span>
        <span class="n">pm</span> <span class="o">=</span> <span class="n">PaperManager</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">parser_config</span><span class="o">.</span><span class="n">down_to_volume</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">pm</span><span class="o">.</span><span class="n">fromStore</span><span class="p">(</span><span class="n">cacheFile</span><span class="o">=</span><span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_FILE</span><span class="p">)</span>
        <span class="n">paper_list</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">getList</span><span class="p">()</span>

        <span class="c1"># first reload me from the main index</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loadFromIndexHtml</span><span class="p">(</span><span class="n">parser_config</span><span class="p">)</span>
        <span class="n">invalid</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">volume</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">volumes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">volume</span><span class="o">.</span><span class="n">number</span> <span class="ow">and</span> <span class="n">volume</span><span class="o">.</span><span class="n">number</span> <span class="o">&lt;</span> <span class="n">parser_config</span><span class="o">.</span><span class="n">down_to_volume</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">_volume_record</span><span class="p">,</span> <span class="n">soup</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">extractValuesFromVolumePage</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">soup</span><span class="p">:</span>
                <span class="n">ptp</span> <span class="o">=</span> <span class="n">PaperTocParser</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="p">),</span> <span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
                <span class="n">paper_records</span> <span class="o">=</span> <span class="n">ptp</span><span class="o">.</span><span class="n">parsePapers</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">paper_record</span> <span class="ow">in</span> <span class="n">paper_records</span><span class="p">:</span>
                    <span class="n">paper</span> <span class="o">=</span> <span class="n">Paper</span><span class="p">()</span>
                    <span class="n">paper</span><span class="o">.</span><span class="n">fromDict</span><span class="p">(</span><span class="n">paper_record</span><span class="p">)</span>
                    <span class="n">paper_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">paper</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">volume</span><span class="o">.</span><span class="n">valid</span><span class="p">:</span>
                <span class="n">invalid</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">loctime</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">get_loctime</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">loctime</span><span class="p">:</span>
                    <span class="n">loc_time_dict</span> <span class="o">=</span> <span class="n">loctime_parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">loctime</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">loc_time_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">attr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;loc_</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span>
                        <span class="nb">setattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
                    <span class="n">volume</span><span class="o">.</span><span class="n">resolveLoctime</span><span class="p">()</span>
            <span class="c1"># update progress bar</span>
            <span class="k">if</span> <span class="n">progress_bar</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">volume</span><span class="o">.</span><span class="n">valid</span><span class="p">:</span>
                    <span class="c1"># print(f&quot;{volume.url}:{volume.acronym}:{volume.desc}:{volume.h1}:{volume.title}&quot;)</span>
                    <span class="n">description</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">acronym</span><span class="p">[:</span><span class="mi">20</span><span class="p">]</span> <span class="k">if</span> <span class="n">volume</span><span class="o">.</span><span class="n">acronym</span> <span class="k">else</span> <span class="s2">&quot;?&quot;</span>
                    <span class="n">progress_bar</span><span class="o">.</span><span class="n">set_description</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">progress_bar</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;storing recreated volume table for </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volumes</span><span class="p">)</span><span class="si">}</span><span class="s2"> volumes (</span><span class="si">{</span><span class="n">invalid</span><span class="si">}</span><span class="s2"> invalid)&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;storing </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">paper_list</span><span class="p">)</span><span class="si">}</span><span class="s2"> papers&quot;</span><span class="p">)</span>
        <span class="n">pm</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">loadFromIndexHtml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_config</span><span class="p">:</span> <span class="n">ParserConfig</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">vol_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        load my content from the index.html file</span>

<span class="sd">        Args:</span>
<span class="sd">            parser_config(ParserConfig): the parser Configuration to use</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">force</span> <span class="o">=</span> <span class="n">parser_config</span><span class="o">.</span><span class="n">force_download</span> <span class="k">if</span> <span class="n">parser_config</span> <span class="k">else</span> <span class="kc">True</span>
        <span class="n">htmlText</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getIndexHtml</span><span class="p">(</span><span class="n">force</span><span class="p">)</span>
        <span class="n">indexParser</span> <span class="o">=</span> <span class="n">IndexHtmlParser</span><span class="p">(</span><span class="n">htmlText</span><span class="p">,</span> <span class="n">parser_config</span><span class="p">)</span>
        <span class="n">volumeRecords</span> <span class="o">=</span> <span class="n">indexParser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">vol_limit</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">volumeRecord</span> <span class="ow">in</span> <span class="n">volumeRecords</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">volume</span> <span class="o">=</span> <span class="n">Volume</span><span class="p">()</span>
            <span class="n">volume</span><span class="o">.</span><span class="n">fromDict</span><span class="p">(</span><span class="n">volumeRecord</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="s2">&quot;h1&quot;</span><span class="p">]:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="s2">&quot;?&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">volumes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">getIndexHtml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the index html</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cacheHtml</span> <span class="o">=</span> <span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_HTML</span>
        <span class="k">if</span> <span class="n">cacheHtml</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">cacheHtml</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                <span class="n">html_page</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">req</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">CEURWS</span><span class="o">.</span><span class="n">URL</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;User-Agent&quot;</span><span class="p">:</span> <span class="s2">&quot;pyCEURMake&quot;</span><span class="p">})</span>
            <span class="n">html_page</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
            <span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">cacheHtml</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">htmlFile</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">html_page</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">htmlFile</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">html_page</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.VolumeManager.getIndexHtml" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getIndexHtml</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>get the index html</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getIndexHtml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the index html</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cacheHtml</span> <span class="o">=</span> <span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_HTML</span>
    <span class="k">if</span> <span class="n">cacheHtml</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">cacheHtml</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
            <span class="n">html_page</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">req</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">CEURWS</span><span class="o">.</span><span class="n">URL</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;User-Agent&quot;</span><span class="p">:</span> <span class="s2">&quot;pyCEURMake&quot;</span><span class="p">})</span>
        <span class="n">html_page</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">req</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_DIR</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">cacheHtml</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">htmlFile</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">html_page</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">htmlFile</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">html_page</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.VolumeManager.load" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>load the volumeManager</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    load the volumeManager</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">Download</span><span class="o">.</span><span class="n">needsDownload</span><span class="p">(</span><span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_FILE</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loadFromIndexHtml</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">store</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loadFromBackup</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.VolumeManager.loadFromBackup" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">loadFromBackup</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>load from the SQLITE Cache file</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">loadFromBackup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    load from the SQLITE Cache file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fromStore</span><span class="p">(</span><span class="n">cacheFile</span><span class="o">=</span><span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_FILE</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.VolumeManager.loadFromIndexHtml" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">loadFromIndexHtml</span><span class="p">(</span><span class="n">parser_config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">vol_limit</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>load my content from the index.html file</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>parser_config(ParserConfig)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the parser Configuration to use</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">loadFromIndexHtml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_config</span><span class="p">:</span> <span class="n">ParserConfig</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">vol_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    load my content from the index.html file</span>

<span class="sd">    Args:</span>
<span class="sd">        parser_config(ParserConfig): the parser Configuration to use</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">force</span> <span class="o">=</span> <span class="n">parser_config</span><span class="o">.</span><span class="n">force_download</span> <span class="k">if</span> <span class="n">parser_config</span> <span class="k">else</span> <span class="kc">True</span>
    <span class="n">htmlText</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getIndexHtml</span><span class="p">(</span><span class="n">force</span><span class="p">)</span>
    <span class="n">indexParser</span> <span class="o">=</span> <span class="n">IndexHtmlParser</span><span class="p">(</span><span class="n">htmlText</span><span class="p">,</span> <span class="n">parser_config</span><span class="p">)</span>
    <span class="n">volumeRecords</span> <span class="o">=</span> <span class="n">indexParser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">vol_limit</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">volumeRecord</span> <span class="ow">in</span> <span class="n">volumeRecords</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">volume</span> <span class="o">=</span> <span class="n">Volume</span><span class="p">()</span>
        <span class="n">volume</span><span class="o">.</span><span class="n">fromDict</span><span class="p">(</span><span class="n">volumeRecord</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;desc&quot;</span><span class="p">,</span> <span class="s2">&quot;h1&quot;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="s2">&quot;?&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volumes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.VolumeManager.recreate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">recreate</span><span class="p">(</span><span class="n">parser_config</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>recreate me by a full parse of all volume files</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>parser_config</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ceurws.indexparser.ParserConfig" href="#ceurws.indexparser.ParserConfig">ParserConfig</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>parser configuration</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">recreate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_config</span><span class="p">:</span> <span class="n">ParserConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    recreate me by a full parse of all volume files</span>

<span class="sd">    Args:</span>
<span class="sd">        parser_config: parser configuration</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">update_or_recreate</span><span class="p">(</span><span class="n">parser_config</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.VolumeManager.update" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="n">parser_config</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>update me by a checking for recently added volumes</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_config</span><span class="p">:</span> <span class="n">ParserConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    update me by a checking for recently added volumes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_down_to_volume</span><span class="p">(</span><span class="n">parser_config</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_or_recreate</span><span class="p">(</span><span class="n">parser_config</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws.VolumeManager.update_or_recreate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_or_recreate</span><span class="p">(</span><span class="n">parser_config</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>recreate or update me by parsing the index.html file</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>parser_config</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ceurws.indexparser.ParserConfig" href="#ceurws.indexparser.ParserConfig">ParserConfig</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>parser configuration</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">update_or_recreate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser_config</span><span class="p">:</span> <span class="n">ParserConfig</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    recreate or update me by parsing the index.html file</span>

<span class="sd">    Args:</span>
<span class="sd">        parser_config: parser configuration</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">progress_bar</span> <span class="o">=</span> <span class="n">parser_config</span><span class="o">.</span><span class="n">progress_bar</span>
    <span class="n">loctime_parser</span> <span class="o">=</span> <span class="n">LoctimeParser</span><span class="p">()</span>
    <span class="n">pm</span> <span class="o">=</span> <span class="n">PaperManager</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">parser_config</span><span class="o">.</span><span class="n">down_to_volume</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">pm</span><span class="o">.</span><span class="n">fromStore</span><span class="p">(</span><span class="n">cacheFile</span><span class="o">=</span><span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_FILE</span><span class="p">)</span>
    <span class="n">paper_list</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">getList</span><span class="p">()</span>

    <span class="c1"># first reload me from the main index</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">loadFromIndexHtml</span><span class="p">(</span><span class="n">parser_config</span><span class="p">)</span>
    <span class="n">invalid</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">volume</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">volumes</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">volume</span><span class="o">.</span><span class="n">number</span> <span class="ow">and</span> <span class="n">volume</span><span class="o">.</span><span class="n">number</span> <span class="o">&lt;</span> <span class="n">parser_config</span><span class="o">.</span><span class="n">down_to_volume</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">_volume_record</span><span class="p">,</span> <span class="n">soup</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">extractValuesFromVolumePage</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">soup</span><span class="p">:</span>
            <span class="n">ptp</span> <span class="o">=</span> <span class="n">PaperTocParser</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="p">),</span> <span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
            <span class="n">paper_records</span> <span class="o">=</span> <span class="n">ptp</span><span class="o">.</span><span class="n">parsePapers</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">paper_record</span> <span class="ow">in</span> <span class="n">paper_records</span><span class="p">:</span>
                <span class="n">paper</span> <span class="o">=</span> <span class="n">Paper</span><span class="p">()</span>
                <span class="n">paper</span><span class="o">.</span><span class="n">fromDict</span><span class="p">(</span><span class="n">paper_record</span><span class="p">)</span>
                <span class="n">paper_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">paper</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">volume</span><span class="o">.</span><span class="n">valid</span><span class="p">:</span>
            <span class="n">invalid</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">loctime</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">get_loctime</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">loctime</span><span class="p">:</span>
                <span class="n">loc_time_dict</span> <span class="o">=</span> <span class="n">loctime_parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">loctime</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">loc_time_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">attr</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;loc_</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
                <span class="n">volume</span><span class="o">.</span><span class="n">resolveLoctime</span><span class="p">()</span>
        <span class="c1"># update progress bar</span>
        <span class="k">if</span> <span class="n">progress_bar</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">volume</span><span class="o">.</span><span class="n">valid</span><span class="p">:</span>
                <span class="c1"># print(f&quot;{volume.url}:{volume.acronym}:{volume.desc}:{volume.h1}:{volume.title}&quot;)</span>
                <span class="n">description</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">acronym</span><span class="p">[:</span><span class="mi">20</span><span class="p">]</span> <span class="k">if</span> <span class="n">volume</span><span class="o">.</span><span class="n">acronym</span> <span class="k">else</span> <span class="s2">&quot;?&quot;</span>
                <span class="n">progress_bar</span><span class="o">.</span><span class="n">set_description</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">progress_bar</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;storing recreated volume table for </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volumes</span><span class="p">)</span><span class="si">}</span><span class="s2"> volumes (</span><span class="si">{</span><span class="n">invalid</span><span class="si">}</span><span class="s2"> invalid)&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;storing </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">paper_list</span><span class="p">)</span><span class="si">}</span><span class="s2"> papers&quot;</span><span class="p">)</span>
    <span class="n">pm</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.ceur_ws_web_cmd" class="doc doc-heading">
            <code>ceur_ws_web_cmd</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 2024-02-22</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.ceur_ws_web_cmd.CeurWsCmd" class="doc doc-heading">
            <code>CeurWsCmd</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="ngwidgets.cmd.WebserverCmd">WebserverCmd</span></code></p>


      <p>command line handling for CEUR-WS Volume browser</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/ceur_ws_web_cmd.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CeurWsCmd</span><span class="p">(</span><span class="n">WebserverCmd</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    command line handling for CEUR-WS Volume browser</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        constructor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">CeurWsWebServer</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span>
        <span class="n">WebserverCmd</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">CeurWsWebServer</span><span class="p">,</span> <span class="n">DEBUG</span><span class="p">)</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">getArgParser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">version_msg</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArgumentParser</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        override the default argparser call</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">getArgParser</span><span class="p">(</span><span class="n">description</span><span class="p">,</span> <span class="n">version_msg</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s2">&quot;-dbu&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--dblp_update&quot;</span><span class="p">,</span>
            <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s2">&quot;update dblp cache&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s2">&quot;-nq&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--namedqueries&quot;</span><span class="p">,</span>
            <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s2">&quot;generate named queries [default: </span><span class="si">%(default)s</span><span class="s2">]&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s2">&quot;-den&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--dblp_endpoint_name&quot;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s2">&quot;name of dblp endpoint to use </span><span class="si">%(default)s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="s2">&quot;qlever-dblp&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s2">&quot;-f&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--force&quot;</span><span class="p">,</span>
            <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s2">&quot;force update [default: </span><span class="si">%(default)s</span><span class="s2">]&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s2">&quot;--list&quot;</span><span class="p">,</span>
            <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s2">&quot;list all volumes [default: </span><span class="si">%(default)s</span><span class="s2">]&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s2">&quot;-rc&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--recreate&quot;</span><span class="p">,</span>
            <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s2">&quot;recreate caches e.g. volume table&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s2">&quot;-uv&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--update&quot;</span><span class="p">,</span>
            <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s2">&quot;update volumes by parsing index.html adding recently published volumes&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s2">&quot;-wen&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--wikidata_endpoint_name&quot;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s2">&quot;name of wikidata endpoint to use </span><span class="si">%(default)s</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">default</span><span class="o">=</span><span class="s2">&quot;wikidata&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s2">&quot;-wdu&quot;</span><span class="p">,</span>
            <span class="s2">&quot;--wikidata_update&quot;</span><span class="p">,</span>
            <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s2">&quot;update tables from wikidata&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">parser</span>

    <span class="k">def</span> <span class="nf">handle_args</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        handle the command line arguments</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
        <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">namedqueries</span><span class="p">:</span>
            <span class="n">nq</span> <span class="o">=</span> <span class="n">NamedQueries</span><span class="p">()</span>
            <span class="n">yaml</span> <span class="o">=</span> <span class="n">nq</span><span class="o">.</span><span class="n">toYaml</span><span class="p">()</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">yaml</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">list</span><span class="p">:</span>
            <span class="n">manager</span> <span class="o">=</span> <span class="n">VolumeManager</span><span class="p">()</span>
            <span class="n">manager</span><span class="o">.</span><span class="n">loadFromBackup</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">volume</span> <span class="ow">in</span> <span class="n">manager</span><span class="o">.</span><span class="n">getList</span><span class="p">():</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">recreate</span> <span class="ow">or</span> <span class="n">args</span><span class="o">.</span><span class="n">update</span><span class="p">:</span>
            <span class="n">manager</span> <span class="o">=</span> <span class="n">VolumeManager</span><span class="p">()</span>
            <span class="n">manager</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
            <span class="n">progress_bar</span> <span class="o">=</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">manager</span><span class="o">.</span><span class="n">volumes</span><span class="p">))</span>
            <span class="n">parser_config</span> <span class="o">=</span> <span class="n">ParserConfig</span><span class="p">(</span><span class="n">progress_bar</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">recreate</span><span class="p">:</span>
                <span class="n">manager</span><span class="o">.</span><span class="n">recreate</span><span class="p">(</span><span class="n">parser_config</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">manager</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">parser_config</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">wikidata_update</span><span class="p">:</span>
            <span class="n">wdsync</span> <span class="o">=</span> <span class="n">WikidataSync</span><span class="o">.</span><span class="n">from_args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
            <span class="n">wdsync</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">withStore</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">dblp_update</span><span class="p">:</span>
            <span class="n">wdsync</span> <span class="o">=</span> <span class="n">WikidataSync</span><span class="o">.</span><span class="n">from_args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
            <span class="n">endpoint</span> <span class="o">=</span> <span class="n">wdsync</span><span class="o">.</span><span class="n">dblpEndpoint</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;updating dblp cache from SPARQL endpoint </span><span class="si">{</span><span class="n">endpoint</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="c1"># Instantiate the progress bar</span>
            <span class="n">pbar</span> <span class="o">=</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">wdsync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">dblp_managers</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">_step</span><span class="p">,</span> <span class="p">(</span><span class="n">cache_name</span><span class="p">,</span> <span class="n">dblp_manager</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">endpoint</span><span class="o">.</span><span class="n">dblp_managers</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
                <span class="c1"># Call the corresponding function to refresh cache data</span>
                <span class="n">dblp_manager</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">force</span><span class="p">)</span>
                <span class="c1"># Update the progress bar description with the cache name and increment</span>
                <span class="n">pbar</span><span class="o">.</span><span class="n">set_description</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">cache_name</span><span class="si">}</span><span class="s2"> updated ...&quot;</span><span class="p">)</span>

                <span class="c1"># Update the progress bar manually</span>
                <span class="n">pbar</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Increment the progress bar by 1 for each iteration</span>

            <span class="c1"># Close the progress bar after the loop</span>
            <span class="n">pbar</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="n">table_data</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">_step</span><span class="p">,</span> <span class="n">cache_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">endpoint</span><span class="o">.</span><span class="n">dblp_managers</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">cache</span> <span class="o">=</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">cache_manager</span><span class="o">.</span><span class="n">get_cache_by_name</span><span class="p">(</span><span class="n">cache_name</span><span class="p">)</span>
                <span class="n">table_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">asdict</span><span class="p">(</span><span class="n">cache</span><span class="p">))</span>
            <span class="n">table</span> <span class="o">=</span> <span class="n">tabulate</span><span class="p">(</span><span class="n">table_data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span> <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="n">handled</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_args</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">handled</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws_web_cmd.CeurWsCmd.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>constructor</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws_web_cmd.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    constructor</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">CeurWsWebServer</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span>
    <span class="n">WebserverCmd</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">,</span> <span class="n">CeurWsWebServer</span><span class="p">,</span> <span class="n">DEBUG</span><span class="p">)</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws_web_cmd.CeurWsCmd.getArgParser" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getArgParser</span><span class="p">(</span><span class="n">description</span><span class="p">,</span> <span class="n">version_msg</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>override the default argparser call</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws_web_cmd.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getArgParser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">version_msg</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ArgumentParser</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    override the default argparser call</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">getArgParser</span><span class="p">(</span><span class="n">description</span><span class="p">,</span> <span class="n">version_msg</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-dbu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--dblp_update&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;update dblp cache&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-nq&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--namedqueries&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;generate named queries [default: </span><span class="si">%(default)s</span><span class="s2">]&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-den&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--dblp_endpoint_name&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;name of dblp endpoint to use </span><span class="si">%(default)s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;qlever-dblp&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-f&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--force&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;force update [default: </span><span class="si">%(default)s</span><span class="s2">]&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--list&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;list all volumes [default: </span><span class="si">%(default)s</span><span class="s2">]&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-rc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--recreate&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;recreate caches e.g. volume table&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-uv&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--update&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;update volumes by parsing index.html adding recently published volumes&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-wen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--wikidata_endpoint_name&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;name of wikidata endpoint to use </span><span class="si">%(default)s</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">&quot;wikidata&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;-wdu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;--wikidata_update&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;update tables from wikidata&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">parser</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.ceur_ws_web_cmd.CeurWsCmd.handle_args" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">handle_args</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>handle the command line arguments</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws_web_cmd.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">handle_args</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    handle the command line arguments</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">args</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">namedqueries</span><span class="p">:</span>
        <span class="n">nq</span> <span class="o">=</span> <span class="n">NamedQueries</span><span class="p">()</span>
        <span class="n">yaml</span> <span class="o">=</span> <span class="n">nq</span><span class="o">.</span><span class="n">toYaml</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">yaml</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">list</span><span class="p">:</span>
        <span class="n">manager</span> <span class="o">=</span> <span class="n">VolumeManager</span><span class="p">()</span>
        <span class="n">manager</span><span class="o">.</span><span class="n">loadFromBackup</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">volume</span> <span class="ow">in</span> <span class="n">manager</span><span class="o">.</span><span class="n">getList</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">recreate</span> <span class="ow">or</span> <span class="n">args</span><span class="o">.</span><span class="n">update</span><span class="p">:</span>
        <span class="n">manager</span> <span class="o">=</span> <span class="n">VolumeManager</span><span class="p">()</span>
        <span class="n">manager</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
        <span class="n">progress_bar</span> <span class="o">=</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">manager</span><span class="o">.</span><span class="n">volumes</span><span class="p">))</span>
        <span class="n">parser_config</span> <span class="o">=</span> <span class="n">ParserConfig</span><span class="p">(</span><span class="n">progress_bar</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">recreate</span><span class="p">:</span>
            <span class="n">manager</span><span class="o">.</span><span class="n">recreate</span><span class="p">(</span><span class="n">parser_config</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">manager</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">parser_config</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">wikidata_update</span><span class="p">:</span>
        <span class="n">wdsync</span> <span class="o">=</span> <span class="n">WikidataSync</span><span class="o">.</span><span class="n">from_args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="n">wdsync</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">withStore</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">dblp_update</span><span class="p">:</span>
        <span class="n">wdsync</span> <span class="o">=</span> <span class="n">WikidataSync</span><span class="o">.</span><span class="n">from_args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="n">endpoint</span> <span class="o">=</span> <span class="n">wdsync</span><span class="o">.</span><span class="n">dblpEndpoint</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;updating dblp cache from SPARQL endpoint </span><span class="si">{</span><span class="n">endpoint</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="c1"># Instantiate the progress bar</span>
        <span class="n">pbar</span> <span class="o">=</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">wdsync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">dblp_managers</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">_step</span><span class="p">,</span> <span class="p">(</span><span class="n">cache_name</span><span class="p">,</span> <span class="n">dblp_manager</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">endpoint</span><span class="o">.</span><span class="n">dblp_managers</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
            <span class="c1"># Call the corresponding function to refresh cache data</span>
            <span class="n">dblp_manager</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">force</span><span class="p">)</span>
            <span class="c1"># Update the progress bar description with the cache name and increment</span>
            <span class="n">pbar</span><span class="o">.</span><span class="n">set_description</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">cache_name</span><span class="si">}</span><span class="s2"> updated ...&quot;</span><span class="p">)</span>

            <span class="c1"># Update the progress bar manually</span>
            <span class="n">pbar</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Increment the progress bar by 1 for each iteration</span>

        <span class="c1"># Close the progress bar after the loop</span>
        <span class="n">pbar</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">table_data</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">_step</span><span class="p">,</span> <span class="n">cache_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">endpoint</span><span class="o">.</span><span class="n">dblp_managers</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">cache</span> <span class="o">=</span> <span class="n">endpoint</span><span class="o">.</span><span class="n">cache_manager</span><span class="o">.</span><span class="n">get_cache_by_name</span><span class="p">(</span><span class="n">cache_name</span><span class="p">)</span>
            <span class="n">table_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">asdict</span><span class="p">(</span><span class="n">cache</span><span class="p">))</span>
        <span class="n">table</span> <span class="o">=</span> <span class="n">tabulate</span><span class="p">(</span><span class="n">table_data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span> <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
        <span class="k">pass</span>
    <span class="n">handled</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">handle_args</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">handled</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h3 id="ceurws.ceur_ws_web_cmd.main" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">main</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>main call</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/ceur_ws_web_cmd.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">argv</span><span class="p">:</span> <span class="nb">list</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    main call</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="n">CeurWsCmd</span><span class="p">()</span>
    <span class="n">exit_code</span> <span class="o">=</span> <span class="n">cmd</span><span class="o">.</span><span class="n">cmd_main</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">exit_code</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.config" class="doc doc-heading">
            <code>config</code>


</h2>

    <div class="doc doc-contents ">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.config.CEURWS" class="doc doc-heading">
            <code>CEURWS</code>


</h3>


    <div class="doc doc-contents ">


      <p>CEUR-WS</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/config.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CEURWS</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    CEUR-WS</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_home_path</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get home path</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">home</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span>
        <span class="k">if</span> <span class="s2">&quot;GITHUB_WORKSPACE&quot;</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">:</span>
            <span class="n">home</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;GITHUB_WORKSPACE&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">home</span>

    <span class="n">URL</span> <span class="o">=</span> <span class="s2">&quot;http://ceur-ws.org&quot;</span>
    <span class="n">home</span> <span class="o">=</span> <span class="n">get_home_path</span><span class="p">()</span>
    <span class="n">CACHE_DIR</span> <span class="o">=</span> <span class="n">home</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s2">&quot;.ceurws&quot;</span><span class="p">)</span>
    <span class="n">CACHE_FILE</span> <span class="o">=</span> <span class="n">CACHE_DIR</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s2">&quot;ceurws.db&quot;</span><span class="p">)</span>
    <span class="n">CACHE_HTML</span> <span class="o">=</span> <span class="n">CACHE_DIR</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s2">&quot;index.html&quot;</span><span class="p">)</span>
    <span class="n">CONFIG</span> <span class="o">=</span> <span class="n">StorageConfig</span><span class="p">(</span><span class="n">cacheFile</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">CACHE_FILE</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.config.CEURWS.get_home_path" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_home_path</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>Get home path</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/config.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_home_path</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get home path</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">home</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span>
    <span class="k">if</span> <span class="s2">&quot;GITHUB_WORKSPACE&quot;</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">:</span>
        <span class="n">home</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;GITHUB_WORKSPACE&quot;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">home</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.dblp" class="doc doc-heading">
            <code>dblp</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 2024-03-09</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.dblp.DblpAuthorIdentifier" class="doc doc-heading">
            <code>DblpAuthorIdentifier</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">


      <p>represents an author id available in dblp
and the corresponding property in wikidata</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/dblp.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">DblpAuthorIdentifier</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    represents an author id available in dblp</span>
<span class="sd">    and the corresponding property in wikidata</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># the name should be usable as SPARQL variable</span>
    <span class="n">dblp_property</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">wikidata_property</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">all</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;DblpAuthorIdentifier&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        returns all available identifiers</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;dblp&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:dblp&quot;</span><span class="p">,</span> <span class="s2">&quot;P2456&quot;</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;wikidata&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:wikidata&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;orcid&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:orcid&quot;</span><span class="p">,</span> <span class="s2">&quot;P496&quot;</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;googleScholar&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:google-scholar&quot;</span><span class="p">,</span> <span class="s2">&quot;P1960&quot;</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;acm&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:acm&quot;</span><span class="p">,</span> <span class="s2">&quot;P864&quot;</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;twitter&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:twitter&quot;</span><span class="p">,</span> <span class="s2">&quot;P2002&quot;</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;github&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:github&quot;</span><span class="p">,</span> <span class="s2">&quot;P2037&quot;</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;viaf&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:viaf&quot;</span><span class="p">,</span> <span class="s2">&quot;P214&quot;</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;scigraph&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:scigraph&quot;</span><span class="p">,</span> <span class="s2">&quot;P10861&quot;</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;zbmath&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:zbmath&quot;</span><span class="p">,</span> <span class="s2">&quot;P1556&quot;</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;researchGate&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:research-gate&quot;</span><span class="p">,</span> <span class="s2">&quot;P6023&quot;</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;mathGenealogy&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:math-genealogy&quot;</span><span class="p">,</span> <span class="s2">&quot;P549&quot;</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;loc&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:loc&quot;</span><span class="p">,</span> <span class="s2">&quot;P244&quot;</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;linkedin&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:linkedin&quot;</span><span class="p">,</span> <span class="s2">&quot;P6634&quot;</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;lattes&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:lattes&quot;</span><span class="p">,</span> <span class="s2">&quot;P1007&quot;</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;isni&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:isni&quot;</span><span class="p">,</span> <span class="s2">&quot;P213&quot;</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;ieee&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:ieee&quot;</span><span class="p">,</span> <span class="s2">&quot;P6479&quot;</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;gepris&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:gepris&quot;</span><span class="p">,</span> <span class="s2">&quot;P4872&quot;</span><span class="p">),</span>
            <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;gnd&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:gnd&quot;</span><span class="p">,</span> <span class="s2">&quot;P227&quot;</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">getAllAsMap</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;DblpAuthorIdentifier&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        return all all available identifiers as map</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">identifier</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
            <span class="n">res</span><span class="p">[</span><span class="n">identifier</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">identifier</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">getWikidataIdQueryPart</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">id_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">var</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates for the given identifier the wikidata query</span>
<span class="sd">        Args:</span>
<span class="sd">            id_name: name of the identifier</span>
<span class="sd">            value: the identifier value</span>
<span class="sd">            var: name of the variable which should have the id</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">var</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">):</span>
            <span class="n">var</span> <span class="o">=</span> <span class="s2">&quot;?&quot;</span> <span class="o">+</span> <span class="n">var</span>
        <span class="n">query</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">dblp_author_ids</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">getAllAsMap</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">id_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dblp_author_ids</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># unknown identifier</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="n">wd_prop</span> <span class="o">=</span> <span class="n">dblp_author_ids</span><span class="o">.</span><span class="n">wikidata_property</span>
        <span class="n">values</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">id_name</span> <span class="o">==</span> <span class="s2">&quot;wikidata&quot;</span><span class="p">:</span>
            <span class="n">values</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span>
            <span class="n">value_urls</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;wd:</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">])</span>
            <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="se">{{</span><span class="s2"> SELECT * WHERE </span><span class="se">{{</span><span class="s2"> VALUES ?person </span><span class="se">{{</span><span class="s2"> </span><span class="si">{</span><span class="n">value_urls</span><span class="si">}</span><span class="s2"> </span><span class="se">}}</span><span class="s2"> </span><span class="se">}}</span><span class="s2"> </span><span class="se">}}</span><span class="s2"># </span><span class="si">{</span><span class="n">id_name</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
        <span class="k">elif</span> <span class="n">id_name</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">getAllAsMap</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="n">values</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s1">&quot;&#39;</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">value</span><span class="p">])</span>
                <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="se">{{</span><span class="s2">OPTIONAL</span><span class="se">{{</span>
<span class="s2">                            VALUES ?</span><span class="si">{</span><span class="n">id_name</span><span class="si">}</span><span class="s2"> </span><span class="se">{{</span><span class="s2"> </span><span class="si">{</span><span class="n">values</span><span class="si">}</span><span class="s2"> </span><span class="se">}}</span>
<span class="s2">                            </span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s2"> wdt:</span><span class="si">{</span><span class="n">wd_prop</span><span class="si">}</span><span class="s2"> ?</span><span class="si">{</span><span class="n">id_name</span><span class="si">}</span><span class="s2">.</span><span class="se">}}</span><span class="s2"> </span>
<span class="s2">                            </span><span class="se">}}</span><span class="s2">  # </span><span class="si">{</span><span class="n">id_name</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="se">{{</span><span class="s2"> </span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s2"> wdt:</span><span class="si">{</span><span class="n">wd_prop</span><span class="si">}</span><span class="s2"> &quot;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;. </span><span class="se">}}</span><span class="s2">  # </span><span class="si">{</span><span class="n">id_name</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">return</span> <span class="n">query</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpAuthorIdentifier.all" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">all</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>returns all available identifiers</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">all</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;DblpAuthorIdentifier&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    returns all available identifiers</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">res</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;dblp&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:dblp&quot;</span><span class="p">,</span> <span class="s2">&quot;P2456&quot;</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;wikidata&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:wikidata&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;orcid&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:orcid&quot;</span><span class="p">,</span> <span class="s2">&quot;P496&quot;</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;googleScholar&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:google-scholar&quot;</span><span class="p">,</span> <span class="s2">&quot;P1960&quot;</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;acm&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:acm&quot;</span><span class="p">,</span> <span class="s2">&quot;P864&quot;</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;twitter&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:twitter&quot;</span><span class="p">,</span> <span class="s2">&quot;P2002&quot;</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;github&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:github&quot;</span><span class="p">,</span> <span class="s2">&quot;P2037&quot;</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;viaf&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:viaf&quot;</span><span class="p">,</span> <span class="s2">&quot;P214&quot;</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;scigraph&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:scigraph&quot;</span><span class="p">,</span> <span class="s2">&quot;P10861&quot;</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;zbmath&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:zbmath&quot;</span><span class="p">,</span> <span class="s2">&quot;P1556&quot;</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;researchGate&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:research-gate&quot;</span><span class="p">,</span> <span class="s2">&quot;P6023&quot;</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;mathGenealogy&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:math-genealogy&quot;</span><span class="p">,</span> <span class="s2">&quot;P549&quot;</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;loc&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:loc&quot;</span><span class="p">,</span> <span class="s2">&quot;P244&quot;</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;linkedin&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:linkedin&quot;</span><span class="p">,</span> <span class="s2">&quot;P6634&quot;</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;lattes&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:lattes&quot;</span><span class="p">,</span> <span class="s2">&quot;P1007&quot;</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;isni&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:isni&quot;</span><span class="p">,</span> <span class="s2">&quot;P213&quot;</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;ieee&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:ieee&quot;</span><span class="p">,</span> <span class="s2">&quot;P6479&quot;</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;gepris&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:gepris&quot;</span><span class="p">,</span> <span class="s2">&quot;P4872&quot;</span><span class="p">),</span>
        <span class="n">DblpAuthorIdentifier</span><span class="p">(</span><span class="s2">&quot;gnd&quot;</span><span class="p">,</span> <span class="s2">&quot;datacite:gnd&quot;</span><span class="p">,</span> <span class="s2">&quot;P227&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="k">return</span> <span class="n">res</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpAuthorIdentifier.getAllAsMap" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getAllAsMap</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>return all all available identifiers as map</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">getAllAsMap</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;DblpAuthorIdentifier&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    return all all available identifiers as map</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">res</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">identifier</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
        <span class="n">res</span><span class="p">[</span><span class="n">identifier</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">identifier</span>
    <span class="k">return</span> <span class="n">res</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpAuthorIdentifier.getWikidataIdQueryPart" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getWikidataIdQueryPart</span><span class="p">(</span><span class="n">id_name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">var</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>Generates for the given identifier the wikidata query
Args:
    id_name: name of the identifier
    value: the identifier value
    var: name of the variable which should have the id</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">getWikidataIdQueryPart</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">id_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">var</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates for the given identifier the wikidata query</span>
<span class="sd">    Args:</span>
<span class="sd">        id_name: name of the identifier</span>
<span class="sd">        value: the identifier value</span>
<span class="sd">        var: name of the variable which should have the id</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">var</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;?&quot;</span><span class="p">):</span>
        <span class="n">var</span> <span class="o">=</span> <span class="s2">&quot;?&quot;</span> <span class="o">+</span> <span class="n">var</span>
    <span class="n">query</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">dblp_author_ids</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">getAllAsMap</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">id_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">dblp_author_ids</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># unknown identifier</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
    <span class="n">wd_prop</span> <span class="o">=</span> <span class="n">dblp_author_ids</span><span class="o">.</span><span class="n">wikidata_property</span>
    <span class="n">values</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">id_name</span> <span class="o">==</span> <span class="s2">&quot;wikidata&quot;</span><span class="p">:</span>
        <span class="n">values</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span>
        <span class="n">value_urls</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;wd:</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">])</span>
        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="se">{{</span><span class="s2"> SELECT * WHERE </span><span class="se">{{</span><span class="s2"> VALUES ?person </span><span class="se">{{</span><span class="s2"> </span><span class="si">{</span><span class="n">value_urls</span><span class="si">}</span><span class="s2"> </span><span class="se">}}</span><span class="s2"> </span><span class="se">}}</span><span class="s2"> </span><span class="se">}}</span><span class="s2"># </span><span class="si">{</span><span class="n">id_name</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
    <span class="k">elif</span> <span class="n">id_name</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">getAllAsMap</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">values</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s1">&quot;&#39;</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">value</span><span class="p">])</span>
            <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="se">{{</span><span class="s2">OPTIONAL</span><span class="se">{{</span>
<span class="s2">                        VALUES ?</span><span class="si">{</span><span class="n">id_name</span><span class="si">}</span><span class="s2"> </span><span class="se">{{</span><span class="s2"> </span><span class="si">{</span><span class="n">values</span><span class="si">}</span><span class="s2"> </span><span class="se">}}</span>
<span class="s2">                        </span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s2"> wdt:</span><span class="si">{</span><span class="n">wd_prop</span><span class="si">}</span><span class="s2"> ?</span><span class="si">{</span><span class="n">id_name</span><span class="si">}</span><span class="s2">.</span><span class="se">}}</span><span class="s2"> </span>
<span class="s2">                        </span><span class="se">}}</span><span class="s2">  # </span><span class="si">{</span><span class="n">id_name</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="se">{{</span><span class="s2"> </span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s2"> wdt:</span><span class="si">{</span><span class="n">wd_prop</span><span class="si">}</span><span class="s2"> &quot;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;. </span><span class="se">}}</span><span class="s2">  # </span><span class="si">{</span><span class="n">id_name</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">return</span> <span class="n">query</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.dblp.DblpAuthors" class="doc doc-heading">
            <code>DblpAuthors</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ceurws.dblp.DblpManager" href="#ceurws.dblp.DblpManager">DblpManager</a></code></p>


      <p>Manage all authors of DBLP indexed volumes.</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/dblp.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DblpAuthors</span><span class="p">(</span><span class="n">DblpManager</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Manage all authors of DBLP indexed volumes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="s2">&quot;DblpEndpoint&quot;</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="s2">&quot;dblp/authors&quot;</span><span class="p">,</span> <span class="s2">&quot;CEUR-WS Paper Authors&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">authors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpScholar</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_query</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        load my authors</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">authors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">authors</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lod</span><span class="p">:</span>
                <span class="n">author</span> <span class="o">=</span> <span class="n">DblpScholar</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">authors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">author</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">authorsById</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="o">.</span><span class="n">dblp_author_id</span><span class="p">:</span> <span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">authors</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpAuthors.load" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>load my authors</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_query</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    load my authors</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">authors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">authors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lod</span><span class="p">:</span>
            <span class="n">author</span> <span class="o">=</span> <span class="n">DblpScholar</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">authors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">author</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">authorsById</span> <span class="o">=</span> <span class="p">{</span><span class="n">a</span><span class="o">.</span><span class="n">dblp_author_id</span><span class="p">:</span> <span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">authors</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.dblp.DblpEditors" class="doc doc-heading">
            <code>DblpEditors</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ceurws.dblp.DblpManager" href="#ceurws.dblp.DblpManager">DblpManager</a></code></p>


      <p>Manage all editors of DBLP indexed volumes.</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/dblp.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DblpEditors</span><span class="p">(</span><span class="n">DblpManager</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Manage all editors of DBLP indexed volumes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="s2">&quot;DblpEndpoint&quot;</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="s2">&quot;dblp/editors&quot;</span><span class="p">,</span> <span class="s2">&quot;CEUR-WS all Editors&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">editors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpScholar</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_query</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        load my editors</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">editors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">editors</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lod</span><span class="p">:</span>
                <span class="n">editor</span> <span class="o">=</span> <span class="n">DblpScholar</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">editors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">editor</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">editorsById</span> <span class="o">=</span> <span class="p">{</span><span class="n">e</span><span class="o">.</span><span class="n">dblp_author_id</span><span class="p">:</span> <span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">editors</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpEditors.load" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>load my editors</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_query</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    load my editors</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">editors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">editors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lod</span><span class="p">:</span>
            <span class="n">editor</span> <span class="o">=</span> <span class="n">DblpScholar</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">editors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">editor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">editorsById</span> <span class="o">=</span> <span class="p">{</span><span class="n">e</span><span class="o">.</span><span class="n">dblp_author_id</span><span class="p">:</span> <span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">editors</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.dblp.DblpEndpoint" class="doc doc-heading">
            <code>DblpEndpoint</code>


</h3>


    <div class="doc doc-contents ">


      <p>provides queries and a dblp endpoint to execute them</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/dblp.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DblpEndpoint</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    provides queries and a dblp endpoint to execute them</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">DBLP_REC_PREFIX</span> <span class="o">=</span> <span class="s2">&quot;https://dblp.org/rec/&quot;</span>
    <span class="n">DBLP_EVENT_PREFIX</span> <span class="o">=</span> <span class="s2">&quot;https://dblp.org/db/&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        constructor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span> <span class="o">=</span> <span class="n">SPARQL</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
        <span class="n">qYamlFile</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">/resources/queries/dblp.yaml&quot;</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">qYamlFile</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">qm</span> <span class="o">=</span> <span class="n">QueryManager</span><span class="p">(</span><span class="n">lang</span><span class="o">=</span><span class="s2">&quot;sparql&quot;</span><span class="p">,</span> <span class="n">queriesPath</span><span class="o">=</span><span class="n">qYamlFile</span><span class="p">)</span>
        <span class="c1"># there is one cache manager for all our json caches</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache_manager</span> <span class="o">=</span> <span class="n">CacheManager</span><span class="p">(</span><span class="s2">&quot;ceurws&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dblp_authors</span> <span class="o">=</span> <span class="n">DblpAuthors</span><span class="p">(</span><span class="n">endpoint</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dblp_editors</span> <span class="o">=</span> <span class="n">DblpEditors</span><span class="p">(</span><span class="n">endpoint</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dblp_papers</span> <span class="o">=</span> <span class="n">DblpPapers</span><span class="p">(</span><span class="n">endpoint</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dblp_volumes</span> <span class="o">=</span> <span class="n">DblpVolumes</span><span class="p">(</span><span class="n">endpoint</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dblp_managers</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;dblp/authors&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblp_authors</span><span class="p">,</span>
            <span class="s2">&quot;dblp/editors&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblp_editors</span><span class="p">,</span>
            <span class="s2">&quot;dblp/papers&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblp_papers</span><span class="p">,</span>
            <span class="s2">&quot;dblp/volumes&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblp_volumes</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">load_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_query</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        load all managers</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">_key</span><span class="p">,</span> <span class="n">manager</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblp_managers</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">manager</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_lod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cache_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">query_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">force_query</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the list of dictionaries for the given cache and query names,</span>
<span class="sd">        optionally forcing a query.</span>

<span class="sd">        Args:</span>
<span class="sd">            cache_name (str): The name of the cache to load or store the LOD.</span>
<span class="sd">            query_name (str): The name of the query to execute if the data is not cached or forced to query.</span>
<span class="sd">            force_query (bool): If True, forces the query execution even if the data is cached. Defaults to False.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[Dict]: The list of dictionaries loaded either from cache or by executing the SPARQL query.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>  <span class="c1"># Record the start time of the operation</span>
        <span class="n">cache</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_manager</span><span class="o">.</span><span class="n">get_cache_by_name</span><span class="p">(</span><span class="n">cache_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cache</span><span class="o">.</span><span class="n">is_stored</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force_query</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;loading </span><span class="si">{</span><span class="n">cache_name</span><span class="si">}</span><span class="s2"> from cache&quot;</span><span class="p">)</span>
            <span class="n">lod</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_manager</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">cache_name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">qm</span><span class="o">.</span><span class="n">queriesByName</span><span class="p">[</span><span class="n">query_name</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;loading </span><span class="si">{</span><span class="n">cache_name</span><span class="si">}</span><span class="s2"> from SPARQL query </span><span class="si">{</span><span class="n">query_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">lod</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cache_manager</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="n">cache_name</span><span class="p">,</span> <span class="n">lod</span><span class="p">)</span>
        <span class="n">end_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>  <span class="c1"># Record the end time of the operation</span>
        <span class="n">duration</span> <span class="o">=</span> <span class="n">end_time</span> <span class="o">-</span> <span class="n">start_time</span>  <span class="c1"># Calculate the duration of the loading process</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;loaded </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">lod</span><span class="p">)</span><span class="si">}</span><span class="s2"> records for </span><span class="si">{</span><span class="n">cache_name</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">duration</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> seconds&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">duration</span> <span class="o">*</span> <span class="mi">100</span> <span class="o">/</span> <span class="mi">36</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">lod</span>

    <span class="k">def</span> <span class="nf">get_ceur_volume_papers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpPaper</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all papers published in CEUR-WS from dblp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cache_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;dblp/Vol-</span><span class="si">{</span><span class="n">volume_number</span><span class="si">}</span><span class="s2">/papers&quot;</span>
        <span class="n">lod</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_manager</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">cache_name</span><span class="p">)</span>
        <span class="n">papers</span> <span class="o">=</span> <span class="p">[</span><span class="n">DblpPaper</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">lod</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">papers</span>

    <span class="k">def</span> <span class="nf">get_ceur_proceeding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DblpProceeding</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get ceur proceeding by volume number from dblp</span>
<span class="sd">        Args:</span>
<span class="sd">            volume_number: number of the volume</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cache_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;dblp/Vol-</span><span class="si">{</span><span class="n">volume_number</span><span class="si">}</span><span class="s2">/metadata&quot;</span>
        <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_manager</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">cache_name</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="n">DblpProceeding</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">volume</span>

    <span class="k">def</span> <span class="nf">getDblpIdByVolumeNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the dblp entity id by given volume number</span>
<span class="sd">        Args:</span>
<span class="sd">            number: volume number</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;PREFIX dblp: &lt;https://dblp.org/rdf/schema#&gt;</span>
<span class="s2">            SELECT *</span>
<span class="s2">            WHERE </span><span class="se">{{</span><span class="s2"> </span>
<span class="s2">                ?proceeding dblp:publishedIn &quot;CEUR Workshop Proceedings&quot;;</span>
<span class="s2">                            dblp:publishedInSeriesVolume &quot;</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">&quot;.</span>
<span class="s2">                </span><span class="se">}}</span>
<span class="s2">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">HTTPError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;dblp sparql endpoint unavailable&quot;</span><span class="p">)</span>
            <span class="n">qres</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">qIds</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">qres</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">qres</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">qIds</span> <span class="o">=</span> <span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proceeding&quot;</span><span class="p">)[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">DBLP_REC_PREFIX</span><span class="p">)</span> <span class="p">:]</span> <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">qIds</span>

    <span class="k">def</span> <span class="nf">getDblpUrlByDblpId</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entityId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the dblp url for given entity id</span>
<span class="sd">        Args:</span>
<span class="sd">            entityId: volume url</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">entityId</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">entityId</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">entityUrl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">DBLP_REC_PREFIX</span> <span class="o">+</span> <span class="n">entityId</span>
        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;PREFIX dblp: &lt;https://dblp.org/rdf/schema#&gt;</span>
<span class="s2">                SELECT *</span>
<span class="s2">                WHERE </span><span class="se">{{</span><span class="s2"> </span>
<span class="s2">                    &lt;</span><span class="si">{</span><span class="n">entityUrl</span><span class="si">}</span><span class="s2">&gt; dblp:listedOnTocPage ?url .</span>
<span class="s2">                    </span><span class="se">}}</span>
<span class="s2">            &quot;&quot;&quot;</span>
        <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="n">qIds</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">qres</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">qres</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">qIds</span> <span class="o">=</span> <span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;url&quot;</span><span class="p">)[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">DBLP_EVENT_PREFIX</span><span class="p">)</span> <span class="p">:]</span> <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">]</span>
        <span class="n">qId</span> <span class="o">=</span> <span class="n">qIds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">qIds</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">qIds</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">qId</span>

    <span class="k">def</span> <span class="nf">convertEntityIdToUrlId</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entityId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Convert the given entityId to the id used in the url</span>
<span class="sd">        Note: use with care this conversion does not always work</span>
<span class="sd">        Args:</span>
<span class="sd">            entityId: id of the entity</span>
<span class="sd">        Example:</span>
<span class="sd">            conf/aaai/2022 → conf/aaai/aaai2022</span>

<span class="sd">        Returns</span>
<span class="sd">            str - id used in the url</span>
<span class="sd">            None - if the given entityId can not be converted</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">getDblpUrlByDblpId</span><span class="p">(</span><span class="n">entityId</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">toDblpUrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entityId</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">withPostfix</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Convert the given id to the corresponding dblp url</span>
<span class="sd">        Args:</span>
<span class="sd">            entityId: dblp event id</span>
<span class="sd">            withPostfix: If True add the postfix &quot;.html&quot;</span>

<span class="sd">        Returns:</span>
<span class="sd">            dblp url of None if the url can not be generated for the given input</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">urlId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convertEntityIdToUrlId</span><span class="p">(</span><span class="n">entityId</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">urlId</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">postfix</span> <span class="o">=</span> <span class="s2">&quot;.html&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">DBLP_EVENT_PREFIX</span> <span class="o">+</span> <span class="n">urlId</span>
        <span class="k">if</span> <span class="n">withPostfix</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">+=</span> <span class="n">postfix</span>
        <span class="k">return</span> <span class="n">url</span>

    <span class="k">def</span> <span class="nf">getEditorsOfVolume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the editors for the given volume number</span>
<span class="sd">        Args:</span>
<span class="sd">            number: number of the volume if none query for all ceur-ws editors</span>

<span class="sd">        Returns:</span>
<span class="sd">            list of dictionaries where a dict represents one editor containing all identifiers of the editor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">number_var</span> <span class="o">=</span> <span class="s2">&quot;?volumeNumber&quot;</span> <span class="k">if</span> <span class="n">number</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
        <span class="n">dblp_identifiers</span> <span class="o">=</span> <span class="n">DblpAuthorIdentifier</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">optional_clauses</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">id_vars</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">identifier</span> <span class="ow">in</span> <span class="n">dblp_identifiers</span><span class="p">:</span>
            <span class="n">id_var</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;?</span><span class="si">{</span><span class="n">identifier</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">optional_clauses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;&quot;&quot;OPTIONAL</span><span class="se">{{</span>
<span class="s2">                ?editor datacite:hasIdentifier </span><span class="si">{</span><span class="n">id_var</span><span class="si">}</span><span class="s2">_blank.</span>
<span class="s2">                </span><span class="si">{</span><span class="n">id_var</span><span class="si">}</span><span class="s2">_blank datacite:usesIdentifierScheme </span><span class="si">{</span><span class="n">identifier</span><span class="o">.</span><span class="n">dblp_property</span><span class="si">}</span><span class="s2">;</span>
<span class="s2">                litre:hasLiteralValue </span><span class="si">{</span><span class="n">id_var</span><span class="si">}</span><span class="s2">Var.</span><span class="se">}}</span><span class="s2">&quot;&quot;&quot;</span>
            <span class="p">)</span>
            <span class="n">id_vars</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">id_var</span><span class="p">)</span>
        <span class="n">id_selects</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;(group_concat(DISTINCT </span><span class="si">{</span><span class="n">id_var</span><span class="si">}</span><span class="s2">Var;separator=&#39;|&#39;) as </span><span class="si">{</span><span class="n">id_var</span><span class="si">}</span><span class="s2">)&quot;</span> <span class="k">for</span> <span class="n">id_var</span> <span class="ow">in</span> <span class="n">id_vars</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">id_queries</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">optional_clauses</span><span class="p">)</span>
        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;PREFIX datacite: &lt;http://purl.org/spar/datacite/&gt;</span>
<span class="s2">                    PREFIX dblp: &lt;https://dblp.org/rdf/schema#&gt;</span>
<span class="s2">                    PREFIX litre: &lt;http://purl.org/spar/literal/&gt;</span>
<span class="s2">                    SELECT DISTINCT (group_concat(DISTINCT ?nameVar;separator=&#39;|&#39;) as ?name) </span>
<span class="s2">                                    (group_concat(DISTINCT ?homepageVar;separator=&#39;|&#39;) as ?homepage)</span>
<span class="s2">                                    (group_concat(DISTINCT ?affiliationVar;separator=&#39;|&#39;) as ?affiliation)</span>
<span class="s2">                                    </span><span class="si">{</span><span class="n">id_selects</span><span class="si">}</span>
<span class="s2">                    WHERE</span><span class="se">{{</span>
<span class="s2">                        ?proceeding dblp:publishedIn &quot;CEUR Workshop Proceedings&quot;;</span>
<span class="s2">                                    dblp:publishedInSeriesVolume </span><span class="si">{</span><span class="n">number_var</span><span class="si">}</span><span class="s2">;</span>
<span class="s2">                                    dblp:editedBy ?editor.</span>
<span class="s2">                        ?editor dblp:primaryCreatorName ?nameVar.</span>
<span class="s2">                        OPTIONAL</span><span class="se">{{</span><span class="s2">?editor dblp:primaryHomepage ?homepageVar.</span><span class="se">}}</span>
<span class="s2">                        OPTIONAL</span><span class="se">{{</span><span class="s2">?editor dblp:primaryAffiliation ?affiliationVar.</span><span class="se">}}</span>
<span class="s2">                        </span><span class="si">{</span><span class="n">id_queries</span><span class="si">}</span>
<span class="s2">                    </span><span class="se">}}</span>
<span class="s2">                    GROUP BY ?editor</span>
<span class="s2">                &quot;&quot;&quot;</span>
        <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">record</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="s2">&quot;|&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                    <span class="n">record</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span>
                        <span class="s1">&#39;&quot;|&quot;&#39;</span>
                    <span class="p">)</span>  <span class="c1"># issue in qlever see https://github.com/ad-freiburg/qlever/discussions/806</span>
        <span class="k">return</span> <span class="n">qres</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpEndpoint.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>constructor</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    constructor</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span> <span class="o">=</span> <span class="n">SPARQL</span><span class="p">(</span><span class="n">endpoint</span><span class="p">)</span>
    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
    <span class="n">qYamlFile</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">/resources/queries/dblp.yaml&quot;</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">qYamlFile</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qm</span> <span class="o">=</span> <span class="n">QueryManager</span><span class="p">(</span><span class="n">lang</span><span class="o">=</span><span class="s2">&quot;sparql&quot;</span><span class="p">,</span> <span class="n">queriesPath</span><span class="o">=</span><span class="n">qYamlFile</span><span class="p">)</span>
    <span class="c1"># there is one cache manager for all our json caches</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cache_manager</span> <span class="o">=</span> <span class="n">CacheManager</span><span class="p">(</span><span class="s2">&quot;ceurws&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dblp_authors</span> <span class="o">=</span> <span class="n">DblpAuthors</span><span class="p">(</span><span class="n">endpoint</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dblp_editors</span> <span class="o">=</span> <span class="n">DblpEditors</span><span class="p">(</span><span class="n">endpoint</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dblp_papers</span> <span class="o">=</span> <span class="n">DblpPapers</span><span class="p">(</span><span class="n">endpoint</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dblp_volumes</span> <span class="o">=</span> <span class="n">DblpVolumes</span><span class="p">(</span><span class="n">endpoint</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dblp_managers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;dblp/authors&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblp_authors</span><span class="p">,</span>
        <span class="s2">&quot;dblp/editors&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblp_editors</span><span class="p">,</span>
        <span class="s2">&quot;dblp/papers&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblp_papers</span><span class="p">,</span>
        <span class="s2">&quot;dblp/volumes&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblp_volumes</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpEndpoint.convertEntityIdToUrlId" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">convertEntityIdToUrlId</span><span class="p">(</span><span class="n">entityId</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Convert the given entityId to the id used in the url
Note: use with care this conversion does not always work
Args:
    entityId: id of the entity
Example:
    conf/aaai/2022 → conf/aaai/aaai2022</p>
<p>Returns
    str - id used in the url
    None - if the given entityId can not be converted</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">convertEntityIdToUrlId</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entityId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert the given entityId to the id used in the url</span>
<span class="sd">    Note: use with care this conversion does not always work</span>
<span class="sd">    Args:</span>
<span class="sd">        entityId: id of the entity</span>
<span class="sd">    Example:</span>
<span class="sd">        conf/aaai/2022 → conf/aaai/aaai2022</span>

<span class="sd">    Returns</span>
<span class="sd">        str - id used in the url</span>
<span class="sd">        None - if the given entityId can not be converted</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">getDblpUrlByDblpId</span><span class="p">(</span><span class="n">entityId</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpEndpoint.getDblpIdByVolumeNumber" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getDblpIdByVolumeNumber</span><span class="p">(</span><span class="n">number</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Get the dblp entity id by given volume number
Args:
    number: volume number</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getDblpIdByVolumeNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the dblp entity id by given volume number</span>
<span class="sd">    Args:</span>
<span class="sd">        number: volume number</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;PREFIX dblp: &lt;https://dblp.org/rdf/schema#&gt;</span>
<span class="s2">        SELECT *</span>
<span class="s2">        WHERE </span><span class="se">{{</span><span class="s2"> </span>
<span class="s2">            ?proceeding dblp:publishedIn &quot;CEUR Workshop Proceedings&quot;;</span>
<span class="s2">                        dblp:publishedInSeriesVolume &quot;</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">&quot;.</span>
<span class="s2">            </span><span class="se">}}</span>
<span class="s2">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">HTTPError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;dblp sparql endpoint unavailable&quot;</span><span class="p">)</span>
        <span class="n">qres</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">qIds</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">qres</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">qres</span> <span class="o">!=</span> <span class="p">[]:</span>
        <span class="n">qIds</span> <span class="o">=</span> <span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proceeding&quot;</span><span class="p">)[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">DBLP_REC_PREFIX</span><span class="p">)</span> <span class="p">:]</span> <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">qIds</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpEndpoint.getDblpUrlByDblpId" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getDblpUrlByDblpId</span><span class="p">(</span><span class="n">entityId</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Get the dblp url for given entity id
Args:
    entityId: volume url</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getDblpUrlByDblpId</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entityId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the dblp url for given entity id</span>
<span class="sd">    Args:</span>
<span class="sd">        entityId: volume url</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">entityId</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">entityId</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">entityUrl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">DBLP_REC_PREFIX</span> <span class="o">+</span> <span class="n">entityId</span>
    <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;PREFIX dblp: &lt;https://dblp.org/rdf/schema#&gt;</span>
<span class="s2">            SELECT *</span>
<span class="s2">            WHERE </span><span class="se">{{</span><span class="s2"> </span>
<span class="s2">                &lt;</span><span class="si">{</span><span class="n">entityUrl</span><span class="si">}</span><span class="s2">&gt; dblp:listedOnTocPage ?url .</span>
<span class="s2">                </span><span class="se">}}</span>
<span class="s2">        &quot;&quot;&quot;</span>
    <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">qIds</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">qres</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">qres</span> <span class="o">!=</span> <span class="p">[]:</span>
        <span class="n">qIds</span> <span class="o">=</span> <span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;url&quot;</span><span class="p">)[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">DBLP_EVENT_PREFIX</span><span class="p">)</span> <span class="p">:]</span> <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">]</span>
    <span class="n">qId</span> <span class="o">=</span> <span class="n">qIds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">qIds</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">qIds</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">qId</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpEndpoint.getEditorsOfVolume" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getEditorsOfVolume</span><span class="p">(</span><span class="n">number</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Get the editors for the given volume number
Args:
    number: number of the volume if none query for all ceur-ws editors</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[dict]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list of dictionaries where a dict represents one editor containing all identifiers of the editor</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getEditorsOfVolume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the editors for the given volume number</span>
<span class="sd">    Args:</span>
<span class="sd">        number: number of the volume if none query for all ceur-ws editors</span>

<span class="sd">    Returns:</span>
<span class="sd">        list of dictionaries where a dict represents one editor containing all identifiers of the editor</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">number_var</span> <span class="o">=</span> <span class="s2">&quot;?volumeNumber&quot;</span> <span class="k">if</span> <span class="n">number</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s1">&quot;&#39;</span>
    <span class="n">dblp_identifiers</span> <span class="o">=</span> <span class="n">DblpAuthorIdentifier</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">optional_clauses</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">id_vars</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">identifier</span> <span class="ow">in</span> <span class="n">dblp_identifiers</span><span class="p">:</span>
        <span class="n">id_var</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;?</span><span class="si">{</span><span class="n">identifier</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">optional_clauses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;&quot;&quot;OPTIONAL</span><span class="se">{{</span>
<span class="s2">            ?editor datacite:hasIdentifier </span><span class="si">{</span><span class="n">id_var</span><span class="si">}</span><span class="s2">_blank.</span>
<span class="s2">            </span><span class="si">{</span><span class="n">id_var</span><span class="si">}</span><span class="s2">_blank datacite:usesIdentifierScheme </span><span class="si">{</span><span class="n">identifier</span><span class="o">.</span><span class="n">dblp_property</span><span class="si">}</span><span class="s2">;</span>
<span class="s2">            litre:hasLiteralValue </span><span class="si">{</span><span class="n">id_var</span><span class="si">}</span><span class="s2">Var.</span><span class="se">}}</span><span class="s2">&quot;&quot;&quot;</span>
        <span class="p">)</span>
        <span class="n">id_vars</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">id_var</span><span class="p">)</span>
    <span class="n">id_selects</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;(group_concat(DISTINCT </span><span class="si">{</span><span class="n">id_var</span><span class="si">}</span><span class="s2">Var;separator=&#39;|&#39;) as </span><span class="si">{</span><span class="n">id_var</span><span class="si">}</span><span class="s2">)&quot;</span> <span class="k">for</span> <span class="n">id_var</span> <span class="ow">in</span> <span class="n">id_vars</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">id_queries</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">optional_clauses</span><span class="p">)</span>
    <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;PREFIX datacite: &lt;http://purl.org/spar/datacite/&gt;</span>
<span class="s2">                PREFIX dblp: &lt;https://dblp.org/rdf/schema#&gt;</span>
<span class="s2">                PREFIX litre: &lt;http://purl.org/spar/literal/&gt;</span>
<span class="s2">                SELECT DISTINCT (group_concat(DISTINCT ?nameVar;separator=&#39;|&#39;) as ?name) </span>
<span class="s2">                                (group_concat(DISTINCT ?homepageVar;separator=&#39;|&#39;) as ?homepage)</span>
<span class="s2">                                (group_concat(DISTINCT ?affiliationVar;separator=&#39;|&#39;) as ?affiliation)</span>
<span class="s2">                                </span><span class="si">{</span><span class="n">id_selects</span><span class="si">}</span>
<span class="s2">                WHERE</span><span class="se">{{</span>
<span class="s2">                    ?proceeding dblp:publishedIn &quot;CEUR Workshop Proceedings&quot;;</span>
<span class="s2">                                dblp:publishedInSeriesVolume </span><span class="si">{</span><span class="n">number_var</span><span class="si">}</span><span class="s2">;</span>
<span class="s2">                                dblp:editedBy ?editor.</span>
<span class="s2">                    ?editor dblp:primaryCreatorName ?nameVar.</span>
<span class="s2">                    OPTIONAL</span><span class="se">{{</span><span class="s2">?editor dblp:primaryHomepage ?homepageVar.</span><span class="se">}}</span>
<span class="s2">                    OPTIONAL</span><span class="se">{{</span><span class="s2">?editor dblp:primaryAffiliation ?affiliationVar.</span><span class="se">}}</span>
<span class="s2">                    </span><span class="si">{</span><span class="n">id_queries</span><span class="si">}</span>
<span class="s2">                </span><span class="se">}}</span>
<span class="s2">                GROUP BY ?editor</span>
<span class="s2">            &quot;&quot;&quot;</span>
    <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">record</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="s2">&quot;|&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                <span class="n">record</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span>
                    <span class="s1">&#39;&quot;|&quot;&#39;</span>
                <span class="p">)</span>  <span class="c1"># issue in qlever see https://github.com/ad-freiburg/qlever/discussions/806</span>
    <span class="k">return</span> <span class="n">qres</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpEndpoint.get_ceur_proceeding" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_ceur_proceeding</span><span class="p">(</span><span class="n">volume_number</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>get ceur proceeding by volume number from dblp
Args:
    volume_number: number of the volume</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_ceur_proceeding</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DblpProceeding</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get ceur proceeding by volume number from dblp</span>
<span class="sd">    Args:</span>
<span class="sd">        volume_number: number of the volume</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cache_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;dblp/Vol-</span><span class="si">{</span><span class="n">volume_number</span><span class="si">}</span><span class="s2">/metadata&quot;</span>
    <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_manager</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">cache_name</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="n">DblpProceeding</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">volume</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpEndpoint.get_ceur_volume_papers" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_ceur_volume_papers</span><span class="p">(</span><span class="n">volume_number</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Get all papers published in CEUR-WS from dblp</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_ceur_volume_papers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpPaper</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all papers published in CEUR-WS from dblp</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cache_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;dblp/Vol-</span><span class="si">{</span><span class="n">volume_number</span><span class="si">}</span><span class="s2">/papers&quot;</span>
    <span class="n">lod</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_manager</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">cache_name</span><span class="p">)</span>
    <span class="n">papers</span> <span class="o">=</span> <span class="p">[</span><span class="n">DblpPaper</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">lod</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">papers</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpEndpoint.get_lod" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_lod</span><span class="p">(</span><span class="n">cache_name</span><span class="p">,</span> <span class="n">query_name</span><span class="p">,</span> <span class="n">force_query</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Get the list of dictionaries for the given cache and query names,
optionally forcing a query.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>cache_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the cache to load or store the LOD.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>query_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the query to execute if the data is not cached or forced to query.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>force_query</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, forces the query execution even if the data is cached. Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[Dict]: The list of dictionaries loaded either from cache or by executing the SPARQL query.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_lod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cache_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">query_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">force_query</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the list of dictionaries for the given cache and query names,</span>
<span class="sd">    optionally forcing a query.</span>

<span class="sd">    Args:</span>
<span class="sd">        cache_name (str): The name of the cache to load or store the LOD.</span>
<span class="sd">        query_name (str): The name of the query to execute if the data is not cached or forced to query.</span>
<span class="sd">        force_query (bool): If True, forces the query execution even if the data is cached. Defaults to False.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[Dict]: The list of dictionaries loaded either from cache or by executing the SPARQL query.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>  <span class="c1"># Record the start time of the operation</span>
    <span class="n">cache</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_manager</span><span class="o">.</span><span class="n">get_cache_by_name</span><span class="p">(</span><span class="n">cache_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cache</span><span class="o">.</span><span class="n">is_stored</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force_query</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;loading </span><span class="si">{</span><span class="n">cache_name</span><span class="si">}</span><span class="s2"> from cache&quot;</span><span class="p">)</span>
        <span class="n">lod</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_manager</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">cache_name</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">qm</span><span class="o">.</span><span class="n">queriesByName</span><span class="p">[</span><span class="n">query_name</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;loading </span><span class="si">{</span><span class="n">cache_name</span><span class="si">}</span><span class="s2"> from SPARQL query </span><span class="si">{</span><span class="n">query_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">lod</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache_manager</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="n">cache_name</span><span class="p">,</span> <span class="n">lod</span><span class="p">)</span>
    <span class="n">end_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>  <span class="c1"># Record the end time of the operation</span>
    <span class="n">duration</span> <span class="o">=</span> <span class="n">end_time</span> <span class="o">-</span> <span class="n">start_time</span>  <span class="c1"># Calculate the duration of the loading process</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;loaded </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">lod</span><span class="p">)</span><span class="si">}</span><span class="s2"> records for </span><span class="si">{</span><span class="n">cache_name</span><span class="si">}</span><span class="s2"> in </span><span class="si">{</span><span class="n">duration</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> seconds&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">duration</span> <span class="o">*</span> <span class="mi">100</span> <span class="o">/</span> <span class="mi">36</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">lod</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpEndpoint.load_all" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load_all</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>load all managers</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_query</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    load all managers</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">_key</span><span class="p">,</span> <span class="n">manager</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblp_managers</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">manager</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpEndpoint.toDblpUrl" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">toDblpUrl</span><span class="p">(</span><span class="n">entityId</span><span class="p">,</span> <span class="n">withPostfix</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Convert the given id to the corresponding dblp url
Args:
    entityId: dblp event id
    withPostfix: If True add the postfix ".html"</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dblp url of None if the url can not be generated for the given input</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">toDblpUrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entityId</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">withPostfix</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert the given id to the corresponding dblp url</span>
<span class="sd">    Args:</span>
<span class="sd">        entityId: dblp event id</span>
<span class="sd">        withPostfix: If True add the postfix &quot;.html&quot;</span>

<span class="sd">    Returns:</span>
<span class="sd">        dblp url of None if the url can not be generated for the given input</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">urlId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convertEntityIdToUrlId</span><span class="p">(</span><span class="n">entityId</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">urlId</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">postfix</span> <span class="o">=</span> <span class="s2">&quot;.html&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">DBLP_EVENT_PREFIX</span> <span class="o">+</span> <span class="n">urlId</span>
    <span class="k">if</span> <span class="n">withPostfix</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">+=</span> <span class="n">postfix</span>
    <span class="k">return</span> <span class="n">url</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.dblp.DblpManager" class="doc doc-heading">
            <code>DblpManager</code>


</h3>


    <div class="doc doc-contents ">


      <p>Manage DBLP entities.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.dblp.DblpManager.endpoint">endpoint</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ceurws.dblp.DblpEndpoint" href="#ceurws.dblp.DblpEndpoint">DblpEndpoint</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The endpoint for DBLP queries.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.dblp.DblpManager.cache_name">cache_name</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the cache to use.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.dblp.DblpManager.query_name">query_name</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the query to execute.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>ceurws/dblp.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DblpManager</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Manage DBLP entities.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        endpoint (DblpEndpoint): The endpoint for DBLP queries.</span>
<span class="sd">        cache_name (str): The name of the cache to use.</span>
<span class="sd">        query_name (str): The name of the query to execute.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="s2">&quot;DblpEndpoint&quot;</span><span class="p">,</span> <span class="n">cache_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">query_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the DBLP Manager with the given endpoint, cache name, and query name.</span>

<span class="sd">        Args:</span>
<span class="sd">            endpoint (DblpEndpoint): The endpoint for DBLP queries.</span>
<span class="sd">            cache_name (str): The name of the cache to use.</span>
<span class="sd">            query_name (str): The name of the query to execute.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span> <span class="o">=</span> <span class="n">endpoint</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache_name</span> <span class="o">=</span> <span class="n">cache_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">query_name</span> <span class="o">=</span> <span class="n">query_name</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_query</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads a list of dictionaries from the DBLP endpoint.</span>

<span class="sd">        Args:</span>
<span class="sd">            force_query (bool): If True, forces a new query to the endpoint. Defaults to False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lod</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">get_lod</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_name</span><span class="p">,</span> <span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpManager.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">cache_name</span><span class="p">,</span> <span class="n">query_name</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Initializes the DBLP Manager with the given endpoint, cache name, and query name.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>endpoint</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ceurws.dblp.DblpEndpoint" href="#ceurws.dblp.DblpEndpoint">DblpEndpoint</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The endpoint for DBLP queries.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>cache_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the cache to use.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>query_name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the query to execute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="s2">&quot;DblpEndpoint&quot;</span><span class="p">,</span> <span class="n">cache_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">query_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the DBLP Manager with the given endpoint, cache name, and query name.</span>

<span class="sd">    Args:</span>
<span class="sd">        endpoint (DblpEndpoint): The endpoint for DBLP queries.</span>
<span class="sd">        cache_name (str): The name of the cache to use.</span>
<span class="sd">        query_name (str): The name of the query to execute.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span> <span class="o">=</span> <span class="n">endpoint</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cache_name</span> <span class="o">=</span> <span class="n">cache_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">query_name</span> <span class="o">=</span> <span class="n">query_name</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpManager.load" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Loads a list of dictionaries from the DBLP endpoint.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>force_query</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, forces a new query to the endpoint. Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_query</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Loads a list of dictionaries from the DBLP endpoint.</span>

<span class="sd">    Args:</span>
<span class="sd">        force_query (bool): If True, forces a new query to the endpoint. Defaults to False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lod</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">get_lod</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_name</span><span class="p">,</span> <span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.dblp.DblpPapers" class="doc doc-heading">
            <code>DblpPapers</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ceurws.dblp.DblpManager" href="#ceurws.dblp.DblpManager">DblpManager</a></code></p>


      <p>manage all CEUR-WS papers indexed by dblp</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/dblp.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DblpPapers</span><span class="p">(</span><span class="n">DblpManager</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    manage all CEUR-WS papers indexed by dblp</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="s2">&quot;DblpEndpoint&quot;</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="s2">&quot;dblp/papers&quot;</span><span class="p">,</span> <span class="s2">&quot;CEUR-WS all Papers&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">papers</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpPaper</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">papers_by_volume</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">papersById</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DblpPaper</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">papersByProceeding</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpPaper</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_query</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        load my editors</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">papers</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>
            <span class="n">dblp_authors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">dblp_authors</span>
            <span class="n">dblp_authors</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">papers</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lod</span><span class="p">:</span>
                <span class="n">pdf_id</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pdf_url&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">pdf_id</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pdf_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="n">pdf_id</span> <span class="o">=</span> <span class="n">pdf_id</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;http://ceur-ws.org/&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                    <span class="n">pdf_id</span> <span class="o">=</span> <span class="n">pdf_id</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;https://ceur-ws.org/&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                    <span class="n">pdf_id</span> <span class="o">=</span> <span class="n">pdf_id</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.pdf&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="n">authors</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="c1"># get the authors string</span>
                <span class="n">authors_str</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;author&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="c1"># &gt;;&lt;  qlever quirk until 2023-12</span>
                <span class="n">delim</span> <span class="o">=</span> <span class="s2">&quot;&gt;;&lt;&quot;</span> <span class="k">if</span> <span class="s2">&quot;&gt;;&lt;&quot;</span> <span class="ow">in</span> <span class="n">authors_str</span> <span class="k">else</span> <span class="s2">&quot;;&quot;</span>
                <span class="k">for</span> <span class="n">dblp_author_id</span> <span class="ow">in</span> <span class="n">authors_str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">delim</span><span class="p">):</span>  <span class="c1">#</span>
                    <span class="n">author</span> <span class="o">=</span> <span class="n">dblp_authors</span><span class="o">.</span><span class="n">authorsById</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">dblp_author_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">author</span><span class="p">:</span>
                        <span class="n">authors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">author</span><span class="p">)</span>
                <span class="n">paper</span> <span class="o">=</span> <span class="n">DblpPaper</span><span class="p">(</span>
                    <span class="n">dblp_publication_id</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;paper&quot;</span><span class="p">),</span>
                    <span class="n">volume_number</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;volume_number&quot;</span><span class="p">)),</span>
                    <span class="n">dblp_proceeding_id</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proceeding&quot;</span><span class="p">),</span>
                    <span class="n">title</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">),</span>
                    <span class="n">pdf_id</span><span class="o">=</span><span class="n">pdf_id</span><span class="p">,</span>
                    <span class="n">authors</span><span class="o">=</span><span class="n">authors</span><span class="p">,</span>
                <span class="p">)</span>  <span class="c1"># type: ignore</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">papers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">paper</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">papers_by_volume</span> <span class="o">=</span> <span class="n">LOD</span><span class="o">.</span><span class="n">getLookup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">papers</span><span class="p">,</span> <span class="s2">&quot;volume_number&quot;</span><span class="p">,</span> <span class="n">withDuplicates</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">papersByProceeding</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">key</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">group</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">groupby</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">papers</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">paper</span><span class="p">:</span> <span class="n">paper</span><span class="o">.</span><span class="n">dblp_proceeding_id</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">papersById</span> <span class="o">=</span> <span class="p">{</span><span class="n">p</span><span class="o">.</span><span class="n">dblp_publication_id</span><span class="p">:</span> <span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">papers</span><span class="p">}</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">papers</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">{}</span>
            <span class="c1"># papers per volume</span>
            <span class="k">for</span> <span class="n">volume_number</span><span class="p">,</span> <span class="n">vol_papers</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">papers_by_volume</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="n">vol_paper_lod</span> <span class="o">=</span> <span class="p">[</span><span class="n">dataclasses</span><span class="o">.</span><span class="n">asdict</span><span class="p">(</span><span class="n">paper</span><span class="p">)</span> <span class="k">for</span> <span class="n">paper</span> <span class="ow">in</span> <span class="n">vol_papers</span><span class="p">]</span>
                <span class="n">cache_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;dblp/Vol-</span><span class="si">{</span><span class="n">volume_number</span><span class="si">}</span><span class="s2">/papers&quot;</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="mi">30</span> <span class="o">/</span> <span class="mi">3650</span><span class="p">)</span>
                    <span class="c1"># print(f&quot;caching {cache_name}&quot;)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">cache_manager</span><span class="o">.</span><span class="n">store</span><span class="p">(</span>
                    <span class="n">cache_name</span><span class="p">,</span>
                    <span class="n">vol_paper_lod</span><span class="p">,</span>
                <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpPapers.load" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>load my editors</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_query</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    load my editors</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">papers</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>
        <span class="n">dblp_authors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">dblp_authors</span>
        <span class="n">dblp_authors</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">papers</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lod</span><span class="p">:</span>
            <span class="n">pdf_id</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pdf_url&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">pdf_id</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pdf_id</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">pdf_id</span> <span class="o">=</span> <span class="n">pdf_id</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;http://ceur-ws.org/&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="n">pdf_id</span> <span class="o">=</span> <span class="n">pdf_id</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;https://ceur-ws.org/&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="n">pdf_id</span> <span class="o">=</span> <span class="n">pdf_id</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.pdf&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="n">authors</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="c1"># get the authors string</span>
            <span class="n">authors_str</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;author&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="c1"># &gt;;&lt;  qlever quirk until 2023-12</span>
            <span class="n">delim</span> <span class="o">=</span> <span class="s2">&quot;&gt;;&lt;&quot;</span> <span class="k">if</span> <span class="s2">&quot;&gt;;&lt;&quot;</span> <span class="ow">in</span> <span class="n">authors_str</span> <span class="k">else</span> <span class="s2">&quot;;&quot;</span>
            <span class="k">for</span> <span class="n">dblp_author_id</span> <span class="ow">in</span> <span class="n">authors_str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">delim</span><span class="p">):</span>  <span class="c1">#</span>
                <span class="n">author</span> <span class="o">=</span> <span class="n">dblp_authors</span><span class="o">.</span><span class="n">authorsById</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">dblp_author_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">author</span><span class="p">:</span>
                    <span class="n">authors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">author</span><span class="p">)</span>
            <span class="n">paper</span> <span class="o">=</span> <span class="n">DblpPaper</span><span class="p">(</span>
                <span class="n">dblp_publication_id</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;paper&quot;</span><span class="p">),</span>
                <span class="n">volume_number</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;volume_number&quot;</span><span class="p">)),</span>
                <span class="n">dblp_proceeding_id</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proceeding&quot;</span><span class="p">),</span>
                <span class="n">title</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">),</span>
                <span class="n">pdf_id</span><span class="o">=</span><span class="n">pdf_id</span><span class="p">,</span>
                <span class="n">authors</span><span class="o">=</span><span class="n">authors</span><span class="p">,</span>
            <span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">papers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">paper</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">papers_by_volume</span> <span class="o">=</span> <span class="n">LOD</span><span class="o">.</span><span class="n">getLookup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">papers</span><span class="p">,</span> <span class="s2">&quot;volume_number&quot;</span><span class="p">,</span> <span class="n">withDuplicates</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">papersByProceeding</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">key</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">group</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">groupby</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">papers</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">paper</span><span class="p">:</span> <span class="n">paper</span><span class="o">.</span><span class="n">dblp_proceeding_id</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">papersById</span> <span class="o">=</span> <span class="p">{</span><span class="n">p</span><span class="o">.</span><span class="n">dblp_publication_id</span><span class="p">:</span> <span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">papers</span><span class="p">}</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">papers</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">{}</span>
        <span class="c1"># papers per volume</span>
        <span class="k">for</span> <span class="n">volume_number</span><span class="p">,</span> <span class="n">vol_papers</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">papers_by_volume</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="n">vol_paper_lod</span> <span class="o">=</span> <span class="p">[</span><span class="n">dataclasses</span><span class="o">.</span><span class="n">asdict</span><span class="p">(</span><span class="n">paper</span><span class="p">)</span> <span class="k">for</span> <span class="n">paper</span> <span class="ow">in</span> <span class="n">vol_papers</span><span class="p">]</span>
            <span class="n">cache_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;dblp/Vol-</span><span class="si">{</span><span class="n">volume_number</span><span class="si">}</span><span class="s2">/papers&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="mi">30</span> <span class="o">/</span> <span class="mi">3650</span><span class="p">)</span>
                <span class="c1"># print(f&quot;caching {cache_name}&quot;)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">cache_manager</span><span class="o">.</span><span class="n">store</span><span class="p">(</span>
                <span class="n">cache_name</span><span class="p">,</span>
                <span class="n">vol_paper_lod</span><span class="p">,</span>
            <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.dblp.DblpVolumes" class="doc doc-heading">
            <code>DblpVolumes</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ceurws.dblp.DblpManager" href="#ceurws.dblp.DblpManager">DblpManager</a></code></p>


      <p>Manage all DBLP indexed volumes.</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/dblp.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DblpVolumes</span><span class="p">(</span><span class="n">DblpManager</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Manage all DBLP indexed volumes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">:</span> <span class="s2">&quot;DblpEndpoint&quot;</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="s2">&quot;dblp/volumes&quot;</span><span class="p">,</span> <span class="s2">&quot;CEUR-WS all Volumes&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volumes</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_query</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        load my volumes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">volumes</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>
            <span class="n">volumes</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">dblp_editors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">dblp_editors</span>
            <span class="n">dblp_editors</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>
            <span class="n">dblp_papers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">dblp_papers</span>
            <span class="n">dblp_papers</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lod</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;volume_number&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">3000</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="n">vol_editors</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">editor_str</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;editor&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="c1"># &gt;;&lt;  qlever quirk until 2023-12</span>
                <span class="n">delim</span> <span class="o">=</span> <span class="s2">&quot;&gt;;&lt;&quot;</span> <span class="k">if</span> <span class="s2">&quot;&gt;;&lt;&quot;</span> <span class="ow">in</span> <span class="n">editor_str</span> <span class="k">else</span> <span class="s2">&quot;;&quot;</span>
                <span class="k">for</span> <span class="n">dblp_author_id</span> <span class="ow">in</span> <span class="n">editor_str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">delim</span><span class="p">):</span>
                    <span class="n">editor</span> <span class="o">=</span> <span class="n">dblp_editors</span><span class="o">.</span><span class="n">editorsById</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">dblp_author_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">editor</span><span class="p">:</span>
                        <span class="n">vol_editors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">editor</span><span class="p">)</span>
                <span class="n">volume</span> <span class="o">=</span> <span class="n">DblpProceeding</span><span class="p">(</span>
                    <span class="n">dblp_publication_id</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proceeding&quot;</span><span class="p">),</span>
                    <span class="n">volume_number</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;volume_number&quot;</span><span class="p">)),</span>
                    <span class="n">dblp_event_id</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dblp_event_id&quot;</span><span class="p">),</span>
                    <span class="n">title</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">),</span>
                    <span class="n">editors</span><span class="o">=</span><span class="n">vol_editors</span><span class="p">,</span>
                    <span class="n">papers</span><span class="o">=</span><span class="n">dblp_papers</span><span class="o">.</span><span class="n">papersByProceeding</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proceeding&quot;</span><span class="p">)),</span>
                <span class="p">)</span>  <span class="c1"># type: ignore</span>
                <span class="n">volumes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
            <span class="n">volume_by_number</span><span class="p">,</span> <span class="n">_errors</span> <span class="o">=</span> <span class="n">LOD</span><span class="o">.</span><span class="n">getLookup</span><span class="p">(</span><span class="n">volumes</span><span class="p">,</span> <span class="s2">&quot;volume_number&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">number</span><span class="p">,</span> <span class="n">volume</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">volume_by_number</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
                <span class="n">cache_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;dblp/Vol-</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">/metadata&quot;</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mi">30</span> <span class="o">/</span> <span class="mi">3650</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">cache_manager</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="n">cache_name</span><span class="p">,</span> <span class="n">volume</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">volumes</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.dblp.DblpVolumes.load" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>load my volumes</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/dblp.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_query</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    load my volumes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">volumes</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>
        <span class="n">volumes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">dblp_editors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">dblp_editors</span>
        <span class="n">dblp_editors</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>
        <span class="n">dblp_papers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">dblp_papers</span>
        <span class="n">dblp_papers</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">force_query</span><span class="o">=</span><span class="n">force_query</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lod</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;volume_number&quot;</span><span class="p">))</span> <span class="o">==</span> <span class="mi">3000</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="n">vol_editors</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">editor_str</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;editor&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="c1"># &gt;;&lt;  qlever quirk until 2023-12</span>
            <span class="n">delim</span> <span class="o">=</span> <span class="s2">&quot;&gt;;&lt;&quot;</span> <span class="k">if</span> <span class="s2">&quot;&gt;;&lt;&quot;</span> <span class="ow">in</span> <span class="n">editor_str</span> <span class="k">else</span> <span class="s2">&quot;;&quot;</span>
            <span class="k">for</span> <span class="n">dblp_author_id</span> <span class="ow">in</span> <span class="n">editor_str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">delim</span><span class="p">):</span>
                <span class="n">editor</span> <span class="o">=</span> <span class="n">dblp_editors</span><span class="o">.</span><span class="n">editorsById</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">dblp_author_id</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">editor</span><span class="p">:</span>
                    <span class="n">vol_editors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">editor</span><span class="p">)</span>
            <span class="n">volume</span> <span class="o">=</span> <span class="n">DblpProceeding</span><span class="p">(</span>
                <span class="n">dblp_publication_id</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proceeding&quot;</span><span class="p">),</span>
                <span class="n">volume_number</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;volume_number&quot;</span><span class="p">)),</span>
                <span class="n">dblp_event_id</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dblp_event_id&quot;</span><span class="p">),</span>
                <span class="n">title</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">),</span>
                <span class="n">editors</span><span class="o">=</span><span class="n">vol_editors</span><span class="p">,</span>
                <span class="n">papers</span><span class="o">=</span><span class="n">dblp_papers</span><span class="o">.</span><span class="n">papersByProceeding</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proceeding&quot;</span><span class="p">)),</span>
            <span class="p">)</span>  <span class="c1"># type: ignore</span>
            <span class="n">volumes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
        <span class="n">volume_by_number</span><span class="p">,</span> <span class="n">_errors</span> <span class="o">=</span> <span class="n">LOD</span><span class="o">.</span><span class="n">getLookup</span><span class="p">(</span><span class="n">volumes</span><span class="p">,</span> <span class="s2">&quot;volume_number&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">number</span><span class="p">,</span> <span class="n">volume</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">volume_by_number</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="n">cache_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;dblp/Vol-</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">/metadata&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mi">30</span> <span class="o">/</span> <span class="mi">3650</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">cache_manager</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="n">cache_name</span><span class="p">,</span> <span class="n">volume</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">volumes</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.indexparser" class="doc doc-heading">
            <code>indexparser</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 11.08.2022</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.indexparser.IndexHtmlParser" class="doc doc-heading">
            <code>IndexHtmlParser</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ceurws.textparser.Textparser" href="#ceurws.textparser.Textparser">Textparser</a></code></p>


      <p>CEUR-WS Index.html parser</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/indexparser.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">IndexHtmlParser</span><span class="p">(</span><span class="n">Textparser</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    CEUR-WS Index.html parser</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">htmlText</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ParserConfig</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor</span>

<span class="sd">        Args:</span>
<span class="sd">            htmlText(str): the HTML text of the index page</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">config</span> <span class="o">=</span> <span class="n">ParserConfig</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config</span>
        <span class="n">Textparser</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">htmlText</span> <span class="o">=</span> <span class="n">htmlText</span>
        <span class="c1"># soup (in memory is slow)</span>
        <span class="c1"># soup = BeautifulSoup(html_page, &#39;html.parser&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="o">=</span> <span class="n">htmlText</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="c1"># trStart, trEnd = makeHTMLTags(&quot;tr&quot;)</span>
        <span class="c1"># self.tr = trStart + SkipTo(trEnd).setResultsName(&quot;tr&quot;) + trEnd.suppress()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linkPattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;&quot;&quot;.*href=[\&#39;&quot;]?([^\&#39;&quot; &gt;]+).*&quot;&quot;&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volPattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;http://ceur-ws.org/Vol-([0-9]+)&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volLinkPattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
<span class="w">            </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;.*&lt;a\s+href=[\&#39;&quot;]http://ceur-ws.org/Vol-([0-9]+)[/]?[\&#39;&quot;]&gt;([^&lt;]*)&lt;/a&gt;.*&quot;&quot;&quot;</span><span class="p">,</span>
            <span class="n">re</span><span class="o">.</span><span class="n">I</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">DOTALL</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># Pre-compile patterns used in find and findVolume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thColspanPattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^.*&lt;th\s*colspan&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trStartPattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^\s*&lt;tr&gt;&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trEndPattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^\s*&lt;/tr&gt;&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
        <span class="c1"># Pre-compile patterns used in setVolumeTitle</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">editedByPattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;Edited by:&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tdBgColorPattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;&lt;td bgcolor&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">startLine</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">compiledPattern</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        find the next line with the given compiled regular expression pattern</span>

<span class="sd">        Args:</span>
<span class="sd">            startLine(int): index of the line to start search</span>
<span class="sd">            compiledPattern(re.Pattern): the compiled regular expression pattern to search for</span>
<span class="sd">            step(int): the steps to take e.g. +1 for forward -1 for backwards</span>

<span class="sd">        Return:</span>
<span class="sd">            int: the line number of the line or None if nothing was found</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lineNo</span> <span class="o">=</span> <span class="n">startLine</span>
        <span class="k">while</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">lineNo</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">[</span><span class="n">lineNo</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">compiledPattern</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">lineNo</span>
            <span class="n">lineNo</span> <span class="o">+=</span> <span class="n">step</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">findVolume</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">volCount</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">startLine</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">expectedTr</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
        <span class="n">progress</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        find Volume lines from the given startLine</span>

<span class="sd">        Args:</span>
<span class="sd">            volCount(int): the volumeCount before the startLine</span>
<span class="sd">            startLine(int): index of the line to search</span>
<span class="sd">            expectedTr(int): number of &lt;tr&gt; tags expected</span>
<span class="sd">            progress(int): how often to show the progress</span>

<span class="sd">        Returns:</span>
<span class="sd">            endLine of the volume html or None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">trStartLine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">startLine</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">thColspanPattern</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">trStartLine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">lineNo</span> <span class="o">=</span> <span class="n">trStartLine</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">trCount</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">while</span> <span class="n">lineNo</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">):</span>
                <span class="n">trLine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">lineNo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">trStartPattern</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">trLine</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">lineNo</span> <span class="o">=</span> <span class="n">trLine</span> <span class="o">+</span> <span class="mi">1</span>
                    <span class="n">trCount</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="n">trCount</span> <span class="o">==</span> <span class="n">expectedTr</span><span class="p">:</span>
                        <span class="n">trEndLine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">lineNo</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">trEndPattern</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">volCount</span> <span class="o">%</span> <span class="n">progress</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span>
                            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;volume count </span><span class="si">{</span><span class="n">volCount</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s2">4</span><span class="si">}</span><span class="s2">: lines </span><span class="si">{</span><span class="n">trStartLine</span><span class="si">:</span><span class="s2">6</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">trEndLine</span><span class="si">:</span><span class="s2">6</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                        <span class="k">return</span> <span class="n">trStartLine</span><span class="p">,</span> <span class="n">trEndLine</span>
        <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">setVolumeNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">,</span> <span class="n">href</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        set the volumen number</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">href</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">volNumber</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMatch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volPattern</span><span class="p">,</span> <span class="n">href</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">volNumber</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">volume</span><span class="p">[</span><span class="s2">&quot;number&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">volNumber</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">setVolumeName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        set the volume name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">volName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMatch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volLinkPattern</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">volName</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">valid</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">volName</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;http:&quot;</span><span class="p">):</span>
                <span class="n">invalidKeys</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;deleted upon editor request&quot;</span><span class="p">,</span> <span class="s2">&quot;Not used&quot;</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">invalidKey</span> <span class="ow">in</span> <span class="n">invalidKeys</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">invalidKey</span> <span class="ow">in</span> <span class="n">volName</span><span class="p">:</span>
                        <span class="n">href</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMatch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">linkPattern</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">setVolumeNumber</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">href</span><span class="p">)</span>
                        <span class="n">valid</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">volume</span><span class="p">[</span><span class="s2">&quot;valid&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">valid</span>
                <span class="k">if</span> <span class="n">valid</span><span class="p">:</span>
                    <span class="n">volName</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">unescape</span><span class="p">(</span><span class="n">volName</span><span class="p">)</span>
                    <span class="n">volName</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">volName</span><span class="p">)</span>
                    <span class="n">volume</span><span class="p">[</span><span class="s2">&quot;volname&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">volName</span>

    <span class="k">def</span> <span class="nf">setVolumeTitle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">lineIndex</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        set the volume title</span>

<span class="sd">        Args:</span>
<span class="sd">            volume(dict): the volumeRecord to modify</span>
<span class="sd">            lineIndex: where to start setting the volumeTitle</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">editedByLine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">lineIndex</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">editedByPattern</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">editedByLine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">tdLine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">editedByLine</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tdBgColorPattern</span><span class="p">,</span> <span class="n">step</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">tdLine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">tdIndex</span> <span class="o">=</span> <span class="n">tdLine</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
                <span class="n">delim</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
                <span class="k">while</span> <span class="n">tdIndex</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">):</span>
                    <span class="n">line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">[</span><span class="n">tdIndex</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Edited by:&quot;</span><span class="p">):</span>
                        <span class="k">break</span>
                    <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="p">[</span>
                        <span class="s1">&#39;&lt;TD bgcolor=&quot;#FFFFFF&quot;&gt;&amp;nbsp;&lt;/TD&gt;&lt;TD bgcolor=&quot;#FFFFFF&quot;&gt;&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;&lt;TD bgcolor=&quot;#FFFFFF&quot;&gt;&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;&lt;td bgcolor=&quot;#FFFFFF&quot;&gt;&#39;</span><span class="p">,</span>
                        <span class="s2">&quot;&lt;BR&gt;&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">,</span>
                    <span class="p">]:</span>
                        <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
                    <span class="n">title</span> <span class="o">+=</span> <span class="n">line</span> <span class="o">+</span> <span class="n">delim</span>
                    <span class="n">delim</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span>
                    <span class="n">tdIndex</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">volume</span><span class="p">[</span><span class="s2">&quot;tdtitle&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">unescape</span><span class="p">(</span><span class="n">title</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">setSeeAlsoVolumes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">firstLine</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">lastLine</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extract and set the volume numbers form the see also list</span>
<span class="sd">        Example result {&quot;seealso&quot;: [&quot;Vol-3067&quot;]}</span>

<span class="sd">        Args:</span>
<span class="sd">            volume: the volumeRecord to modify</span>
<span class="sd">            lineIndex: where to start setting the volumeTitle</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">volumes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">see_also</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">firstLine</span><span class="p">,</span> <span class="n">lastLine</span><span class="p">):</span>
            <span class="n">see_also</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">[</span><span class="n">line</span><span class="p">]</span>
        <span class="n">see_also_section</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;see also:(.*?)&lt;/font&gt;&quot;</span><span class="p">,</span> <span class="n">see_also</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">DOTALL</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">see_also_section</span><span class="p">:</span>
            <span class="c1"># Extract the volumes using regex from the see also section</span>
            <span class="n">volumes</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
                <span class="sa">r</span><span class="s1">&#39;&lt;a href=&quot;#(Vol-\d+)&quot;&gt;&#39;</span><span class="p">,</span>
                <span class="n">see_also_section</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
                <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">volume</span><span class="p">[</span><span class="s2">&quot;seealso&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">volumes</span>

    <span class="k">def</span> <span class="nf">getInfo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">info</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the info for the given patterns trying to match the pattern on</span>
<span class="sd">        the given line</span>

<span class="sd">        Args:</span>
<span class="sd">            volume(dict): the result dict</span>
<span class="sd">            info(str): the name of the dict key to fill</span>
<span class="sd">            pattern(regexp): the regular expression to check</span>
<span class="sd">            line(str): the line to check</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">infoValue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMatch</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">infoValue</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">delim</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;&lt;BR&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">]:</span>
                <span class="n">infoValue</span> <span class="o">=</span> <span class="n">infoValue</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">delim</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="n">infoValue</span> <span class="o">=</span> <span class="n">infoValue</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">info</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;editors&quot;</span><span class="p">,</span> <span class="s2">&quot;submittedBy&quot;</span><span class="p">]:</span>
                <span class="n">infoValue</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">unescape</span><span class="p">(</span><span class="n">infoValue</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">info</span> <span class="o">==</span> <span class="s2">&quot;pubDate&quot;</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">infoValue</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">infoValue</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">-%b-%Y&quot;</span><span class="p">)</span>
                    <span class="n">published</span> <span class="o">=</span> <span class="n">infoValue</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">volume</span><span class="p">[</span><span class="s2">&quot;published&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">published</span>
                    <span class="n">volume</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">infoValue</span><span class="o">.</span><span class="n">year</span>
                <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">ve</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;pubDate: </span><span class="si">{</span><span class="n">infoValue</span><span class="si">}</span><span class="s2"> of </span><span class="si">{</span><span class="n">volume</span><span class="si">}</span><span class="s2"> parsing failed with </span><span class="si">{</span><span class="n">ve</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">info</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;urn&quot;</span><span class="p">,</span> <span class="s2">&quot;url&quot;</span><span class="p">,</span> <span class="s2">&quot;archive&quot;</span><span class="p">]:</span>
                <span class="n">href</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMatch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">linkPattern</span><span class="p">,</span> <span class="n">infoValue</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">href</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">infoValue</span> <span class="o">=</span> <span class="n">href</span>
                    <span class="k">if</span> <span class="n">info</span> <span class="o">==</span> <span class="s2">&quot;url&quot;</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">setVolumeNumber</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">href</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">info</span> <span class="o">==</span> <span class="s2">&quot;urn&quot;</span><span class="p">:</span>
                        <span class="n">infoValue</span> <span class="o">=</span> <span class="n">href</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;https://nbn-resolving.org/&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="n">volume</span><span class="p">[</span><span class="n">info</span><span class="p">]</span> <span class="o">=</span> <span class="n">infoValue</span>

    <span class="k">def</span> <span class="nf">parseVolume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volCount</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">fromLine</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">toLine</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        parse a volume from the given line range</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lineCount</span> <span class="o">=</span> <span class="n">toLine</span> <span class="o">-</span> <span class="n">fromLine</span>
        <span class="n">volume</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;fromLine&quot;</span><span class="p">:</span> <span class="n">fromLine</span><span class="p">,</span>
            <span class="s2">&quot;toLine&quot;</span><span class="p">:</span> <span class="n">toLine</span><span class="p">,</span>
            <span class="s2">&quot;valid&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;acronym&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;loctime&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setVolumeTitle</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">fromLine</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setSeeAlsoVolumes</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">fromLine</span><span class="p">,</span> <span class="n">toLine</span><span class="p">)</span>

        <span class="n">infoPattern</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">infoMappings</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="s2">&quot;URN&quot;</span><span class="p">,</span> <span class="s2">&quot;urn&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ONLINE&quot;</span><span class="p">,</span> <span class="s2">&quot;url&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;ARCHIVE&quot;</span><span class="p">,</span> <span class="s2">&quot;archive&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;Edited by&quot;</span><span class="p">,</span> <span class="s2">&quot;editors&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;Submitted by&quot;</span><span class="p">,</span> <span class="s2">&quot;submittedBy&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;Published on CEUR-WS&quot;</span><span class="p">,</span> <span class="s2">&quot;pubDate&quot;</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">for</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">infoMappings</span><span class="p">:</span>
            <span class="n">infoPattern</span><span class="p">[</span><span class="n">info</span><span class="p">]</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">rf</span><span class="s2">&quot;^\s*</span><span class="si">{</span><span class="n">prefix</span><span class="si">}</span><span class="s2">:(.*)&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">lineIndex</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">fromLine</span><span class="p">,</span> <span class="n">toLine</span><span class="p">):</span>
            <span class="n">line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">[</span><span class="n">lineIndex</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">info</span><span class="p">,</span> <span class="n">pattern</span> <span class="ow">in</span> <span class="n">infoPattern</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">getInfo</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setVolumeName</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="n">volumeNumber</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;number&quot;</span><span class="p">,</span> <span class="s2">&quot;?&quot;</span><span class="p">)</span>
        <span class="n">acronym</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;acronym&quot;</span><span class="p">,</span> <span class="s2">&quot;?&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">volumeNumber</span><span class="si">:</span><span class="s2">4</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">volCount</span><span class="si">:</span><span class="s2">4</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">fromLine</span><span class="si">}</span><span class="s2">+</span><span class="si">{</span><span class="n">lineCount</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">acronym</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">volume</span>

    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vol_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        parse my html code for Volume info</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Compile the regex pattern right before its usage</span>
        <span class="n">mainTablePattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s*&lt;TABLE id=&quot;MAINTABLE&quot;&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
        <span class="n">lineNo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">mainTablePattern</span><span class="p">)</span>
        <span class="n">volCount</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">volumes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="ow">and</span> <span class="n">lineNo</span> <span class="ow">and</span> <span class="n">lineNo</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">vol_limit</span> <span class="ow">and</span> <span class="n">volCount</span> <span class="o">&gt;=</span> <span class="n">vol_limit</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">expectedTr</span> <span class="o">=</span> <span class="mi">3</span>
            <span class="n">volStartLine</span><span class="p">,</span> <span class="n">volEndLine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">findVolume</span><span class="p">(</span><span class="n">volCount</span><span class="p">,</span> <span class="n">lineNo</span><span class="p">,</span> <span class="n">expectedTr</span><span class="o">=</span><span class="n">expectedTr</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">volStartLine</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">volEndLine</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">volCount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parseVolume</span><span class="p">(</span>
                    <span class="n">volCount</span><span class="p">,</span>
                    <span class="n">volStartLine</span><span class="p">,</span>
                    <span class="n">volEndLine</span><span class="p">,</span>
                    <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">verbose</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="c1"># synchronize on &lt;tr&gt;&lt;th and not on end since trailing TR might be missing</span>
                <span class="n">lineNo</span> <span class="o">=</span> <span class="n">volStartLine</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="s2">&quot;number&quot;</span> <span class="ow">in</span> <span class="n">volume</span><span class="p">:</span>
                    <span class="n">volume_number</span> <span class="o">=</span> <span class="n">volume</span><span class="p">[</span><span class="s2">&quot;number&quot;</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">volume_number</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">down_to_volume</span><span class="p">:</span>
                        <span class="k">break</span>
                    <span class="n">volumes</span><span class="p">[</span><span class="n">volume_number</span><span class="p">]</span> <span class="o">=</span> <span class="n">volume</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;volume not found for volume at </span><span class="si">{</span><span class="n">volStartLine</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">volumes</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.indexparser.IndexHtmlParser.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">htmlText</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Constructor</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>htmlText(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the HTML text of the index page</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/indexparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">htmlText</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ParserConfig</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor</span>

<span class="sd">    Args:</span>
<span class="sd">        htmlText(str): the HTML text of the index page</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">config</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">ParserConfig</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config</span>
    <span class="n">Textparser</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">htmlText</span> <span class="o">=</span> <span class="n">htmlText</span>
    <span class="c1"># soup (in memory is slow)</span>
    <span class="c1"># soup = BeautifulSoup(html_page, &#39;html.parser&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="o">=</span> <span class="n">htmlText</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="c1"># trStart, trEnd = makeHTMLTags(&quot;tr&quot;)</span>
    <span class="c1"># self.tr = trStart + SkipTo(trEnd).setResultsName(&quot;tr&quot;) + trEnd.suppress()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">linkPattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;&quot;&quot;.*href=[\&#39;&quot;]?([^\&#39;&quot; &gt;]+).*&quot;&quot;&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">volPattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;http://ceur-ws.org/Vol-([0-9]+)&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">volLinkPattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
<span class="w">        </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;.*&lt;a\s+href=[\&#39;&quot;]http://ceur-ws.org/Vol-([0-9]+)[/]?[\&#39;&quot;]&gt;([^&lt;]*)&lt;/a&gt;.*&quot;&quot;&quot;</span><span class="p">,</span>
        <span class="n">re</span><span class="o">.</span><span class="n">I</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">DOTALL</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="c1"># Pre-compile patterns used in find and findVolume</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">thColspanPattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^.*&lt;th\s*colspan&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">trStartPattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^\s*&lt;tr&gt;&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">trEndPattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^\s*&lt;/tr&gt;&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
    <span class="c1"># Pre-compile patterns used in setVolumeTitle</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">editedByPattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;Edited by:&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tdBgColorPattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;&lt;td bgcolor&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.indexparser.IndexHtmlParser.find" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find</span><span class="p">(</span><span class="n">startLine</span><span class="p">,</span> <span class="n">compiledPattern</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>find the next line with the given compiled regular expression pattern</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>startLine(int)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>index of the line to start search</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>compiledPattern(re.Pattern)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the compiled regular expression pattern to search for</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>step(int)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the steps to take e.g. +1 for forward -1 for backwards</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="return" open>
  <summary>Return</summary>
  <p>int: the line number of the line or None if nothing was found</p>
</details>
            <details class="quote">
              <summary>Source code in <code>ceurws/indexparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">startLine</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">compiledPattern</span><span class="p">,</span> <span class="n">step</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    find the next line with the given compiled regular expression pattern</span>

<span class="sd">    Args:</span>
<span class="sd">        startLine(int): index of the line to start search</span>
<span class="sd">        compiledPattern(re.Pattern): the compiled regular expression pattern to search for</span>
<span class="sd">        step(int): the steps to take e.g. +1 for forward -1 for backwards</span>

<span class="sd">    Return:</span>
<span class="sd">        int: the line number of the line or None if nothing was found</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lineNo</span> <span class="o">=</span> <span class="n">startLine</span>
    <span class="k">while</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">lineNo</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">[</span><span class="n">lineNo</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">compiledPattern</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">lineNo</span>
        <span class="n">lineNo</span> <span class="o">+=</span> <span class="n">step</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.indexparser.IndexHtmlParser.findVolume" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">findVolume</span><span class="p">(</span><span class="n">volCount</span><span class="p">,</span> <span class="n">startLine</span><span class="p">,</span> <span class="n">expectedTr</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">progress</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>find Volume lines from the given startLine</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>volCount(int)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the volumeCount before the startLine</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>startLine(int)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>index of the line to search</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>expectedTr(int)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>number of <tr> tags expected</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>progress(int)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how often to show the progress</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>tuple[int | None, int | None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>endLine of the volume html or None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/indexparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">findVolume</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">volCount</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">startLine</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">expectedTr</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">progress</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    find Volume lines from the given startLine</span>

<span class="sd">    Args:</span>
<span class="sd">        volCount(int): the volumeCount before the startLine</span>
<span class="sd">        startLine(int): index of the line to search</span>
<span class="sd">        expectedTr(int): number of &lt;tr&gt; tags expected</span>
<span class="sd">        progress(int): how often to show the progress</span>

<span class="sd">    Returns:</span>
<span class="sd">        endLine of the volume html or None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">trStartLine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">startLine</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">thColspanPattern</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">trStartLine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">lineNo</span> <span class="o">=</span> <span class="n">trStartLine</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">trCount</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="n">lineNo</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">):</span>
            <span class="n">trLine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">lineNo</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">trStartPattern</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">trLine</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">lineNo</span> <span class="o">=</span> <span class="n">trLine</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">trCount</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">trCount</span> <span class="o">==</span> <span class="n">expectedTr</span><span class="p">:</span>
                    <span class="n">trEndLine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">lineNo</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">trEndPattern</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">volCount</span> <span class="o">%</span> <span class="n">progress</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span>
                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;volume count </span><span class="si">{</span><span class="n">volCount</span><span class="o">+</span><span class="mi">1</span><span class="si">:</span><span class="s2">4</span><span class="si">}</span><span class="s2">: lines </span><span class="si">{</span><span class="n">trStartLine</span><span class="si">:</span><span class="s2">6</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">trEndLine</span><span class="si">:</span><span class="s2">6</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">trStartLine</span><span class="p">,</span> <span class="n">trEndLine</span>
    <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.indexparser.IndexHtmlParser.getInfo" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getInfo</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>get the info for the given patterns trying to match the pattern on
the given line</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>volume(dict)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the result dict</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>info(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the name of the dict key to fill</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>pattern(regexp)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the regular expression to check</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>line(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the line to check</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/indexparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getInfo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">info</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">line</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the info for the given patterns trying to match the pattern on</span>
<span class="sd">    the given line</span>

<span class="sd">    Args:</span>
<span class="sd">        volume(dict): the result dict</span>
<span class="sd">        info(str): the name of the dict key to fill</span>
<span class="sd">        pattern(regexp): the regular expression to check</span>
<span class="sd">        line(str): the line to check</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">infoValue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMatch</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">infoValue</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">delim</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;&lt;BR&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">]:</span>
            <span class="n">infoValue</span> <span class="o">=</span> <span class="n">infoValue</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">delim</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">infoValue</span> <span class="o">=</span> <span class="n">infoValue</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">info</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;editors&quot;</span><span class="p">,</span> <span class="s2">&quot;submittedBy&quot;</span><span class="p">]:</span>
            <span class="n">infoValue</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">unescape</span><span class="p">(</span><span class="n">infoValue</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">info</span> <span class="o">==</span> <span class="s2">&quot;pubDate&quot;</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">infoValue</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">infoValue</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">-%b-%Y&quot;</span><span class="p">)</span>
                <span class="n">published</span> <span class="o">=</span> <span class="n">infoValue</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">volume</span><span class="p">[</span><span class="s2">&quot;published&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">published</span>
                <span class="n">volume</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">infoValue</span><span class="o">.</span><span class="n">year</span>
            <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">ve</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;pubDate: </span><span class="si">{</span><span class="n">infoValue</span><span class="si">}</span><span class="s2"> of </span><span class="si">{</span><span class="n">volume</span><span class="si">}</span><span class="s2"> parsing failed with </span><span class="si">{</span><span class="n">ve</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">info</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;urn&quot;</span><span class="p">,</span> <span class="s2">&quot;url&quot;</span><span class="p">,</span> <span class="s2">&quot;archive&quot;</span><span class="p">]:</span>
            <span class="n">href</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMatch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">linkPattern</span><span class="p">,</span> <span class="n">infoValue</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">href</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">infoValue</span> <span class="o">=</span> <span class="n">href</span>
                <span class="k">if</span> <span class="n">info</span> <span class="o">==</span> <span class="s2">&quot;url&quot;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">setVolumeNumber</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">href</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">info</span> <span class="o">==</span> <span class="s2">&quot;urn&quot;</span><span class="p">:</span>
                    <span class="n">infoValue</span> <span class="o">=</span> <span class="n">href</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;https://nbn-resolving.org/&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">volume</span><span class="p">[</span><span class="n">info</span><span class="p">]</span> <span class="o">=</span> <span class="n">infoValue</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.indexparser.IndexHtmlParser.parse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">vol_limit</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>parse my html code for Volume info</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/indexparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vol_limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    parse my html code for Volume info</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Compile the regex pattern right before its usage</span>
    <span class="n">mainTablePattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s*&lt;TABLE id=&quot;MAINTABLE&quot;&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
    <span class="n">lineNo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">mainTablePattern</span><span class="p">)</span>
    <span class="n">volCount</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">volumes</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span> <span class="ow">and</span> <span class="n">lineNo</span> <span class="ow">and</span> <span class="n">lineNo</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">vol_limit</span> <span class="ow">and</span> <span class="n">volCount</span> <span class="o">&gt;=</span> <span class="n">vol_limit</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">expectedTr</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">volStartLine</span><span class="p">,</span> <span class="n">volEndLine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">findVolume</span><span class="p">(</span><span class="n">volCount</span><span class="p">,</span> <span class="n">lineNo</span><span class="p">,</span> <span class="n">expectedTr</span><span class="o">=</span><span class="n">expectedTr</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">volStartLine</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">volEndLine</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">volCount</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parseVolume</span><span class="p">(</span>
                <span class="n">volCount</span><span class="p">,</span>
                <span class="n">volStartLine</span><span class="p">,</span>
                <span class="n">volEndLine</span><span class="p">,</span>
                <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">verbose</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># synchronize on &lt;tr&gt;&lt;th and not on end since trailing TR might be missing</span>
            <span class="n">lineNo</span> <span class="o">=</span> <span class="n">volStartLine</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="s2">&quot;number&quot;</span> <span class="ow">in</span> <span class="n">volume</span><span class="p">:</span>
                <span class="n">volume_number</span> <span class="o">=</span> <span class="n">volume</span><span class="p">[</span><span class="s2">&quot;number&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">volume_number</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">down_to_volume</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="n">volumes</span><span class="p">[</span><span class="n">volume_number</span><span class="p">]</span> <span class="o">=</span> <span class="n">volume</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">progress_bar</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;volume not found for volume at </span><span class="si">{</span><span class="n">volStartLine</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">volumes</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.indexparser.IndexHtmlParser.parseVolume" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parseVolume</span><span class="p">(</span><span class="n">volCount</span><span class="p">,</span> <span class="n">fromLine</span><span class="p">,</span> <span class="n">toLine</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>parse a volume from the given line range</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/indexparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parseVolume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volCount</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">fromLine</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">toLine</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    parse a volume from the given line range</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lineCount</span> <span class="o">=</span> <span class="n">toLine</span> <span class="o">-</span> <span class="n">fromLine</span>
    <span class="n">volume</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;fromLine&quot;</span><span class="p">:</span> <span class="n">fromLine</span><span class="p">,</span>
        <span class="s2">&quot;toLine&quot;</span><span class="p">:</span> <span class="n">toLine</span><span class="p">,</span>
        <span class="s2">&quot;valid&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;acronym&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;loctime&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setVolumeTitle</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">fromLine</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setSeeAlsoVolumes</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">fromLine</span><span class="p">,</span> <span class="n">toLine</span><span class="p">)</span>

    <span class="n">infoPattern</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">infoMappings</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s2">&quot;URN&quot;</span><span class="p">,</span> <span class="s2">&quot;urn&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;ONLINE&quot;</span><span class="p">,</span> <span class="s2">&quot;url&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;ARCHIVE&quot;</span><span class="p">,</span> <span class="s2">&quot;archive&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;Edited by&quot;</span><span class="p">,</span> <span class="s2">&quot;editors&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;Submitted by&quot;</span><span class="p">,</span> <span class="s2">&quot;submittedBy&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;Published on CEUR-WS&quot;</span><span class="p">,</span> <span class="s2">&quot;pubDate&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="k">for</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">infoMappings</span><span class="p">:</span>
        <span class="n">infoPattern</span><span class="p">[</span><span class="n">info</span><span class="p">]</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">rf</span><span class="s2">&quot;^\s*</span><span class="si">{</span><span class="n">prefix</span><span class="si">}</span><span class="s2">:(.*)&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">lineIndex</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">fromLine</span><span class="p">,</span> <span class="n">toLine</span><span class="p">):</span>
        <span class="n">line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">[</span><span class="n">lineIndex</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">info</span><span class="p">,</span> <span class="n">pattern</span> <span class="ow">in</span> <span class="n">infoPattern</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">getInfo</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setVolumeName</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
    <span class="n">volumeNumber</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;number&quot;</span><span class="p">,</span> <span class="s2">&quot;?&quot;</span><span class="p">)</span>
    <span class="n">acronym</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;acronym&quot;</span><span class="p">,</span> <span class="s2">&quot;?&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">volumeNumber</span><span class="si">:</span><span class="s2">4</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">volCount</span><span class="si">:</span><span class="s2">4</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">fromLine</span><span class="si">}</span><span class="s2">+</span><span class="si">{</span><span class="n">lineCount</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">acronym</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">volume</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.indexparser.IndexHtmlParser.setSeeAlsoVolumes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setSeeAlsoVolumes</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">firstLine</span><span class="p">,</span> <span class="n">lastLine</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Extract and set the volume numbers form the see also list
Example result {"seealso": ["Vol-3067"]}</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>volume</code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the volumeRecord to modify</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>lineIndex</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>where to start setting the volumeTitle</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/indexparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">setSeeAlsoVolumes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">firstLine</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">lastLine</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extract and set the volume numbers form the see also list</span>
<span class="sd">    Example result {&quot;seealso&quot;: [&quot;Vol-3067&quot;]}</span>

<span class="sd">    Args:</span>
<span class="sd">        volume: the volumeRecord to modify</span>
<span class="sd">        lineIndex: where to start setting the volumeTitle</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">volumes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">see_also</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">firstLine</span><span class="p">,</span> <span class="n">lastLine</span><span class="p">):</span>
        <span class="n">see_also</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">[</span><span class="n">line</span><span class="p">]</span>
    <span class="n">see_also_section</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;see also:(.*?)&lt;/font&gt;&quot;</span><span class="p">,</span> <span class="n">see_also</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">DOTALL</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">see_also_section</span><span class="p">:</span>
        <span class="c1"># Extract the volumes using regex from the see also section</span>
        <span class="n">volumes</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span>
            <span class="sa">r</span><span class="s1">&#39;&lt;a href=&quot;#(Vol-\d+)&quot;&gt;&#39;</span><span class="p">,</span>
            <span class="n">see_also_section</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
            <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">volume</span><span class="p">[</span><span class="s2">&quot;seealso&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">volumes</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.indexparser.IndexHtmlParser.setVolumeName" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setVolumeName</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>set the volume name</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/indexparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">setVolumeName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    set the volume name</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">volName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMatch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volLinkPattern</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">volName</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">valid</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">volName</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;http:&quot;</span><span class="p">):</span>
            <span class="n">invalidKeys</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;deleted upon editor request&quot;</span><span class="p">,</span> <span class="s2">&quot;Not used&quot;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">invalidKey</span> <span class="ow">in</span> <span class="n">invalidKeys</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">invalidKey</span> <span class="ow">in</span> <span class="n">volName</span><span class="p">:</span>
                    <span class="n">href</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMatch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">linkPattern</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">setVolumeNumber</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">href</span><span class="p">)</span>
                    <span class="n">valid</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">volume</span><span class="p">[</span><span class="s2">&quot;valid&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">valid</span>
            <span class="k">if</span> <span class="n">valid</span><span class="p">:</span>
                <span class="n">volName</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">unescape</span><span class="p">(</span><span class="n">volName</span><span class="p">)</span>
                <span class="n">volName</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">volName</span><span class="p">)</span>
                <span class="n">volume</span><span class="p">[</span><span class="s2">&quot;volname&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">volName</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.indexparser.IndexHtmlParser.setVolumeNumber" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setVolumeNumber</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">href</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>set the volumen number</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/indexparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">setVolumeNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">,</span> <span class="n">href</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    set the volumen number</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">href</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">volNumber</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getMatch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volPattern</span><span class="p">,</span> <span class="n">href</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">volNumber</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">volume</span><span class="p">[</span><span class="s2">&quot;number&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">volNumber</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.indexparser.IndexHtmlParser.setVolumeTitle" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setVolumeTitle</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">lineIndex</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>set the volume title</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>volume(dict)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the volumeRecord to modify</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>lineIndex</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>where to start setting the volumeTitle</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/indexparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">setVolumeTitle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">lineIndex</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    set the volume title</span>

<span class="sd">    Args:</span>
<span class="sd">        volume(dict): the volumeRecord to modify</span>
<span class="sd">        lineIndex: where to start setting the volumeTitle</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">editedByLine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">lineIndex</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">editedByPattern</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">editedByLine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">tdLine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">editedByLine</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tdBgColorPattern</span><span class="p">,</span> <span class="n">step</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">tdLine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">tdIndex</span> <span class="o">=</span> <span class="n">tdLine</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="n">delim</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">while</span> <span class="n">tdIndex</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">):</span>
                <span class="n">line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines</span><span class="p">[</span><span class="n">tdIndex</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Edited by:&quot;</span><span class="p">):</span>
                    <span class="k">break</span>
                <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="p">[</span>
                    <span class="s1">&#39;&lt;TD bgcolor=&quot;#FFFFFF&quot;&gt;&amp;nbsp;&lt;/TD&gt;&lt;TD bgcolor=&quot;#FFFFFF&quot;&gt;&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;&lt;TD bgcolor=&quot;#FFFFFF&quot;&gt;&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;&lt;td bgcolor=&quot;#FFFFFF&quot;&gt;&#39;</span><span class="p">,</span>
                    <span class="s2">&quot;&lt;BR&gt;&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">,</span>
                <span class="p">]:</span>
                    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
                <span class="n">title</span> <span class="o">+=</span> <span class="n">line</span> <span class="o">+</span> <span class="n">delim</span>
                <span class="n">delim</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span>
                <span class="n">tdIndex</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">volume</span><span class="p">[</span><span class="s2">&quot;tdtitle&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">unescape</span><span class="p">(</span><span class="n">title</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.indexparser.ParserConfig" class="doc doc-heading">
            <code>ParserConfig</code>


</h3>


    <div class="doc doc-contents ">


      <p>parser configuration</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/indexparser.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ParserConfig</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    parser configuration</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">progress_bar</span><span class="p">:</span> <span class="n">tqdm</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">down_to_volume</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">force_download</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the ParserConfig with a progress bar, volume threshold, and debug mode setting.</span>

<span class="sd">        Args:</span>
<span class="sd">            progress_bar : An instance of a Progressbar class to be used for showing progress</span>
<span class="sd">                during parsing.</span>
<span class="sd">            down_to_volume (int, optional): The volume threshold for parsing.</span>
<span class="sd">                Only volumes equal to or less than this value will be considered. Defaults to 1.</span>
<span class="sd">            force_download(bool): if True download the file to parse</span>
<span class="sd">            verbose(bool): if True give verbose feedback</span>
<span class="sd">            debug (bool, optional): Indicates whether debugging mode is enabled.</span>
<span class="sd">                If True, additional debug information will be provided during parsing. Defaults to False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="o">=</span> <span class="n">progress_bar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">down_to_volume</span> <span class="o">=</span> <span class="n">down_to_volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">force_download</span> <span class="o">=</span> <span class="n">force_download</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="n">verbose</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.indexparser.ParserConfig.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">progress_bar</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">down_to_volume</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">force_download</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Initializes the ParserConfig with a progress bar, volume threshold, and debug mode setting.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>progress_bar</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An instance of a Progressbar class to be used for showing progress
during parsing.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>down_to_volume</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The volume threshold for parsing.
Only volumes equal to or less than this value will be considered. Defaults to 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>force_download(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True download the file to parse</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>verbose(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True give verbose feedback</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>debug</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicates whether debugging mode is enabled.
If True, additional debug information will be provided during parsing. Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/indexparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">progress_bar</span><span class="p">:</span> <span class="n">tqdm</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">down_to_volume</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">force_download</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the ParserConfig with a progress bar, volume threshold, and debug mode setting.</span>

<span class="sd">    Args:</span>
<span class="sd">        progress_bar : An instance of a Progressbar class to be used for showing progress</span>
<span class="sd">            during parsing.</span>
<span class="sd">        down_to_volume (int, optional): The volume threshold for parsing.</span>
<span class="sd">            Only volumes equal to or less than this value will be considered. Defaults to 1.</span>
<span class="sd">        force_download(bool): if True download the file to parse</span>
<span class="sd">        verbose(bool): if True give verbose feedback</span>
<span class="sd">        debug (bool, optional): Indicates whether debugging mode is enabled.</span>
<span class="sd">            If True, additional debug information will be provided during parsing. Defaults to False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="o">=</span> <span class="n">progress_bar</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">down_to_volume</span> <span class="o">=</span> <span class="n">down_to_volume</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">force_download</span> <span class="o">=</span> <span class="n">force_download</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="n">verbose</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.location" class="doc doc-heading">
            <code>location</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 2023-07-15</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.location.LocationLookup" class="doc doc-heading">
            <code>LocationLookup</code>


</h3>


    <div class="doc doc-contents ">


      <p>Class for location lookup.</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/location.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">LocationLookup</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class for location lookup.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">predefinedLocations</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">initPredefinedLocations</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize predefined locations.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">locMap</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;Not Known&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;Online&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;Virtual&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;Virtual, USA&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;Virtual Event, USA&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;Amsterdam&quot;</span><span class="p">:</span> <span class="s2">&quot;Q727&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Amsterdam, Amsterdam&quot;</span><span class="p">:</span> <span class="s2">&quot;Q727&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Amsterdam Netherlands&quot;</span><span class="p">:</span> <span class="s2">&quot;Q727&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Amsterdam, Netherlands&quot;</span><span class="p">:</span> <span class="s2">&quot;Q727&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Amsterdam, The Netherlands&quot;</span><span class="p">:</span> <span class="s2">&quot;Q727&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Amsterdam The Netherlands&quot;</span><span class="p">:</span> <span class="s2">&quot;Q727&quot;</span><span class="p">,</span>
            <span class="c1"># ... add more predefined locations ...</span>
        <span class="p">}</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">predefinedLocations</span> <span class="o">=</span> <span class="n">locMap</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor for LocationLookup.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">LocationLookup</span><span class="o">.</span><span class="n">initPredefinedLocations</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">locationContext</span> <span class="o">=</span> <span class="n">LocationContext</span><span class="o">.</span><span class="n">fromCache</span><span class="p">()</span>
        <span class="n">cacheRootDir</span> <span class="o">=</span> <span class="n">LocationContext</span><span class="o">.</span><span class="n">getDefaultConfig</span><span class="p">()</span><span class="o">.</span><span class="n">cacheRootDir</span>
        <span class="n">cacheDir</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">cacheRootDir</span><span class="si">}</span><span class="s2">/.nominatim&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nominatimWrapper</span> <span class="o">=</span> <span class="n">NominatimWrapper</span><span class="p">(</span><span class="n">cacheDir</span><span class="o">=</span><span class="n">cacheDir</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">getCityByWikiDataId</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wikidataID</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the city for the given wikidataID.</span>

<span class="sd">        Args:</span>
<span class="sd">            wikidataID (str): The wikidata ID.</span>

<span class="sd">        Returns:</span>
<span class="sd">            City: The city with the given wikidataID.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">citiesGen</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">locationContext</span><span class="o">.</span><span class="n">cityManager</span><span class="o">.</span><span class="n">getLocationsByWikidataId</span><span class="p">(</span><span class="n">wikidataID</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">citiesGen</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">cities</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">citiesGen</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cities</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">cities</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">lookupNominatim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locationText</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Lookup the location for the given locationText (if any).</span>

<span class="sd">        Args:</span>
<span class="sd">            locationText (str): The location text to search for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            City: The location found by Nominatim.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">location</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">wikidataId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nominatimWrapper</span><span class="o">.</span><span class="n">lookupWikiDataId</span><span class="p">(</span><span class="n">locationText</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">wikidataId</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">location</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getCityByWikiDataId</span><span class="p">(</span><span class="n">wikidataId</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">location</span>

    <span class="k">def</span> <span class="nf">lookup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locationText</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">logFile</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Lookup a location based on the given locationText.</span>

<span class="sd">        Args:</span>
<span class="sd">            locationText (str): The location to lookup.</span>
<span class="sd">            logFile (file): The log file to write the output.</span>

<span class="sd">        Returns:</span>
<span class="sd">            City: The located city based on the locationText.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">locationText</span> <span class="ow">in</span> <span class="n">LocationLookup</span><span class="o">.</span><span class="n">predefinedLocations</span><span class="p">:</span>
            <span class="n">locationId</span> <span class="o">=</span> <span class="n">LocationLookup</span><span class="o">.</span><span class="n">predefinedLocations</span><span class="p">[</span><span class="n">locationText</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">locationId</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">location</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getCityByWikiDataId</span><span class="p">(</span><span class="n">locationId</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">location</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;❌❌-predefinedLocation </span><span class="si">{</span><span class="n">locationText</span><span class="si">}</span><span class="s2">→</span><span class="si">{</span><span class="n">locationId</span><span class="si">}</span><span class="s2"> wikidataId not resolved&quot;</span><span class="p">,</span>
                        <span class="n">file</span><span class="o">=</span><span class="n">logFile</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="k">return</span> <span class="n">location</span>
        <span class="n">lg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookupGeograpy</span><span class="p">(</span><span class="n">locationText</span><span class="p">)</span>
        <span class="n">ln</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookupNominatim</span><span class="p">(</span><span class="n">locationText</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ln</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">lg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">ln</span><span class="o">.</span><span class="n">wikidataid</span> <span class="o">!=</span> <span class="n">lg</span><span class="o">.</span><span class="n">wikidataid</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌❌</span><span class="si">{</span><span class="n">locationText</span><span class="si">}</span><span class="s2">→</span><span class="si">{</span><span class="n">lg</span><span class="si">}</span><span class="s2">!=</span><span class="si">{</span><span class="n">ln</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">logFile</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">lg</span>

    <span class="k">def</span> <span class="nf">lookupGeograpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locationText</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Lookup the given location by the given locationText.</span>

<span class="sd">        Args:</span>
<span class="sd">            locationText (str): The location to lookup.</span>

<span class="sd">        Returns:</span>
<span class="sd">            City: The located city based on the locationText.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">locations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">locationContext</span><span class="o">.</span><span class="n">locateLocation</span><span class="p">(</span><span class="n">locationText</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">locations</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">locations</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.location.LocationLookup.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Constructor for LocationLookup.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/location.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor for LocationLookup.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">LocationLookup</span><span class="o">.</span><span class="n">initPredefinedLocations</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">locationContext</span> <span class="o">=</span> <span class="n">LocationContext</span><span class="o">.</span><span class="n">fromCache</span><span class="p">()</span>
    <span class="n">cacheRootDir</span> <span class="o">=</span> <span class="n">LocationContext</span><span class="o">.</span><span class="n">getDefaultConfig</span><span class="p">()</span><span class="o">.</span><span class="n">cacheRootDir</span>
    <span class="n">cacheDir</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">cacheRootDir</span><span class="si">}</span><span class="s2">/.nominatim&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">nominatimWrapper</span> <span class="o">=</span> <span class="n">NominatimWrapper</span><span class="p">(</span><span class="n">cacheDir</span><span class="o">=</span><span class="n">cacheDir</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.location.LocationLookup.getCityByWikiDataId" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getCityByWikiDataId</span><span class="p">(</span><span class="n">wikidataID</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Get the city for the given wikidataID.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>wikidataID</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The wikidata ID.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>City</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The city with the given wikidataID.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/location.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getCityByWikiDataId</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wikidataID</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the city for the given wikidataID.</span>

<span class="sd">    Args:</span>
<span class="sd">        wikidataID (str): The wikidata ID.</span>

<span class="sd">    Returns:</span>
<span class="sd">        City: The city with the given wikidataID.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">citiesGen</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">locationContext</span><span class="o">.</span><span class="n">cityManager</span><span class="o">.</span><span class="n">getLocationsByWikidataId</span><span class="p">(</span><span class="n">wikidataID</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">citiesGen</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">cities</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">citiesGen</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cities</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">cities</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.location.LocationLookup.initPredefinedLocations" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">initPredefinedLocations</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>Initialize predefined locations.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/location.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">initPredefinedLocations</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize predefined locations.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">locMap</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;Not Known&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Online&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Virtual&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Virtual, USA&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Virtual Event, USA&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;Amsterdam&quot;</span><span class="p">:</span> <span class="s2">&quot;Q727&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Amsterdam, Amsterdam&quot;</span><span class="p">:</span> <span class="s2">&quot;Q727&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Amsterdam Netherlands&quot;</span><span class="p">:</span> <span class="s2">&quot;Q727&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Amsterdam, Netherlands&quot;</span><span class="p">:</span> <span class="s2">&quot;Q727&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Amsterdam, The Netherlands&quot;</span><span class="p">:</span> <span class="s2">&quot;Q727&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Amsterdam The Netherlands&quot;</span><span class="p">:</span> <span class="s2">&quot;Q727&quot;</span><span class="p">,</span>
        <span class="c1"># ... add more predefined locations ...</span>
    <span class="p">}</span>
    <span class="bp">cls</span><span class="o">.</span><span class="n">predefinedLocations</span> <span class="o">=</span> <span class="n">locMap</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.location.LocationLookup.lookup" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">lookup</span><span class="p">(</span><span class="n">locationText</span><span class="p">,</span> <span class="n">logFile</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Lookup a location based on the given locationText.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>locationText</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The location to lookup.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>logFile</code></td>
            <td>
                  <code>file</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The log file to write the output.</p>
              </div>
            </td>
            <td>
                  <code><span title="sys.stdout">stdout</span></code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>City</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The located city based on the locationText.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/location.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">lookup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locationText</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">logFile</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Lookup a location based on the given locationText.</span>

<span class="sd">    Args:</span>
<span class="sd">        locationText (str): The location to lookup.</span>
<span class="sd">        logFile (file): The log file to write the output.</span>

<span class="sd">    Returns:</span>
<span class="sd">        City: The located city based on the locationText.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">locationText</span> <span class="ow">in</span> <span class="n">LocationLookup</span><span class="o">.</span><span class="n">predefinedLocations</span><span class="p">:</span>
        <span class="n">locationId</span> <span class="o">=</span> <span class="n">LocationLookup</span><span class="o">.</span><span class="n">predefinedLocations</span><span class="p">[</span><span class="n">locationText</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">locationId</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">location</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getCityByWikiDataId</span><span class="p">(</span><span class="n">locationId</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">location</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;❌❌-predefinedLocation </span><span class="si">{</span><span class="n">locationText</span><span class="si">}</span><span class="s2">→</span><span class="si">{</span><span class="n">locationId</span><span class="si">}</span><span class="s2"> wikidataId not resolved&quot;</span><span class="p">,</span>
                    <span class="n">file</span><span class="o">=</span><span class="n">logFile</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="n">location</span>
    <span class="n">lg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookupGeograpy</span><span class="p">(</span><span class="n">locationText</span><span class="p">)</span>
    <span class="n">ln</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookupNominatim</span><span class="p">(</span><span class="n">locationText</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">ln</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">lg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">ln</span><span class="o">.</span><span class="n">wikidataid</span> <span class="o">!=</span> <span class="n">lg</span><span class="o">.</span><span class="n">wikidataid</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌❌</span><span class="si">{</span><span class="n">locationText</span><span class="si">}</span><span class="s2">→</span><span class="si">{</span><span class="n">lg</span><span class="si">}</span><span class="s2">!=</span><span class="si">{</span><span class="n">ln</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">logFile</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">lg</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.location.LocationLookup.lookupGeograpy" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">lookupGeograpy</span><span class="p">(</span><span class="n">locationText</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Lookup the given location by the given locationText.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>locationText</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The location to lookup.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>City</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The located city based on the locationText.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/location.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">lookupGeograpy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locationText</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Lookup the given location by the given locationText.</span>

<span class="sd">    Args:</span>
<span class="sd">        locationText (str): The location to lookup.</span>

<span class="sd">    Returns:</span>
<span class="sd">        City: The located city based on the locationText.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">locations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">locationContext</span><span class="o">.</span><span class="n">locateLocation</span><span class="p">(</span><span class="n">locationText</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">locations</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">locations</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.location.LocationLookup.lookupNominatim" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">lookupNominatim</span><span class="p">(</span><span class="n">locationText</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Lookup the location for the given locationText (if any).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>locationText</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The location text to search for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>City</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The location found by Nominatim.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/location.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">lookupNominatim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locationText</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Lookup the location for the given locationText (if any).</span>

<span class="sd">    Args:</span>
<span class="sd">        locationText (str): The location text to search for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        City: The location found by Nominatim.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">location</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">wikidataId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nominatimWrapper</span><span class="o">.</span><span class="n">lookupWikiDataId</span><span class="p">(</span><span class="n">locationText</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">wikidataId</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">location</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getCityByWikiDataId</span><span class="p">(</span><span class="n">wikidataId</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">location</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.loctime" class="doc doc-heading">
            <code>loctime</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 2023-12-22</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.loctime.LoctimeParser" class="doc doc-heading">
            <code>LoctimeParser</code>


</h3>


    <div class="doc doc-contents ">


      <p>A parser class for handling loctime lookups. This class provides methods to
load, parse, and update loctime data using a dictionary of dictionaries structure.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.loctime.LoctimeParser.filepath">filepath</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file path to the loctime YAML configuration.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.loctime.LoctimeParser.lookups">lookups</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The loaded lookup dictionaries from the YAML file.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.loctime.LoctimeParser.multi_word">multi_word</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary to handle multi-word keys.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.loctime.LoctimeParser.multi_word_lookups">multi_word_lookups</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A version of lookups with keys as concatenated words.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.loctime.LoctimeParser.counters">counters</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary of Counter objects for various categories.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.loctime.LoctimeParser.year_pattern">year_pattern</span></code></td>
            <td>
                  <code><span title="re.Pattern">Pattern</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A compiled regex pattern to match 4-digit years.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.loctime.LoctimeParser.total_loctimes">total_loctimes</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The total count of processed loctimes.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>ceurws/loctime.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">LoctimeParser</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A parser class for handling loctime lookups. This class provides methods to</span>
<span class="sd">    load, parse, and update loctime data using a dictionary of dictionaries structure.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        filepath (str): The file path to the loctime YAML configuration.</span>
<span class="sd">        lookups (dict): The loaded lookup dictionaries from the YAML file.</span>
<span class="sd">        multi_word (dict): A dictionary to handle multi-word keys.</span>
<span class="sd">        multi_word_lookups (dict): A version of lookups with keys as concatenated words.</span>
<span class="sd">        counters (dict): A dictionary of Counter objects for various categories.</span>
<span class="sd">        year_pattern (re.Pattern): A compiled regex pattern to match 4-digit years.</span>
<span class="sd">        total_loctimes (int): The total count of processed loctimes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the LoctimeParser object, setting up paths, loading lookups,</span>
<span class="sd">        and initializing counters and patterns.</span>

<span class="sd">        Args:</span>
<span class="sd">            filepath (Path, optional): The path to the loctime YAML file.</span>
<span class="sd">                                      Defaults to a predefined path if None is provided.</span>
<span class="sd">        Raises:</span>
<span class="sd">            FileNotFoundError: Raises an error if the specified YAML file does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">filepath</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ceurws_path</span> <span class="o">=</span> <span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_DIR</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">:</span> <span class="n">Path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ceurws_path</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s2">&quot;loctime.yaml&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Counter</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;4digit-year&quot;</span><span class="p">:</span> <span class="n">Counter</span><span class="p">()}</span>
        <span class="k">for</span> <span class="n">reverse_pos</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">reverse_pos</span><span class="p">)]</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>

        <span class="c1"># Compile a pattern to match a 4-digit year</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">year_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\b\d</span><span class="si">{4}</span><span class="s2">\b&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">total_loctimes</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Prepares the parser by initializing multi-word handling and creating</span>
<span class="sd">        a modified version of the lookup dictionaries with keys as concatenated words.</span>
<span class="sd">        This method sets up the &#39;multi_word&#39; and &#39;multi_word_lookups&#39; dictionaries</span>
<span class="sd">        to facilitate the parsing process, especially for multi-word keys.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multi_word</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">lookup</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">lookup</span><span class="p">:</span>
                <span class="k">if</span> <span class="s2">&quot; &quot;</span> <span class="ow">in</span> <span class="n">key</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">multi_word</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>

        <span class="c1"># Initialize a dictionary derived from self.lookups with underscored keys</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multi_word_lookups</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">category</span><span class="p">,</span> <span class="n">lookup</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">multi_word_lookups</span><span class="p">[</span><span class="n">category</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">):</span> <span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">lookup</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads the lookup data from the YAML file specified by the filepath attribute.</span>

<span class="sd">        This method attempts to open and read the YAML file, converting its contents</span>
<span class="sd">        into a dictionary. If the file is empty or does not exist, it returns an empty dictionary.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A dictionary representing the loaded data from the YAML file. If the file</span>
<span class="sd">                  is empty or non-existent, an empty dictionary is returned.</span>

<span class="sd">        Raises:</span>
<span class="sd">            FileNotFoundError: If the specified file does not exist.</span>
<span class="sd">            yaml.YAMLError: If there is an error parsing the YAML file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">)</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
                <span class="n">data_dict</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">yaml_file</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data_dict</span>

    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Saves the current lookup dictionary to a YAML file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Ensure directory exists</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
            <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span><span class="p">,</span>
                <span class="n">yaml_file</span><span class="p">,</span>
                <span class="n">default_flow_style</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">allow_unicode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_parts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">loctime</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Splits the loctime string into parts and subparts, considering multi-word entries.</span>

<span class="sd">        Args:</span>
<span class="sd">            loctime (str): The loctime string to split.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: A list of parts and subparts.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Replace known multi-word entries with their underscore versions</span>
        <span class="k">for</span> <span class="n">original</span><span class="p">,</span> <span class="n">underscored</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi_word</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">loctime</span> <span class="o">=</span> <span class="n">loctime</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">original</span><span class="p">,</span> <span class="n">underscored</span><span class="p">)</span>

        <span class="n">parts</span> <span class="o">=</span> <span class="n">loctime</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>  <span class="c1"># First, split by comma</span>
        <span class="n">all_parts</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">parts</span><span class="p">:</span>
            <span class="c1"># Further split each part by whitespace, considering underscore as part of the word</span>
            <span class="n">subparts</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
            <span class="n">all_parts</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">subparts</span><span class="p">)</span>  <span class="c1"># Add all subparts to the list</span>

        <span class="k">return</span> <span class="n">all_parts</span>

    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">loctime</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Alternative parse of CEUR-WS loctimes using lookups</span>

<span class="sd">        Args:</span>
<span class="sd">            loctime (str): The loctime string to parse.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">total_loctimes</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">lt_parts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parts</span><span class="p">(</span><span class="n">loctime</span><span class="p">)</span>

        <span class="c1"># Process each part of loctime</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">part</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">lt_parts</span><span class="p">):</span>
            <span class="n">part</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">reverse_pos</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lt_parts</span><span class="p">)</span> <span class="o">-</span> <span class="n">index</span>  <span class="c1"># Position from end</span>

            <span class="n">found_in_lookup</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="c1"># Check against each lookup and update corresponding counter</span>
            <span class="k">for</span> <span class="p">(</span>
                <span class="n">lookup_key</span><span class="p">,</span>
                <span class="n">lookup_dict</span><span class="p">,</span>
            <span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi_word_lookups</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">lookup_dict</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="p">[</span><span class="n">lookup_key</span><span class="p">][</span><span class="n">part</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># Increment the lookup counter</span>
                    <span class="n">found_in_lookup</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="c1"># set result dict</span>
                    <span class="n">result</span><span class="p">[</span><span class="n">lookup_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">part</span>
                    <span class="k">break</span>  <span class="c1"># Break if found, assuming part can&#39;t be in multiple lookups</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">found_in_lookup</span><span class="p">:</span>
                <span class="c1"># Update counter for each part&#39;s position from end</span>
                <span class="n">key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">reverse_pos</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">part</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="c1"># Special handling for 4-digit years</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">lt_parts</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">year_pattern</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">part</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="p">[</span><span class="s2">&quot;4digit-year&quot;</span><span class="p">][</span><span class="n">part</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">update_lookup_counts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        to be called  ffter processing all loctimes</span>
<span class="sd">        and updating counters update lookup dicts with new counts</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">category</span><span class="p">,</span> <span class="n">counter</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">category</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">underscore_key</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">counter</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="c1"># Convert underscore_key back to space-separated key</span>
                    <span class="n">original_key</span> <span class="o">=</span> <span class="n">underscore_key</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">original_key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span><span class="p">[</span><span class="n">category</span><span class="p">]:</span>
                        <span class="c1"># Update the count for the original key</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span><span class="p">[</span><span class="n">category</span><span class="p">][</span><span class="n">original_key</span><span class="p">]</span> <span class="o">+=</span> <span class="n">count</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># Initialize count for the original key</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span><span class="p">[</span><span class="n">category</span><span class="p">][</span><span class="n">original_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span>

    <span class="k">def</span> <span class="nf">create_pareto_analysis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">outof</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a Pareto analysis for each category in the lookups and returns</span>
<span class="sd">        the percentage table for the distribution across the specified levels.</span>

<span class="sd">        Args:</span>
<span class="sd">            level (int): The number of segments to divide the data into within the top &quot;outof&quot; parts.</span>
<span class="sd">            outof (int): 1 out of n value e.g. on level 1 we have 1:5 which leads to</span>
<span class="sd">                the original pareto 80:20 percent rule, on level 2 we have 80:(20=16:4) percent</span>
<span class="sd">                which is equivalent to 80/96 thresholds percent on level 3 we have 80:(20=16:4=(3.2:0.8)</span>
<span class="sd">                percent which leads to 80%,96%,99.2% thresholds</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pareto_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">category</span><span class="p">,</span> <span class="n">counter</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># Sort items by count in descending order</span>
            <span class="n">sorted_items</span> <span class="o">=</span> <span class="n">counter</span><span class="o">.</span><span class="n">most_common</span><span class="p">()</span>
            <span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">counter</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

            <span class="c1"># Calculate segment thresholds based on the diminishing series</span>
            <span class="n">thresholds</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">threshold</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="c1"># current range to calculate out of for</span>
                <span class="n">trange</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">-</span> <span class="n">threshold</span>  <span class="c1"># 100/80/96/99.2 ...</span>
                <span class="c1"># right side of range</span>
                <span class="n">right_range</span> <span class="o">=</span> <span class="n">trange</span> <span class="o">/</span> <span class="n">outof</span>  <span class="c1"># 20/4/0.8 ...</span>
                <span class="c1"># left threshold is new threshold</span>
                <span class="n">threshold</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">-</span> <span class="n">right_range</span>
                <span class="n">thresholds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">threshold</span><span class="p">)</span>
            <span class="n">thresholds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

            <span class="n">segment_counts</span> <span class="o">=</span> <span class="p">{</span><span class="n">threshold</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">threshold</span> <span class="ow">in</span> <span class="n">thresholds</span><span class="p">}</span>  <span class="c1"># Initialize count dict for each segment</span>
            <span class="n">segment_cutoff</span> <span class="o">=</span> <span class="p">{</span><span class="n">threshold</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">threshold</span> <span class="ow">in</span> <span class="n">thresholds</span><span class="p">}</span>  <span class="c1"># Initialize count dict for each segment</span>
            <span class="n">tindex</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">current_threshold</span> <span class="o">=</span> <span class="n">thresholds</span><span class="p">[</span><span class="n">tindex</span><span class="p">]</span>
            <span class="n">total_pc</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="c1"># Calculate cumulative counts for each segment</span>
            <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">sorted_items</span><span class="p">:</span>
                <span class="n">item_percentage</span> <span class="o">=</span> <span class="n">count</span> <span class="o">/</span> <span class="n">total</span> <span class="o">*</span> <span class="mi">100</span>
                <span class="k">if</span> <span class="n">total_pc</span> <span class="o">+</span> <span class="n">item_percentage</span> <span class="o">&gt;</span> <span class="n">current_threshold</span> <span class="o">+</span> <span class="mf">0.000000000001</span><span class="p">:</span>
                    <span class="n">segment_cutoff</span><span class="p">[</span><span class="n">current_threshold</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span>
                    <span class="n">tindex</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="n">tindex</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">thresholds</span><span class="p">):</span>
                        <span class="k">break</span>
                    <span class="n">current_threshold</span> <span class="o">=</span> <span class="n">thresholds</span><span class="p">[</span><span class="n">tindex</span><span class="p">]</span>
                <span class="n">total_pc</span> <span class="o">+=</span> <span class="n">item_percentage</span>
                <span class="n">segment_counts</span><span class="p">[</span><span class="n">current_threshold</span><span class="p">]</span> <span class="o">+=</span> <span class="n">count</span>

            <span class="n">pareto_dict</span><span class="p">[</span><span class="n">category</span><span class="p">]</span> <span class="o">=</span> <span class="n">segment_cutoff</span>
        <span class="k">return</span> <span class="n">pareto_dict</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.loctime.LoctimeParser.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Initializes the LoctimeParser object, setting up paths, loading lookups,
and initializing counters and patterns.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filepath</code></td>
            <td>
                  <code><span title="pathlib.Path">Path</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The path to the loctime YAML file.
                      Defaults to a predefined path if None is provided.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
      <p>Raises:
    FileNotFoundError: Raises an error if the specified YAML file does not exist.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/loctime.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the LoctimeParser object, setting up paths, loading lookups,</span>
<span class="sd">    and initializing counters and patterns.</span>

<span class="sd">    Args:</span>
<span class="sd">        filepath (Path, optional): The path to the loctime YAML file.</span>
<span class="sd">                                  Defaults to a predefined path if None is provided.</span>
<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: Raises an error if the specified YAML file does not exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">filepath</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ceurws_path</span> <span class="o">=</span> <span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_DIR</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">:</span> <span class="n">Path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ceurws_path</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="s2">&quot;loctime.yaml&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Counter</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;4digit-year&quot;</span><span class="p">:</span> <span class="n">Counter</span><span class="p">()}</span>
    <span class="k">for</span> <span class="n">reverse_pos</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">reverse_pos</span><span class="p">)]</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>

    <span class="c1"># Compile a pattern to match a 4-digit year</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">year_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\b\d</span><span class="si">{4}</span><span class="s2">\b&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">total_loctimes</span> <span class="o">=</span> <span class="mi">0</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.loctime.LoctimeParser.create_pareto_analysis" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_pareto_analysis</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">outof</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Creates a Pareto analysis for each category in the lookups and returns
the percentage table for the distribution across the specified levels.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>level</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of segments to divide the data into within the top "outof" parts.</p>
              </div>
            </td>
            <td>
                  <code>3</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>outof</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>1 out of n value e.g. on level 1 we have 1:5 which leads to
the original pareto 80:20 percent rule, on level 2 we have 80:(20=16:4) percent
which is equivalent to 80/96 thresholds percent on level 3 we have 80:(20=16:4=(3.2:0.8)
percent which leads to 80%,96%,99.2% thresholds</p>
              </div>
            </td>
            <td>
                  <code>5</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/loctime.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">create_pareto_analysis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n">outof</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a Pareto analysis for each category in the lookups and returns</span>
<span class="sd">    the percentage table for the distribution across the specified levels.</span>

<span class="sd">    Args:</span>
<span class="sd">        level (int): The number of segments to divide the data into within the top &quot;outof&quot; parts.</span>
<span class="sd">        outof (int): 1 out of n value e.g. on level 1 we have 1:5 which leads to</span>
<span class="sd">            the original pareto 80:20 percent rule, on level 2 we have 80:(20=16:4) percent</span>
<span class="sd">            which is equivalent to 80/96 thresholds percent on level 3 we have 80:(20=16:4=(3.2:0.8)</span>
<span class="sd">            percent which leads to 80%,96%,99.2% thresholds</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pareto_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">category</span><span class="p">,</span> <span class="n">counter</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># Sort items by count in descending order</span>
        <span class="n">sorted_items</span> <span class="o">=</span> <span class="n">counter</span><span class="o">.</span><span class="n">most_common</span><span class="p">()</span>
        <span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">counter</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

        <span class="c1"># Calculate segment thresholds based on the diminishing series</span>
        <span class="n">thresholds</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">threshold</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="c1"># current range to calculate out of for</span>
            <span class="n">trange</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">-</span> <span class="n">threshold</span>  <span class="c1"># 100/80/96/99.2 ...</span>
            <span class="c1"># right side of range</span>
            <span class="n">right_range</span> <span class="o">=</span> <span class="n">trange</span> <span class="o">/</span> <span class="n">outof</span>  <span class="c1"># 20/4/0.8 ...</span>
            <span class="c1"># left threshold is new threshold</span>
            <span class="n">threshold</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">-</span> <span class="n">right_range</span>
            <span class="n">thresholds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">threshold</span><span class="p">)</span>
        <span class="n">thresholds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

        <span class="n">segment_counts</span> <span class="o">=</span> <span class="p">{</span><span class="n">threshold</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">threshold</span> <span class="ow">in</span> <span class="n">thresholds</span><span class="p">}</span>  <span class="c1"># Initialize count dict for each segment</span>
        <span class="n">segment_cutoff</span> <span class="o">=</span> <span class="p">{</span><span class="n">threshold</span><span class="p">:</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">threshold</span> <span class="ow">in</span> <span class="n">thresholds</span><span class="p">}</span>  <span class="c1"># Initialize count dict for each segment</span>
        <span class="n">tindex</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">current_threshold</span> <span class="o">=</span> <span class="n">thresholds</span><span class="p">[</span><span class="n">tindex</span><span class="p">]</span>
        <span class="n">total_pc</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="c1"># Calculate cumulative counts for each segment</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">sorted_items</span><span class="p">:</span>
            <span class="n">item_percentage</span> <span class="o">=</span> <span class="n">count</span> <span class="o">/</span> <span class="n">total</span> <span class="o">*</span> <span class="mi">100</span>
            <span class="k">if</span> <span class="n">total_pc</span> <span class="o">+</span> <span class="n">item_percentage</span> <span class="o">&gt;</span> <span class="n">current_threshold</span> <span class="o">+</span> <span class="mf">0.000000000001</span><span class="p">:</span>
                <span class="n">segment_cutoff</span><span class="p">[</span><span class="n">current_threshold</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span>
                <span class="n">tindex</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">tindex</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">thresholds</span><span class="p">):</span>
                    <span class="k">break</span>
                <span class="n">current_threshold</span> <span class="o">=</span> <span class="n">thresholds</span><span class="p">[</span><span class="n">tindex</span><span class="p">]</span>
            <span class="n">total_pc</span> <span class="o">+=</span> <span class="n">item_percentage</span>
            <span class="n">segment_counts</span><span class="p">[</span><span class="n">current_threshold</span><span class="p">]</span> <span class="o">+=</span> <span class="n">count</span>

        <span class="n">pareto_dict</span><span class="p">[</span><span class="n">category</span><span class="p">]</span> <span class="o">=</span> <span class="n">segment_cutoff</span>
    <span class="k">return</span> <span class="n">pareto_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.loctime.LoctimeParser.get_parts" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_parts</span><span class="p">(</span><span class="n">loctime</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Splits the loctime string into parts and subparts, considering multi-word entries.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>loctime</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The loctime string to split.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>list</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of parts and subparts.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/loctime.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_parts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">loctime</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Splits the loctime string into parts and subparts, considering multi-word entries.</span>

<span class="sd">    Args:</span>
<span class="sd">        loctime (str): The loctime string to split.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: A list of parts and subparts.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Replace known multi-word entries with their underscore versions</span>
    <span class="k">for</span> <span class="n">original</span><span class="p">,</span> <span class="n">underscored</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi_word</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">loctime</span> <span class="o">=</span> <span class="n">loctime</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">original</span><span class="p">,</span> <span class="n">underscored</span><span class="p">)</span>

    <span class="n">parts</span> <span class="o">=</span> <span class="n">loctime</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>  <span class="c1"># First, split by comma</span>
    <span class="n">all_parts</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">parts</span><span class="p">:</span>
        <span class="c1"># Further split each part by whitespace, considering underscore as part of the word</span>
        <span class="n">subparts</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">all_parts</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">subparts</span><span class="p">)</span>  <span class="c1"># Add all subparts to the list</span>

    <span class="k">return</span> <span class="n">all_parts</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.loctime.LoctimeParser.load" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Loads the lookup data from the YAML file specified by the filepath attribute.</p>
<p>This method attempts to open and read the YAML file, converting its contents
into a dictionary. If the file is empty or does not exist, it returns an empty dictionary.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary representing the loaded data from the YAML file. If the file
  is empty or non-existent, an empty dictionary is returned.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>FileNotFoundError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the specified file does not exist.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="yaml.YAMLError">YAMLError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If there is an error parsing the YAML file.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/loctime.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Loads the lookup data from the YAML file specified by the filepath attribute.</span>

<span class="sd">    This method attempts to open and read the YAML file, converting its contents</span>
<span class="sd">    into a dictionary. If the file is empty or does not exist, it returns an empty dictionary.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A dictionary representing the loaded data from the YAML file. If the file</span>
<span class="sd">              is empty or non-existent, an empty dictionary is returned.</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: If the specified file does not exist.</span>
<span class="sd">        yaml.YAMLError: If there is an error parsing the YAML file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">)</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
            <span class="n">data_dict</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">yaml_file</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.loctime.LoctimeParser.parse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">loctime</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Alternative parse of CEUR-WS loctimes using lookups</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>loctime</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The loctime string to parse.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/loctime.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">loctime</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Alternative parse of CEUR-WS loctimes using lookups</span>

<span class="sd">    Args:</span>
<span class="sd">        loctime (str): The loctime string to parse.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">total_loctimes</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">lt_parts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_parts</span><span class="p">(</span><span class="n">loctime</span><span class="p">)</span>

    <span class="c1"># Process each part of loctime</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">part</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">lt_parts</span><span class="p">):</span>
        <span class="n">part</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">reverse_pos</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lt_parts</span><span class="p">)</span> <span class="o">-</span> <span class="n">index</span>  <span class="c1"># Position from end</span>

        <span class="n">found_in_lookup</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># Check against each lookup and update corresponding counter</span>
        <span class="k">for</span> <span class="p">(</span>
            <span class="n">lookup_key</span><span class="p">,</span>
            <span class="n">lookup_dict</span><span class="p">,</span>
        <span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi_word_lookups</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">lookup_dict</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="p">[</span><span class="n">lookup_key</span><span class="p">][</span><span class="n">part</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># Increment the lookup counter</span>
                <span class="n">found_in_lookup</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="c1"># set result dict</span>
                <span class="n">result</span><span class="p">[</span><span class="n">lookup_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">part</span>
                <span class="k">break</span>  <span class="c1"># Break if found, assuming part can&#39;t be in multiple lookups</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">found_in_lookup</span><span class="p">:</span>
            <span class="c1"># Update counter for each part&#39;s position from end</span>
            <span class="n">key</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">reverse_pos</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">part</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1"># Special handling for 4-digit years</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">lt_parts</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">year_pattern</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">part</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="p">[</span><span class="s2">&quot;4digit-year&quot;</span><span class="p">][</span><span class="n">part</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.loctime.LoctimeParser.save" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">save</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Saves the current lookup dictionary to a YAML file.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/loctime.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Saves the current lookup dictionary to a YAML file.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Ensure directory exists</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filepath</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
        <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span><span class="p">,</span>
            <span class="n">yaml_file</span><span class="p">,</span>
            <span class="n">default_flow_style</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">allow_unicode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.loctime.LoctimeParser.setup" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setup</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Prepares the parser by initializing multi-word handling and creating
a modified version of the lookup dictionaries with keys as concatenated words.
This method sets up the 'multi_word' and 'multi_word_lookups' dictionaries
to facilitate the parsing process, especially for multi-word keys.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/loctime.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Prepares the parser by initializing multi-word handling and creating</span>
<span class="sd">    a modified version of the lookup dictionaries with keys as concatenated words.</span>
<span class="sd">    This method sets up the &#39;multi_word&#39; and &#39;multi_word_lookups&#39; dictionaries</span>
<span class="sd">    to facilitate the parsing process, especially for multi-word keys.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">multi_word</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">lookup</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">lookup</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot; &quot;</span> <span class="ow">in</span> <span class="n">key</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">multi_word</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span>

    <span class="c1"># Initialize a dictionary derived from self.lookups with underscored keys</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">multi_word_lookups</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">category</span><span class="p">,</span> <span class="n">lookup</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multi_word_lookups</span><span class="p">[</span><span class="n">category</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">):</span> <span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">lookup</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.loctime.LoctimeParser.update_lookup_counts" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_lookup_counts</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>to be called  ffter processing all loctimes
and updating counters update lookup dicts with new counts</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/loctime.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">update_lookup_counts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    to be called  ffter processing all loctimes</span>
<span class="sd">    and updating counters update lookup dicts with new counts</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">category</span><span class="p">,</span> <span class="n">counter</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">counters</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">category</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">underscore_key</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">counter</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="c1"># Convert underscore_key back to space-separated key</span>
                <span class="n">original_key</span> <span class="o">=</span> <span class="n">underscore_key</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">original_key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span><span class="p">[</span><span class="n">category</span><span class="p">]:</span>
                    <span class="c1"># Update the count for the original key</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span><span class="p">[</span><span class="n">category</span><span class="p">][</span><span class="n">original_key</span><span class="p">]</span> <span class="o">+=</span> <span class="n">count</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># Initialize count for the original key</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">lookups</span><span class="p">[</span><span class="n">category</span><span class="p">][</span><span class="n">original_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.loctime.PercentageTable" class="doc doc-heading">
            <code>PercentageTable</code>


</h3>


    <div class="doc doc-contents ">


      <p>A class for creating a table that displays values and their corresponding percentages of a total.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.loctime.PercentageTable.total">total</span></code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The total value used for calculating percentages.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.loctime.PercentageTable.column_title">column_title</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The title for the first column in the table.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.loctime.PercentageTable.digits">digits</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of decimal places for rounding percentages.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.loctime.PercentageTable.rows">rows</span></code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A list of dictionaries representing rows in the table.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

              <details class="quote">
                <summary>Source code in <code>ceurws/loctime.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PercentageTable</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class for creating a table that displays values and their corresponding percentages of a total.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        total (float): The total value used for calculating percentages.</span>
<span class="sd">        column_title (str): The title for the first column in the table.</span>
<span class="sd">        digits (int): The number of decimal places for rounding percentages.</span>
<span class="sd">        rows (list): A list of dictionaries representing rows in the table.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column_title</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">total</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">digits</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the PercentageTable with a title for the column,</span>
<span class="sd">        a total value, and specified precision for percentages.</span>

<span class="sd">        Args:</span>
<span class="sd">            column_title (str): The title for the first column.</span>
<span class="sd">            total (float): The total value for calculating percentages.</span>
<span class="sd">            digits (int): The precision for percentage values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">total</span> <span class="o">=</span> <span class="n">total</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">column_title</span> <span class="o">=</span> <span class="n">column_title</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">digits</span> <span class="o">=</span> <span class="n">digits</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rows</span> <span class="o">=</span> <span class="p">[{</span><span class="bp">self</span><span class="o">.</span><span class="n">column_title</span><span class="p">:</span> <span class="s2">&quot;Total&quot;</span><span class="p">,</span> <span class="s2">&quot;#&quot;</span><span class="p">:</span> <span class="n">total</span><span class="p">,</span> <span class="s2">&quot;%&quot;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">}]</span>

    <span class="k">def</span> <span class="nf">add_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row_title</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a row to the table with the given title and value, calculating the percentage of the total.</span>

<span class="sd">        Args:</span>
<span class="sd">            row_title (str): The title for the row.</span>
<span class="sd">            value (float): The value for the row, which is used to calculate its percentage of the total.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">percentage</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">value</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">total</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">digits</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">total</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="bp">self</span><span class="o">.</span><span class="n">column_title</span><span class="p">:</span> <span class="n">row_title</span><span class="p">,</span> <span class="s2">&quot;#&quot;</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span> <span class="s2">&quot;%&quot;</span><span class="p">:</span> <span class="n">percentage</span><span class="p">})</span>

    <span class="k">def</span> <span class="nf">generate_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates a string representation of the table using the tabulate library.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The string representation of the table with headers and formatted rows.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="n">tabulate_markup</span> <span class="o">=</span> <span class="n">tabulate</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="p">,</span>
            <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span>
            <span class="n">tablefmt</span><span class="o">=</span><span class="n">tablefmt</span><span class="p">,</span>
            <span class="n">floatfmt</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">digits</span><span class="si">}</span><span class="s2">f&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">tabulate_markup</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.loctime.PercentageTable.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">column_title</span><span class="p">,</span> <span class="n">total</span><span class="p">,</span> <span class="n">digits</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Initializes the PercentageTable with a title for the column,
a total value, and specified precision for percentages.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>column_title</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The title for the first column.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>total</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The total value for calculating percentages.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>digits</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The precision for percentage values.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/loctime.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">column_title</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">total</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">digits</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the PercentageTable with a title for the column,</span>
<span class="sd">    a total value, and specified precision for percentages.</span>

<span class="sd">    Args:</span>
<span class="sd">        column_title (str): The title for the first column.</span>
<span class="sd">        total (float): The total value for calculating percentages.</span>
<span class="sd">        digits (int): The precision for percentage values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">total</span> <span class="o">=</span> <span class="n">total</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">column_title</span> <span class="o">=</span> <span class="n">column_title</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">digits</span> <span class="o">=</span> <span class="n">digits</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rows</span> <span class="o">=</span> <span class="p">[{</span><span class="bp">self</span><span class="o">.</span><span class="n">column_title</span><span class="p">:</span> <span class="s2">&quot;Total&quot;</span><span class="p">,</span> <span class="s2">&quot;#&quot;</span><span class="p">:</span> <span class="n">total</span><span class="p">,</span> <span class="s2">&quot;%&quot;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">}]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.loctime.PercentageTable.add_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_value</span><span class="p">(</span><span class="n">row_title</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Adds a row to the table with the given title and value, calculating the percentage of the total.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>row_title</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The title for the row.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>value</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The value for the row, which is used to calculate its percentage of the total.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/loctime.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row_title</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds a row to the table with the given title and value, calculating the percentage of the total.</span>

<span class="sd">    Args:</span>
<span class="sd">        row_title (str): The title for the row.</span>
<span class="sd">        value (float): The value for the row, which is used to calculate its percentage of the total.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">percentage</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">value</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">total</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">digits</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">total</span> <span class="k">else</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="bp">self</span><span class="o">.</span><span class="n">column_title</span><span class="p">:</span> <span class="n">row_title</span><span class="p">,</span> <span class="s2">&quot;#&quot;</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span> <span class="s2">&quot;%&quot;</span><span class="p">:</span> <span class="n">percentage</span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.loctime.PercentageTable.generate_table" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_table</span><span class="p">(</span><span class="n">tablefmt</span><span class="o">=</span><span class="s1">&#39;grid&#39;</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Generates a string representation of the table using the tabulate library.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The string representation of the table with headers and formatted rows.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/loctime.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;grid&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates a string representation of the table using the tabulate library.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The string representation of the table with headers and formatted rows.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>
    <span class="n">tabulate_markup</span> <span class="o">=</span> <span class="n">tabulate</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="p">,</span>
        <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span>
        <span class="n">tablefmt</span><span class="o">=</span><span class="n">tablefmt</span><span class="p">,</span>
        <span class="n">floatfmt</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">digits</span><span class="si">}</span><span class="s2">f&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">tabulate_markup</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.models" class="doc doc-heading">
            <code>models</code>


</h2>

    <div class="doc doc-contents ">



  <div class="doc doc-children">










<div class="doc doc-object doc-module">



<h3 id="ceurws.models.ceur" class="doc doc-heading">
            <code>ceur</code>


</h3>

    <div class="doc doc-contents ">

      <p>Created on 2024-03-17</p>
<p>CEUR Workshop Proceedings (CEUR-WS.org)</p>
<p>Metamodel
@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="ceurws.models.ceur.Paper" class="doc doc-heading">
            <code>Paper</code>


</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="sqlmodel.SQLModel">SQLModel</span></code></p>


      <p>Represents a paper with details such as authors, volume number, and title.</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/models/ceur.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Paper</span><span class="p">(</span><span class="n">SQLModel</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a paper with details such as authors, volume number, and title.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;papers&quot;</span>
    <span class="n">authors</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">vol_number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">pdf_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">pages</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">fail</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ceurws.models.ceur.Volume" class="doc doc-heading">
            <code>Volume</code>


</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="sqlmodel.SQLModel">SQLModel</span></code></p>


      <p>a single CEUR-WS Volume</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/models/ceur.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Volume</span><span class="p">(</span><span class="n">SQLModel</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    a single CEUR-WS Volume</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;volumes&quot;</span>

    <span class="n">fromLine</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">toLine</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">valid</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">acronym</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">seealso</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">editors</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">submittedBy</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">published</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">pubDate</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">archive</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">desc</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># &#39;desc&#39; is a SQL keyword, so it&#39;s aliased</span>
    <span class="n">h1</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">h3</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">volname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">homepage</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">year</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">urn</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="c1"># vol_number: Optional[int] = Field(default=None)</span>
    <span class="n">loctime</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">volume_number</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">voltitle</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">dateFrom</span><span class="p">:</span> <span class="n">date</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">dateTo</span><span class="p">:</span> <span class="n">date</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">city</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">cityWikidataId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">country</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">countryWikidataId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">urn_check_digit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">urn_ok</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">ceurpubdate</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">colocated</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">virtualEvent</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">tdtitle</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="ceurws.models.dblp" class="doc doc-heading">
            <code>dblp</code>


</h3>

    <div class="doc doc-contents ">

      <p>Created on 2023
@author: Tim Holzheim</p>
<p>refactored 2024-03-09 by wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="ceurws.models.dblp.DblpPaper" class="doc doc-heading">
            <code>DblpPaper</code>


</h4>


    <div class="doc doc-contents ">


      <p>a paper indexed by dblp.org</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/models/dblp.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@lod_storable</span>
<span class="k">class</span> <span class="nc">DblpPaper</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    a paper indexed by dblp.org</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">dblp_publication_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">dblp_proceeding_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">authors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpScholar</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">pdf_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">author</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">authors</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">author</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">authors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">DblpScholar</span><span class="p">(</span><span class="o">**</span><span class="n">author</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ceurws.models.dblp.DblpProceeding" class="doc doc-heading">
            <code>DblpProceeding</code>


</h4>


    <div class="doc doc-contents ">


      <p>a proceeding indexed by dblp.org</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/models/dblp.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@lod_storable</span>
<span class="k">class</span> <span class="nc">DblpProceeding</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    a proceeding indexed by dblp.org</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">dblp_publication_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">dblp_event_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">papers</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpPaper</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">editors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpScholar</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">editors</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">editor</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">editors</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">editor</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">editors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">DblpScholar</span><span class="p">(</span><span class="o">**</span><span class="n">editor</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">papers</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">paper</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">papers</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">paper</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">papers</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">DblpPaper</span><span class="p">(</span><span class="o">**</span><span class="n">paper</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ceurws.models.dblp.DblpScholar" class="doc doc-heading">
            <code>DblpScholar</code>


</h4>


    <div class="doc doc-contents ">


      <p>a scholar indexed by dblp.org</p>
<p>example: Tim Berners-Lee
https://dblp.org/pid/b/TimBernersLee.html</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/models/dblp.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@lod_storable</span>
<span class="k">class</span> <span class="nc">DblpScholar</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    a scholar indexed by dblp.org</span>

<span class="sd">    example: Tim Berners-Lee</span>
<span class="sd">    https://dblp.org/pid/b/TimBernersLee.html</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">dblp_author_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">wikidata_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">orcid_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">gnd_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="ceurws.models.dblp2" class="doc doc-heading">
            <code>dblp2</code>


</h3>

    <div class="doc doc-contents ">

      <p>Created on 2024-03-16</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="ceurws.models.dblp2.Authorship" class="doc doc-heading">
            <code>Authorship</code>


</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="sqlmodel.SQLModel">SQLModel</span></code></p>


      <p>Represents the relationship between a scholar and a paper, capturing the authorship details.</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/models/dblp2.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Authorship</span><span class="p">(</span><span class="n">SQLModel</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the relationship between a scholar and a paper, capturing the authorship details.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">paper</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">foreign_key</span><span class="o">=</span><span class="s2">&quot;paper.paper&quot;</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">dblp_author_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">foreign_key</span><span class="o">=</span><span class="s2">&quot;scholar.dblp_author_id&quot;</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ceurws.models.dblp2.Editorship" class="doc doc-heading">
            <code>Editorship</code>


</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="sqlmodel.SQLModel">SQLModel</span></code></p>


      <p>Represents the relationship between a scholar and a proceeding, indicating the scholar's role as an editor.</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/models/dblp2.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Editorship</span><span class="p">(</span><span class="n">SQLModel</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the relationship between a scholar and a proceeding, indicating the scholar&#39;s role as an editor.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">foreign_key</span><span class="o">=</span><span class="s2">&quot;proceeding.volume_number&quot;</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">dblp_author_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">foreign_key</span><span class="o">=</span><span class="s2">&quot;scholar.dblp_author_id&quot;</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ceurws.models.dblp2.Paper" class="doc doc-heading">
            <code>Paper</code>


</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="sqlmodel.SQLModel">SQLModel</span></code></p>


      <p>A paper indexed in DBLP with additional details. The paper URL is used as the unique identifier.</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/models/dblp2.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Paper</span><span class="p">(</span><span class="n">SQLModel</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A paper indexed in DBLP with additional details. The paper URL is used as the unique identifier.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">paper</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">proceeding</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">foreign_key</span><span class="o">=</span><span class="s2">&quot;proceeding.proceeding&quot;</span><span class="p">)</span>
    <span class="n">volume_number</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">pdf_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ceurws.models.dblp2.Proceeding" class="doc doc-heading">
            <code>Proceeding</code>


</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="sqlmodel.SQLModel">SQLModel</span></code></p>


      <p>A proceeding indexed in DBLP with additional details.</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/models/dblp2.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Proceeding</span><span class="p">(</span><span class="n">SQLModel</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A proceeding indexed in DBLP with additional details.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">proceeding</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">dblp_event_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ceurws.models.dblp2.Scholar" class="doc doc-heading">
            <code>Scholar</code>


</h4>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="sqlmodel.SQLModel">SQLModel</span></code></p>


      <p>Represents a scholar with information fetched from DBLP and possibly other sources.</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/models/dblp2.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Scholar</span><span class="p">(</span><span class="n">SQLModel</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a scholar with information fetched from DBLP and possibly other sources.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">dblp_author_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">wikidata_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">orcid_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">gnd_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.namedqueries" class="doc doc-heading">
            <code>namedqueries</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 2023-03-21</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.namedqueries.NamedQueries" class="doc doc-heading">
            <code>NamedQueries</code>


</h3>


    <div class="doc doc-contents ">


      <p>get named queries</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/namedqueries.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">NamedQueries</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get named queries</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wikiId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;cr&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wikiId</span> <span class="o">=</span> <span class="n">wikiId</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wikiClient</span> <span class="o">=</span> <span class="n">WikiClient</span><span class="o">.</span><span class="n">ofWikiId</span><span class="p">(</span><span class="n">wikiId</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wikiClient</span><span class="o">.</span><span class="n">needsLogin</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wikiClient</span><span class="o">.</span><span class="n">login</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">smw</span> <span class="o">=</span> <span class="n">SMWClient</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wikiClient</span><span class="o">.</span><span class="n">getSite</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qm</span><span class="p">:</span> <span class="n">QueryManager</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        run query</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ask_query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        {{#ask: [[Concept:Query]]</span>
<span class="s2">|mainlabel=Query</span>
<span class="s2">|?Query id = id</span>
<span class="s2">|?Query name=name</span>
<span class="s2">|?Query title = title</span>
<span class="s2">|?Query tryiturl = tryiturl</span>
<span class="s2">|?Query wdqsurl = wdqsurl</span>
<span class="s2">|?Query sparql=sparql</span>
<span class="s2">|?Query relevance = relevance</span>
<span class="s2">|?Query task = task</span>
<span class="s2">|limit=200</span>
<span class="s2">|sort=Query task,Query id</span>
<span class="s2">|order=ascending</span>
<span class="s2">}}&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">q_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">smw</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">ask_query</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">toQueryManager</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QueryManager</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        convert me to a QueryManager</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qm</span> <span class="o">=</span> <span class="n">QueryManager</span><span class="p">(</span><span class="n">lang</span><span class="o">=</span><span class="s2">&quot;sparql&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qm</span><span class="o">.</span><span class="n">queriesByName</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">q_record</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">q_records</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">q_record</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
            <span class="n">sparql</span> <span class="o">=</span> <span class="n">q_record</span><span class="p">[</span><span class="s2">&quot;sparql&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">name</span> <span class="ow">and</span> <span class="n">sparql</span><span class="p">:</span>
                <span class="n">query</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span><span class="n">sparql</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">qm</span><span class="o">.</span><span class="n">queriesByName</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">query</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">qm</span>

    <span class="k">def</span> <span class="nf">toYaml</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">qm</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">query</span><span class="p">()</span>
            <span class="n">qm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">toQueryManager</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">qm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">qm</span>
        <span class="n">yaml_str</span> <span class="o">=</span> <span class="s2">&quot;# named queries</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">for</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">qm</span><span class="o">.</span><span class="n">queriesByName</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">yaml_str</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;&#39;</span><span class="si">{</span><span class="n">query</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;:</span>
<span class="s2">    sparql: |</span>
<span class="s2">&quot;&quot;&quot;</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">query</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">):</span>
                <span class="n">yaml_str</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;      </span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">yaml_str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.namedqueries.NamedQueries.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">wikiId</span><span class="o">=</span><span class="s1">&#39;cr&#39;</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      

            <details class="quote">
              <summary>Source code in <code>ceurws/namedqueries.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wikiId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;cr&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wikiId</span> <span class="o">=</span> <span class="n">wikiId</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wikiClient</span> <span class="o">=</span> <span class="n">WikiClient</span><span class="o">.</span><span class="n">ofWikiId</span><span class="p">(</span><span class="n">wikiId</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wikiClient</span><span class="o">.</span><span class="n">needsLogin</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wikiClient</span><span class="o">.</span><span class="n">login</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">smw</span> <span class="o">=</span> <span class="n">SMWClient</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wikiClient</span><span class="o">.</span><span class="n">getSite</span><span class="p">())</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">qm</span><span class="p">:</span> <span class="n">QueryManager</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.namedqueries.NamedQueries.query" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">query</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>run query</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/namedqueries.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code>    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        run query</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ask_query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        {{#ask: [[Concept:Query]]</span>
<span class="s2">|mainlabel=Query</span>
<span class="s2">|?Query id = id</span>
<span class="s2">|?Query name=name</span>
<span class="s2">|?Query title = title</span>
<span class="s2">|?Query tryiturl = tryiturl</span>
<span class="s2">|?Query wdqsurl = wdqsurl</span>
<span class="s2">|?Query sparql=sparql</span>
<span class="s2">|?Query relevance = relevance</span>
<span class="s2">|?Query task = task</span>
<span class="s2">|limit=200</span>
<span class="s2">|sort=Query task,Query id</span>
<span class="s2">|order=ascending</span>
<span class="s2">}}&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">q_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">smw</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">ask_query</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.namedqueries.NamedQueries.toQueryManager" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">toQueryManager</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>convert me to a QueryManager</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/namedqueries.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">toQueryManager</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QueryManager</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    convert me to a QueryManager</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">qm</span> <span class="o">=</span> <span class="n">QueryManager</span><span class="p">(</span><span class="n">lang</span><span class="o">=</span><span class="s2">&quot;sparql&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">qm</span><span class="o">.</span><span class="n">queriesByName</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">q_record</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">q_records</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">q_record</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
        <span class="n">sparql</span> <span class="o">=</span> <span class="n">q_record</span><span class="p">[</span><span class="s2">&quot;sparql&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">and</span> <span class="n">sparql</span><span class="p">:</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span><span class="n">sparql</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">qm</span><span class="o">.</span><span class="n">queriesByName</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">query</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">qm</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.papertocparser" class="doc doc-heading">
            <code>papertocparser</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 2023-03-22</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.papertocparser.PaperTocParser" class="doc doc-heading">
            <code>PaperTocParser</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ceurws.textparser.Textparser" href="#ceurws.textparser.Textparser">Textparser</a></code></p>


      <p>parser for paper table of contents</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/papertocparser.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">PaperTocParser</span><span class="p">(</span><span class="n">Textparser</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    parser for paper table of contents</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">soup</span><span class="p">:</span> <span class="n">BeautifulSoup</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        constructor</span>

<span class="sd">        Args:</span>
<span class="sd">            number(str): the volume number</span>
<span class="sd">            soup(BeautifulSoup): the parser input</span>
<span class="sd">            debug(bool): if True print out debug info</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Textparser</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="n">number</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">soup</span> <span class="o">=</span> <span class="n">soup</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scrape</span> <span class="o">=</span> <span class="n">WebScrape</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scrapeDescr</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">ScrapeDescription</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURTITLE&quot;</span><span class="p">),</span>
            <span class="n">ScrapeDescription</span><span class="p">(</span>
                <span class="n">key</span><span class="o">=</span><span class="s2">&quot;authors&quot;</span><span class="p">,</span>
                <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
                <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURAUTHOR&quot;</span><span class="p">,</span>
                <span class="n">multi</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">ScrapeDescription</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;pages&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURPAGES&quot;</span><span class="p">),</span>
            <span class="c1"># ScrapeDescription(key=&#39;submitted_papers&#39;, tag=&#39;span&#39;, attribute=&#39;class&#39;, value=&#39;CEURSUBMITTEDPAPERS&#39;),</span>
            <span class="c1"># ScrapeDescription(key=&#39;accepted_papers&#39;, tag=&#39;span&#39;, attribute=&#39;class&#39;, value=&#39;CEURACCEPTEDPAPERS&#39;),</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">parsePapers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        parse the toc to papers</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">paper_records</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">toc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;CEURTOC&quot;</span><span class="p">})</span>
        <span class="k">if</span> <span class="n">toc</span><span class="p">:</span>
            <span class="n">paper_ids</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">paper_li</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">toc</span><span class="o">.</span><span class="n">findAll</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">)):</span>
                <span class="n">paper_record</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scrape</span><span class="o">.</span><span class="n">parseWithScrapeDescription</span><span class="p">(</span><span class="n">paper_li</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">scrapeDescr</span><span class="p">)</span>
                <span class="n">paper_record</span><span class="p">[</span><span class="s2">&quot;vol_number&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">number</span>
                <span class="n">href_node</span> <span class="o">=</span> <span class="n">paper_li</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">href_node</span><span class="p">:</span>
                    <span class="n">href</span> <span class="o">=</span> <span class="n">href_node</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;href&quot;</span><span class="p">]</span>
                    <span class="n">href</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">href</span><span class="p">)</span>
                    <span class="n">paper_record</span><span class="p">[</span><span class="s2">&quot;pdf_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">href</span>
                <span class="k">if</span> <span class="s2">&quot;id&quot;</span> <span class="ow">in</span> <span class="n">paper_li</span><span class="o">.</span><span class="n">attrs</span><span class="p">:</span>
                    <span class="n">paper_id</span> <span class="o">=</span> <span class="n">paper_li</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">paper_id</span> <span class="ow">in</span> <span class="n">paper_ids</span><span class="p">:</span>
                        <span class="n">paper_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">paper_id</span><span class="si">}</span><span class="s2">-duplicate-</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="n">paper_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">paper_id</span><span class="p">)</span>
                    <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">paper_id</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="n">paper_record</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>
                <span class="n">paper_records</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">paper_record</span><span class="p">)</span>
                <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">toc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;h2&quot;</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;.*Contents.*&quot;</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">toc</span><span class="p">:</span>
                <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">for</span> <span class="n">paper_li</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
                    <span class="n">href_node</span> <span class="o">=</span> <span class="n">paper_li</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">href_node</span><span class="p">:</span>
                        <span class="n">href</span> <span class="o">=</span> <span class="n">href_node</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;href&quot;</span><span class="p">]</span>
                        <span class="n">href</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">href</span><span class="p">)</span>
                        <span class="k">if</span> <span class="s2">&quot;.pdf&quot;</span> <span class="ow">in</span> <span class="n">href</span><span class="p">:</span>
                            <span class="n">title</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">href_node</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
                            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
                            <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">/paper-</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">&quot;</span>
                            <span class="n">paper_record</span> <span class="o">=</span> <span class="p">{</span>
                                <span class="s2">&quot;vol_number&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="p">,</span>
                                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
                                <span class="s2">&quot;pdf_name&quot;</span><span class="p">:</span> <span class="n">href</span><span class="p">,</span>
                                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">key</span><span class="p">,</span>
                            <span class="p">}</span>
                            <span class="n">authors</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
                            <span class="c1"># authors are after next br tag</span>
                            <span class="n">br</span> <span class="o">=</span> <span class="n">paper_li</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;br&quot;</span><span class="p">)</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="n">br</span><span class="p">:</span>
                                <span class="n">paper_record</span><span class="p">[</span><span class="s2">&quot;fail&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;authors br not found&quot;</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">author_part</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="n">next_sibling</span>
                                <span class="k">if</span> <span class="ow">not</span> <span class="n">author_part</span><span class="p">:</span>
                                    <span class="n">paper_record</span><span class="p">[</span><span class="s2">&quot;fail&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;authors br not found&quot;</span>
                                <span class="k">else</span><span class="p">:</span>
                                    <span class="n">authors</span> <span class="o">=</span> <span class="n">author_part</span><span class="o">.</span><span class="n">text</span>
                            <span class="n">authors</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">authors</span><span class="p">)</span>
                            <span class="n">author_list</span> <span class="o">=</span> <span class="n">authors</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
                            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">author</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">author_list</span><span class="p">):</span>
                                <span class="n">author_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">author</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                            <span class="n">paper_record</span><span class="p">[</span><span class="s2">&quot;authors&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">author_list</span>
                            <span class="n">paper_records</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">paper_record</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;no toc for </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">paper_records</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.papertocparser.PaperTocParser.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">soup</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>constructor</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>number(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the volume number</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>soup(BeautifulSoup)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the parser input</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>debug(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True print out debug info</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/papertocparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">soup</span><span class="p">:</span> <span class="n">BeautifulSoup</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    constructor</span>

<span class="sd">    Args:</span>
<span class="sd">        number(str): the volume number</span>
<span class="sd">        soup(BeautifulSoup): the parser input</span>
<span class="sd">        debug(bool): if True print out debug info</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">Textparser</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="n">number</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">soup</span> <span class="o">=</span> <span class="n">soup</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">scrape</span> <span class="o">=</span> <span class="n">WebScrape</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">scrapeDescr</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">ScrapeDescription</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURTITLE&quot;</span><span class="p">),</span>
        <span class="n">ScrapeDescription</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="s2">&quot;authors&quot;</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
            <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURAUTHOR&quot;</span><span class="p">,</span>
            <span class="n">multi</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">ScrapeDescription</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;pages&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURPAGES&quot;</span><span class="p">),</span>
        <span class="c1"># ScrapeDescription(key=&#39;submitted_papers&#39;, tag=&#39;span&#39;, attribute=&#39;class&#39;, value=&#39;CEURSUBMITTEDPAPERS&#39;),</span>
        <span class="c1"># ScrapeDescription(key=&#39;accepted_papers&#39;, tag=&#39;span&#39;, attribute=&#39;class&#39;, value=&#39;CEURACCEPTEDPAPERS&#39;),</span>
    <span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.papertocparser.PaperTocParser.parsePapers" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parsePapers</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>parse the toc to papers</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/papertocparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parsePapers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    parse the toc to papers</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">paper_records</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">toc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;CEURTOC&quot;</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">toc</span><span class="p">:</span>
        <span class="n">paper_ids</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">paper_li</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">toc</span><span class="o">.</span><span class="n">findAll</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">)):</span>
            <span class="n">paper_record</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scrape</span><span class="o">.</span><span class="n">parseWithScrapeDescription</span><span class="p">(</span><span class="n">paper_li</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">scrapeDescr</span><span class="p">)</span>
            <span class="n">paper_record</span><span class="p">[</span><span class="s2">&quot;vol_number&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">number</span>
            <span class="n">href_node</span> <span class="o">=</span> <span class="n">paper_li</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">href_node</span><span class="p">:</span>
                <span class="n">href</span> <span class="o">=</span> <span class="n">href_node</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;href&quot;</span><span class="p">]</span>
                <span class="n">href</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">href</span><span class="p">)</span>
                <span class="n">paper_record</span><span class="p">[</span><span class="s2">&quot;pdf_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">href</span>
            <span class="k">if</span> <span class="s2">&quot;id&quot;</span> <span class="ow">in</span> <span class="n">paper_li</span><span class="o">.</span><span class="n">attrs</span><span class="p">:</span>
                <span class="n">paper_id</span> <span class="o">=</span> <span class="n">paper_li</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">paper_id</span> <span class="ow">in</span> <span class="n">paper_ids</span><span class="p">:</span>
                    <span class="n">paper_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">paper_id</span><span class="si">}</span><span class="s2">-duplicate-</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">paper_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">paper_id</span><span class="p">)</span>
                <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">paper_id</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">paper_record</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">key</span>
            <span class="n">paper_records</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">paper_record</span><span class="p">)</span>
            <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">toc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;h2&quot;</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;.*Contents.*&quot;</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">toc</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">paper_li</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;li&quot;</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
                <span class="n">href_node</span> <span class="o">=</span> <span class="n">paper_li</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">href_node</span><span class="p">:</span>
                    <span class="n">href</span> <span class="o">=</span> <span class="n">href_node</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;href&quot;</span><span class="p">]</span>
                    <span class="n">href</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">href</span><span class="p">)</span>
                    <span class="k">if</span> <span class="s2">&quot;.pdf&quot;</span> <span class="ow">in</span> <span class="n">href</span><span class="p">:</span>
                        <span class="n">title</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">href_node</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
                        <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
                        <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">/paper-</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">&quot;</span>
                        <span class="n">paper_record</span> <span class="o">=</span> <span class="p">{</span>
                            <span class="s2">&quot;vol_number&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="p">,</span>
                            <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
                            <span class="s2">&quot;pdf_name&quot;</span><span class="p">:</span> <span class="n">href</span><span class="p">,</span>
                            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">key</span><span class="p">,</span>
                        <span class="p">}</span>
                        <span class="n">authors</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
                        <span class="c1"># authors are after next br tag</span>
                        <span class="n">br</span> <span class="o">=</span> <span class="n">paper_li</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;br&quot;</span><span class="p">)</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">br</span><span class="p">:</span>
                            <span class="n">paper_record</span><span class="p">[</span><span class="s2">&quot;fail&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;authors br not found&quot;</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">author_part</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="n">next_sibling</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="n">author_part</span><span class="p">:</span>
                                <span class="n">paper_record</span><span class="p">[</span><span class="s2">&quot;fail&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;authors br not found&quot;</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">authors</span> <span class="o">=</span> <span class="n">author_part</span><span class="o">.</span><span class="n">text</span>
                        <span class="n">authors</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">authors</span><span class="p">)</span>
                        <span class="n">author_list</span> <span class="o">=</span> <span class="n">authors</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">author</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">author_list</span><span class="p">):</span>
                            <span class="n">author_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">author</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                        <span class="n">paper_record</span><span class="p">[</span><span class="s2">&quot;authors&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">author_list</span>
                        <span class="n">paper_records</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">paper_record</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;no toc for </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">paper_records</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.services" class="doc doc-heading">
            <code>services</code>


</h2>

    <div class="doc doc-contents ">



  <div class="doc doc-children">










<div class="doc doc-object doc-module">



<h3 id="ceurws.services.entity_fishing" class="doc doc-heading">
            <code>entity_fishing</code>


</h3>

    <div class="doc doc-contents ">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="ceurws.services.entity_fishing.CeurEntityFishing" class="doc doc-heading">
            <code>CeurEntityFishing</code>


</h4>


    <div class="doc doc-contents ">


      <p>EntityFishing component for spaCy pipeline.
modified version of https://github.com/Lucaterre/spacyfishing/blob/main/spacyfishing/entity_fishing_linker.py</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/services/entity_fishing.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Language</span><span class="o">.</span><span class="n">factory</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="n">ENTITY_FISHING_PIPELINE</span><span class="p">,</span>
    <span class="n">default_config</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;api_ef_base&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">ENTITY_FISHING_ENDPOINT</span><span class="si">}</span><span class="s2">/service&quot;</span><span class="p">,</span>
        <span class="s2">&quot;language&quot;</span><span class="p">:</span> <span class="s2">&quot;en&quot;</span><span class="p">,</span>
        <span class="s2">&quot;extra_info&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s2">&quot;filter_statements&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;verbose&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>
<span class="k">class</span> <span class="nc">CeurEntityFishing</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    EntityFishing component for spaCy pipeline.</span>
<span class="sd">    modified version of https://github.com/Lucaterre/spacyfishing/blob/main/spacyfishing/entity_fishing_linker.py</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">nlp</span><span class="p">:</span> <span class="n">Language</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">api_ef_base</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">language</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">extra_info</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">filter_statements</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
        <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `EntityFishing` main class component.</span>

<span class="sd">        Note:</span>
<span class="sd">            Show default config for default attributes values.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            api_ef_base (str): describes url of the entity-fishing API used.</span>
<span class="sd">            language (str): matches the language of the resources to</span>
<span class="sd">            be disambiguated (matches the language model for the NER task).</span>
<span class="sd">            extra_info (bool): attach extra information to spans as normalised term,</span>
<span class="sd">            description, others knowledge base ids.</span>
<span class="sd">            filter_statements (list): filter others KB ids</span>
<span class="sd">            that relies on QID  eg. [&#39;P214&#39;, &#39;P244&#39;].</span>
<span class="sd">            verbose (bool): display logging messages.</span>

<span class="sd">        Attributes:</span>
<span class="sd">            api_ef_base (str): cf. `api_ef_base` in parameters section.</span>
<span class="sd">            language (dict): cf. `language` in parameters section.</span>
<span class="sd">            prepare the language argument for the query.</span>
<span class="sd">            wikidata_url_base (str): wikidata base url (to concatenate QID identifiers).</span>
<span class="sd">            flag_extra (bool): cf. `extra_info` in parameters section.</span>
<span class="sd">            filter_statements (list): cf. `filter_statements` in parameters section.</span>
<span class="sd">            verbose (bool): cf. `verbose` in parameters section.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">api_ef_base</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
            <span class="n">api_ef_base</span> <span class="o">+=</span> <span class="s2">&quot;/&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">api_ef_base</span> <span class="o">=</span> <span class="n">api_ef_base</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">language</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">lang</span><span class="o">=</span><span class="n">language</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wikidata_url_base</span> <span class="o">=</span> <span class="s2">&quot;https://www.wikidata.org/wiki/&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">flag_extra</span> <span class="o">=</span> <span class="n">extra_info</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter_statements</span> <span class="o">=</span> <span class="n">filter_statements</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="n">verbose</span>

        <span class="c1"># Set doc extensions to attaches raw response from Entity-Fishing API to doc</span>
        <span class="n">Doc</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;annotations&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">{},</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Doc</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">{},</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># Set spans extensions to enhance spans with new information</span>
        <span class="c1"># come from Wikidata knowledge base.</span>
        <span class="c1"># default spans :</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;kb_qid&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;wikipedia_page_ref&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;url_wikidata&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;nerd_score&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># spans if extra_info set to True</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;normal_term&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;src_description&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;other_ids&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">generic_client_batch</span><span class="p">(</span>
        <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">url_batch</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">files_batch</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        It takes a list of urls and a list of files, and it sends a request to each url with the</span>
<span class="sd">        corresponding file</span>

<span class="sd">        :param method: str,</span>
<span class="sd">        :type method: str</span>
<span class="sd">        :param url_batch: a list of urls to send requests to</span>
<span class="sd">        :type url_batch: list[str]</span>
<span class="sd">        :param verbose: if True, the client will print out the status of each request</span>
<span class="sd">        :type verbose: bool</span>
<span class="sd">        :param params: dict = None,</span>
<span class="sd">        :type params: dict</span>
<span class="sd">        :param files_batch: a list of dictionaries, each dictionary containing the file to be annotated</span>
<span class="sd">        :type files_batch: list[dict]</span>
<span class="sd">        :return: A list of responses.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">files_batch</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">files_batch</span> <span class="o">=</span> <span class="p">[{}</span> <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">url_batch</span><span class="p">]</span>

        <span class="k">def</span> <span class="nf">load_url</span><span class="p">(</span><span class="n">type_url</span><span class="p">,</span> <span class="n">type_files</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
                    <span class="n">url</span><span class="o">=</span><span class="n">type_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">},</span> <span class="n">files</span><span class="o">=</span><span class="n">type_files</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                    <span class="n">url</span><span class="o">=</span><span class="n">type_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">},</span> <span class="n">files</span><span class="o">=</span><span class="n">type_files</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span>
                <span class="p">)</span>

        <span class="n">response_batch</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">resp_err</span><span class="p">,</span> <span class="n">resp_ok</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
        <span class="k">with</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
            <span class="n">future_to_url</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">executor</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">load_url</span><span class="p">,</span> <span class="n">type_url</span><span class="p">,</span> <span class="n">type_files</span><span class="p">):</span> <span class="p">(</span><span class="n">type_url</span><span class="p">,</span> <span class="n">type_files</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">type_url</span><span class="p">,</span> <span class="n">type_files</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">url_batch</span><span class="p">,</span> <span class="n">files_batch</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">as_completed</span><span class="p">(</span><span class="n">future_to_url</span><span class="p">):</span>
                <span class="c1"># url = future_to_url[future]</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">response_batch</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">future</span><span class="o">.</span><span class="n">result</span><span class="p">())</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="n">resp_err</span> <span class="o">=</span> <span class="n">resp_err</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">resp_ok</span> <span class="o">=</span> <span class="n">resp_ok</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="k">def</span> <span class="nf">client_log</span><span class="p">(</span><span class="n">msg</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># Manage response status code :</span>
        <span class="c1"># cf. https://nerd.readthedocs.io/en/latest/restAPI.html#response-status-codes</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">response</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">response_batch</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">400</span><span class="p">:</span>
                <span class="n">client_log</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Request </span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">. Wrong request, missing parameters, &quot;</span>
                    <span class="s2">&quot;missing header, text too short (&lt;= 5 characters). (400)&quot;</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">500</span><span class="p">:</span>
                <span class="n">client_log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Request </span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">. Entity-Fishing API service seems broken. (500)&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>
                <span class="n">client_log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Request </span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">. Property was not found in request body. (404)&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">406</span><span class="p">:</span>
                <span class="n">client_log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Request </span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">. Language is not supported by Entity-Fishing. (406)&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">response_batch</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">process_response</span><span class="p">(</span><span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        It takes a response object from the `requests` library and returns a tuple of two dictionaries.</span>
<span class="sd">        The first dictionary is the JSON response from the API, and the second dictionary contains</span>
<span class="sd">        metadata about the response</span>

<span class="sd">        :param response: The response object returned by the requests library</span>
<span class="sd">        :type response: requests.models.Response</span>
<span class="sd">        :return: A tuple of two dictionaries.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">res_json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">decoder</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
            <span class="n">res_json</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;status_code&quot;</span><span class="p">:</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span>
            <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">response</span><span class="o">.</span><span class="n">reason</span><span class="p">,</span>
            <span class="s2">&quot;ok&quot;</span><span class="p">:</span> <span class="n">response</span><span class="o">.</span><span class="n">ok</span><span class="p">,</span>
            <span class="s2">&quot;encoding&quot;</span><span class="p">:</span> <span class="n">response</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">res_json</span><span class="p">,</span> <span class="n">metadata</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">prepare_data</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">terms</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">entities</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">language</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">full</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &gt; The function takes in a text, a list of entities, a language dictionary and a boolean value.</span>
<span class="sd">        It then returns a dictionary with a key called &quot;query&quot; and a value that is a JSON object</span>

<span class="sd">        :param text: The text to be analyzed</span>
<span class="sd">        :type text: str</span>
<span class="sd">        :param terms: the terms to be searched for</span>
<span class="sd">        :type terms: str</span>
<span class="sd">        :param entities: list of entities in the text</span>
<span class="sd">        :type entities: list</span>
<span class="sd">        :param language: the language of the text</span>
<span class="sd">        :type language: dict</span>
<span class="sd">        :param full: if True, the response will contain the full text of the article, defaults to False</span>
<span class="sd">        :type full: bool (optional)</span>
<span class="sd">        :return: A dictionary with a key of &quot;query&quot; and a value of a json object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="n">text</span><span class="p">,</span>
                    <span class="s2">&quot;shortText&quot;</span><span class="p">:</span> <span class="n">terms</span><span class="p">,</span>
                    <span class="s2">&quot;language&quot;</span><span class="p">:</span> <span class="n">language</span><span class="p">,</span>
                    <span class="s2">&quot;entities&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;rawName&quot;</span><span class="p">:</span> <span class="n">ent</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
                            <span class="s2">&quot;offsetStart&quot;</span><span class="p">:</span> <span class="n">ent</span><span class="o">.</span><span class="n">start_char</span><span class="p">,</span>
                            <span class="s2">&quot;offsetEnd&quot;</span><span class="p">:</span> <span class="n">ent</span><span class="o">.</span><span class="n">end_char</span><span class="p">,</span>
                        <span class="p">}</span>
                        <span class="k">for</span> <span class="n">ent</span> <span class="ow">in</span> <span class="n">entities</span>
                    <span class="p">],</span>
                    <span class="s2">&quot;mentions&quot;</span><span class="p">:</span> <span class="p">[],</span>
                    <span class="s2">&quot;customisation&quot;</span><span class="p">:</span> <span class="s2">&quot;generic&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;full&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span> <span class="k">if</span> <span class="n">full</span> <span class="k">else</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
                <span class="p">},</span>
                <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">updated_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doc</span><span class="p">:</span> <span class="n">Doc</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &gt; The function `updated_entities` takes a `Doc` object and a list of entities as input. It then</span>
<span class="sd">        iterates over the list of entities and updates the `Doc` object with the information contained</span>
<span class="sd">        in the list of entities</span>

<span class="sd">        :param doc: the document to be processed</span>
<span class="sd">        :type doc: Doc</span>
<span class="sd">        :param response: the response from the NERD API</span>
<span class="sd">        :type response: list</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">AttributeError</span><span class="p">):</span>
                <span class="n">span</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">char_span</span><span class="p">(</span><span class="n">start_idx</span><span class="o">=</span><span class="n">entity</span><span class="p">[</span><span class="s2">&quot;offsetStart&quot;</span><span class="p">],</span> <span class="n">end_idx</span><span class="o">=</span><span class="n">entity</span><span class="p">[</span><span class="s2">&quot;offsetEnd&quot;</span><span class="p">])</span>
                <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
                    <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">kb_qid</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">entity</span><span class="p">[</span><span class="s2">&quot;wikidataId&quot;</span><span class="p">])</span>
                    <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">url_wikidata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wikidata_url_base</span> <span class="o">+</span> <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">kb_qid</span>
                <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
                    <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">wikipedia_page_ref</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">entity</span><span class="p">[</span><span class="s2">&quot;wikipediaExternalRef&quot;</span><span class="p">])</span>
                    <span class="c1"># if flag_extra : search other info on entity</span>
                    <span class="c1"># =&gt; attach extra entity info to span</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flag_extra</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">look_extra_informations_on_entity</span><span class="p">(</span><span class="n">span</span><span class="p">,</span> <span class="n">entity</span><span class="p">)</span>
                <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
                    <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">nerd_score</span> <span class="o">=</span> <span class="n">entity</span><span class="p">[</span><span class="s2">&quot;confidence_score&quot;</span><span class="p">]</span>

    <span class="c1"># ~ Entity-fishing call service methods ~:</span>
    <span class="k">def</span> <span class="nf">concept_look_up_batch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wiki_id_batch</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &gt; This function takes a list of wikipedia ids and returns a list of responses from the API</span>

<span class="sd">        :param wiki_id_batch: a list of wikipedia ids</span>
<span class="sd">        :type wiki_id_batch: str</span>
<span class="sd">        :return: A list of requests.Response objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url_concept_lookup_batch</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">api_ef_base</span> <span class="o">+</span> <span class="s2">&quot;kb/concept/&quot;</span> <span class="o">+</span> <span class="n">wiki_id</span> <span class="k">for</span> <span class="n">wiki_id</span> <span class="ow">in</span> <span class="n">wiki_id_batch</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generic_client_batch</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url_batch</span><span class="o">=</span><span class="n">url_concept_lookup_batch</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">language</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">disambiguate_text_batch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">files_batch</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &gt; The function `disambiguate_text_batch` takes a list of dictionaries as input, where each</span>
<span class="sd">        dictionary contains the text to be disambiguated and the corresponding language. The function</span>
<span class="sd">        returns a list of responses, where each response contains the disambiguated text</span>

<span class="sd">        :param files_batch: a list of dictionaries, each dictionary containing the following keys:</span>
<span class="sd">        :type files_batch: list[dict]</span>
<span class="sd">        :return: A list of responses.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url_disambiguate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_ef_base</span> <span class="o">+</span> <span class="s2">&quot;disambiguate&quot;</span>
        <span class="n">url_disambiguate_batch</span> <span class="o">=</span> <span class="p">[</span><span class="n">url_disambiguate</span> <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files_batch</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generic_client_batch</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url_batch</span><span class="o">=</span><span class="n">url_disambiguate_batch</span><span class="p">,</span> <span class="n">files_batch</span><span class="o">=</span><span class="n">files_batch</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">look_extra_informations_on_entity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">span</span><span class="p">:</span> <span class="n">Span</span><span class="p">,</span> <span class="n">res_desc</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        It takes a span and a dictionary of information about the entity, and adds the information to</span>
<span class="sd">        the span</span>

<span class="sd">        :param span: The Span object that the extension is being applied to</span>
<span class="sd">        :type span: Span</span>
<span class="sd">        :param res_desc: the result of the query to Wikidata</span>
<span class="sd">        :type res_desc: dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># normalised term name</span>
        <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">normal_term</span> <span class="o">=</span> <span class="n">res_desc</span><span class="p">[</span><span class="s2">&quot;preferredTerm&quot;</span><span class="p">]</span>
        <span class="c1"># description and source description (filter by language)</span>
        <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
            <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">res_desc</span><span class="p">[</span><span class="s2">&quot;definitions&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;definition&quot;</span><span class="p">]</span>
            <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">src_description</span> <span class="o">=</span> <span class="n">res_desc</span><span class="p">[</span><span class="s2">&quot;definitions&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;source&quot;</span><span class="p">]</span>
        <span class="c1"># others identifiers attach to QID</span>
        <span class="c1"># in Wikidata KB with filter properties or not</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ids</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">content</span> <span class="ow">in</span> <span class="n">res_desc</span><span class="p">[</span><span class="s2">&quot;statements&quot;</span><span class="p">]:</span>
                <span class="n">new_id</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">content</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;propertyName&quot;</span><span class="p">,</span> <span class="s2">&quot;propertyId&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">]}</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filter_statements</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">content</span><span class="p">[</span><span class="s2">&quot;propertyId&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_statements</span><span class="p">:</span>
                        <span class="n">ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_id</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_id</span><span class="p">)</span>

            <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">other_ids</span> <span class="o">=</span> <span class="n">ids</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">decoder</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
            <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">main_disambiguation_process_batch</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">text_batch</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">terms_batch</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">entities_batch</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">list</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        It takes a batch of text, terms and entities, and returns a batch of disambiguated entities</span>

<span class="sd">        :param text_batch: a list of strings, each string is a text to be disambiguated</span>
<span class="sd">        :type text_batch: list[str]</span>
<span class="sd">        :param terms_batch: a list of strings, each string is a list of terms separated by a space</span>
<span class="sd">        :type terms_batch: list[str]</span>
<span class="sd">        :param entities_batch: a list of lists of entities, where each entity is a dictionary with the</span>
<span class="sd">        following keys:</span>
<span class="sd">        :type entities_batch: list[list]</span>
<span class="sd">        :return: A list of tuples, each tuple containing the response, metadata, and entities_enhanced.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data_to_post_batch</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prepare_data</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">terms</span><span class="o">=</span><span class="n">terms</span><span class="p">,</span> <span class="n">entities</span><span class="o">=</span><span class="n">entities</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">language</span><span class="p">,</span> <span class="n">full</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flag_extra</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">text</span><span class="p">,</span> <span class="n">terms</span><span class="p">,</span> <span class="n">entities</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">text_batch</span><span class="p">,</span> <span class="n">terms_batch</span><span class="p">,</span> <span class="n">entities_batch</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="n">reqs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">disambiguate_text_batch</span><span class="p">(</span><span class="n">files_batch</span><span class="o">=</span><span class="n">data_to_post_batch</span><span class="p">)</span>

        <span class="n">response_tuples</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">req</span> <span class="ow">in</span> <span class="n">reqs</span><span class="p">:</span>
            <span class="n">res</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_response</span><span class="p">(</span><span class="n">response</span><span class="o">=</span><span class="n">req</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">entities_enhanced</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s2">&quot;entities&quot;</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="n">entities_enhanced</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">response_tuples</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">res</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">entities_enhanced</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">response_tuples</span>

    <span class="k">def</span> <span class="nf">process_single_doc_after_call</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doc</span><span class="p">:</span> <span class="n">Doc</span><span class="p">,</span> <span class="n">result_from_ef_text</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Doc</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        - The function takes a document and a list of entities from the Entity-Fishing service.</span>
<span class="sd">        - It then checks if there are any entities in the document that were not disambiguated by the</span>
<span class="sd">        Entity-Fishing service.</span>
<span class="sd">        - If there are, it passes the text of these entities to the Entity-Fishing service again, but</span>
<span class="sd">        this time without the text of the document.</span>
<span class="sd">        - It then merges the results of the two calls to the Entity-Fishing service and attaches the</span>
<span class="sd">        information from the Entity-Fishing service to the entities in the document</span>

<span class="sd">        :param doc: The document to be processed</span>
<span class="sd">        :type doc: Doc</span>
<span class="sd">        :param result_from_ef_text: a list of three elements:</span>
<span class="sd">        :return: A list of dictionaries, each dictionary contains the information of a single entity.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">entities_from_text</span> <span class="o">=</span> <span class="n">result_from_ef_text</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

        <span class="c1"># 1a. Attach raw response (with text method in Entity-Fishing service) to doc</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result_from_ef_text</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">doc</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">annotations</span><span class="p">[</span><span class="s2">&quot;disambiguation_text_service&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_from_ef_text</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">doc</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;disambiguation_text_service&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_from_ef_text</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># 2 .Because some named entities have not been disambiguated,</span>
        <span class="c1"># create a list with these unrelated entities (&quot;nil clustering&quot;).</span>
        <span class="c1"># Pass them back in Entity-fishing without the text but with all</span>
        <span class="c1"># the named entities surrounding these entities, to create a context</span>
        <span class="c1"># of neighboring terms.</span>
        <span class="c1"># nil_clustering = named entities in doc - actual disambiguated entities by EF</span>
        <span class="n">nil_clustering</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result_from_ef_text</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
                <span class="n">nil_clustering</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">doc</span><span class="o">.</span><span class="n">char_span</span><span class="p">(</span><span class="n">start_idx</span><span class="o">=</span><span class="n">ent</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">end_idx</span><span class="o">=</span><span class="n">ent</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                    <span class="k">for</span> <span class="n">ent</span> <span class="ow">in</span> <span class="p">[(</span><span class="n">ent</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">ent</span><span class="o">.</span><span class="n">start_char</span><span class="p">,</span> <span class="n">ent</span><span class="o">.</span><span class="n">end_char</span><span class="p">)</span> <span class="k">for</span> <span class="n">ent</span> <span class="ow">in</span> <span class="n">doc</span><span class="o">.</span><span class="n">ents</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">ent</span>
                    <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
                        <span class="p">(</span><span class="n">ent_ef</span><span class="p">[</span><span class="s2">&quot;rawName&quot;</span><span class="p">],</span> <span class="n">ent_ef</span><span class="p">[</span><span class="s2">&quot;offsetStart&quot;</span><span class="p">],</span> <span class="n">ent_ef</span><span class="p">[</span><span class="s2">&quot;offsetEnd&quot;</span><span class="p">])</span>
                        <span class="k">for</span> <span class="n">ent_ef</span> <span class="ow">in</span> <span class="n">result_from_ef_text</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;entities&quot;</span><span class="p">]</span>
                    <span class="p">]</span>
                <span class="p">]</span>
        <span class="n">entities_from_terms</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">nil_clustering</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># prepare query for Entity-Fishing terms disambiguation</span>
            <span class="n">terms</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">ent</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">ent</span> <span class="ow">in</span> <span class="n">doc</span><span class="o">.</span><span class="n">ents</span><span class="p">])</span>
            <span class="n">result_from_ef_terms</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_disambiguation_process_batch</span><span class="p">(</span>
                <span class="n">text_batch</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span> <span class="n">terms_batch</span><span class="o">=</span><span class="p">[</span><span class="n">terms</span><span class="p">],</span> <span class="n">entities_batch</span><span class="o">=</span><span class="p">[</span><span class="n">nil_clustering</span><span class="p">]</span>
            <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

            <span class="n">entities_from_terms</span> <span class="o">=</span> <span class="n">result_from_ef_terms</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

            <span class="c1"># 2b. Attach raw response (with terms method in Entity-Fishing service) to doc</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result_from_ef_terms</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">doc</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">annotations</span><span class="p">[</span><span class="s2">&quot;disambiguation_terms_service&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_from_ef_terms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">doc</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;disambiguation_terms_service&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_from_ef_terms</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># 3. Merge two list of entities (first and second pass in EF service)</span>
        <span class="c1"># and attach information from Entity-Fishing to spans</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">entities_from_text</span>
            <span class="o">+</span> <span class="p">[</span><span class="n">entity_term</span> <span class="k">for</span> <span class="n">entity_term</span> <span class="ow">in</span> <span class="n">entities_from_terms</span> <span class="k">if</span> <span class="n">entity_term</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">entities_from_text</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">entities_from_terms</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
            <span class="k">else</span> <span class="n">entities_from_text</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">updated_entities</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">doc</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doc</span><span class="p">:</span> <span class="n">Doc</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Doc</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &gt; The function takes a spaCy Doc object, and returns a Doc object with the entities</span>
<span class="sd">        disambiguated and linked</span>

<span class="sd">        :param doc: Doc</span>
<span class="sd">        :type doc: Doc</span>
<span class="sd">        :return: A Doc object with the entities linked to the corresponding Wikipedia page.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># 1. Disambiguate and linking named entities in Doc object with Entity-Fishing</span>
        <span class="n">result_from_ef_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_disambiguation_process_batch</span><span class="p">(</span>
            <span class="n">text_batch</span><span class="o">=</span><span class="p">[</span><span class="n">doc</span><span class="o">.</span><span class="n">text</span><span class="p">],</span> <span class="n">terms_batch</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span> <span class="n">entities_batch</span><span class="o">=</span><span class="p">[</span><span class="n">doc</span><span class="o">.</span><span class="n">ents</span><span class="p">]</span>
        <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_single_doc_after_call</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">result_from_ef_text</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pipe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">128</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Doc</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        For each batch of documents, we disambiguate the named entities in the documents, and then yield</span>
<span class="sd">        the results</span>

<span class="sd">        :param stream: a generator that yields Doc objects</span>
<span class="sd">        :type stream: iterator</span>
<span class="sd">        :param batch_size: The number of documents to process at a time, defaults to 128 (optional)</span>
<span class="sd">        :type batch_size: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">docs</span> <span class="ow">in</span> <span class="n">util</span><span class="o">.</span><span class="n">minibatch</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">batch_size</span><span class="p">):</span>
            <span class="n">text_batch</span> <span class="o">=</span> <span class="p">[</span><span class="n">doc</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">]</span>
            <span class="n">entities_batch</span> <span class="o">=</span> <span class="p">[</span><span class="n">doc</span><span class="o">.</span><span class="n">ents</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">]</span>
            <span class="n">terms_batch</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">text_batch</span><span class="p">]</span>

            <span class="c1"># 1. Disambiguate and linking named entities in Doc object with Entity-Fishing</span>
            <span class="n">result_from_ef_text_batch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_disambiguation_process_batch</span><span class="p">(</span>
                <span class="n">text_batch</span><span class="o">=</span><span class="n">text_batch</span><span class="p">,</span> <span class="n">terms_batch</span><span class="o">=</span><span class="n">terms_batch</span><span class="p">,</span> <span class="n">entities_batch</span><span class="o">=</span><span class="n">entities_batch</span>
            <span class="p">)</span>

            <span class="k">for</span> <span class="n">doc</span><span class="p">,</span> <span class="n">result_from_ef_text</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">docs</span><span class="p">,</span> <span class="n">result_from_ef_text_batch</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
                <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_single_doc_after_call</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">result_from_ef_text</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ceurws.services.entity_fishing.CeurEntityFishing.__call__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__call__</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <blockquote>
<p>The function takes a spaCy Doc object, and returns a Doc object with the entities
disambiguated and linked</p>
</blockquote>
<p>:param doc: Doc
:type doc: Doc
:return: A Doc object with the entities linked to the corresponding Wikipedia page.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/services/entity_fishing.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doc</span><span class="p">:</span> <span class="n">Doc</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Doc</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &gt; The function takes a spaCy Doc object, and returns a Doc object with the entities</span>
<span class="sd">    disambiguated and linked</span>

<span class="sd">    :param doc: Doc</span>
<span class="sd">    :type doc: Doc</span>
<span class="sd">    :return: A Doc object with the entities linked to the corresponding Wikipedia page.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># 1. Disambiguate and linking named entities in Doc object with Entity-Fishing</span>
    <span class="n">result_from_ef_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_disambiguation_process_batch</span><span class="p">(</span>
        <span class="n">text_batch</span><span class="o">=</span><span class="p">[</span><span class="n">doc</span><span class="o">.</span><span class="n">text</span><span class="p">],</span> <span class="n">terms_batch</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span> <span class="n">entities_batch</span><span class="o">=</span><span class="p">[</span><span class="n">doc</span><span class="o">.</span><span class="n">ents</span><span class="p">]</span>
    <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_single_doc_after_call</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">result_from_ef_text</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.services.entity_fishing.CeurEntityFishing.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">nlp</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">api_ef_base</span><span class="p">,</span> <span class="n">language</span><span class="p">,</span> <span class="n">extra_info</span><span class="p">,</span> <span class="n">filter_statements</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p><code>EntityFishing</code> main class component.</p>


<details class="note" open>
  <summary>Note</summary>
  <p>Show default config for default attributes values.</p>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>api_ef_base</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>describes url of the entity-fishing API used.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>language</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>matches the language of the resources to</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>extra_info</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>attach extra information to spans as normalised term,</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>filter_statements</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>filter others KB ids</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>display logging messages.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.services.entity_fishing.CeurEntityFishing.__init__.api_ef_base">api_ef_base</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>cf. <code>api_ef_base</code> in parameters section.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.services.entity_fishing.CeurEntityFishing.__init__.language">language</span></code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>cf. <code>language</code> in parameters section.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.services.entity_fishing.CeurEntityFishing.__init__.wikidata_url_base">wikidata_url_base</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wikidata base url (to concatenate QID identifiers).</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.services.entity_fishing.CeurEntityFishing.__init__.flag_extra">flag_extra</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>cf. <code>extra_info</code> in parameters section.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.services.entity_fishing.CeurEntityFishing.__init__.filter_statements">filter_statements</span></code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>cf. <code>filter_statements</code> in parameters section.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ceurws.services.entity_fishing.CeurEntityFishing.__init__.verbose">verbose</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>cf. <code>verbose</code> in parameters section.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/services/entity_fishing.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">nlp</span><span class="p">:</span> <span class="n">Language</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">api_ef_base</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">language</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">extra_info</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">filter_statements</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
    <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    `EntityFishing` main class component.</span>

<span class="sd">    Note:</span>
<span class="sd">        Show default config for default attributes values.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        api_ef_base (str): describes url of the entity-fishing API used.</span>
<span class="sd">        language (str): matches the language of the resources to</span>
<span class="sd">        be disambiguated (matches the language model for the NER task).</span>
<span class="sd">        extra_info (bool): attach extra information to spans as normalised term,</span>
<span class="sd">        description, others knowledge base ids.</span>
<span class="sd">        filter_statements (list): filter others KB ids</span>
<span class="sd">        that relies on QID  eg. [&#39;P214&#39;, &#39;P244&#39;].</span>
<span class="sd">        verbose (bool): display logging messages.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        api_ef_base (str): cf. `api_ef_base` in parameters section.</span>
<span class="sd">        language (dict): cf. `language` in parameters section.</span>
<span class="sd">        prepare the language argument for the query.</span>
<span class="sd">        wikidata_url_base (str): wikidata base url (to concatenate QID identifiers).</span>
<span class="sd">        flag_extra (bool): cf. `extra_info` in parameters section.</span>
<span class="sd">        filter_statements (list): cf. `filter_statements` in parameters section.</span>
<span class="sd">        verbose (bool): cf. `verbose` in parameters section.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">api_ef_base</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
        <span class="n">api_ef_base</span> <span class="o">+=</span> <span class="s2">&quot;/&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">api_ef_base</span> <span class="o">=</span> <span class="n">api_ef_base</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">language</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">lang</span><span class="o">=</span><span class="n">language</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wikidata_url_base</span> <span class="o">=</span> <span class="s2">&quot;https://www.wikidata.org/wiki/&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">flag_extra</span> <span class="o">=</span> <span class="n">extra_info</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filter_statements</span> <span class="o">=</span> <span class="n">filter_statements</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="n">verbose</span>

    <span class="c1"># Set doc extensions to attaches raw response from Entity-Fishing API to doc</span>
    <span class="n">Doc</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;annotations&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">{},</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Doc</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">{},</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Set spans extensions to enhance spans with new information</span>
    <span class="c1"># come from Wikidata knowledge base.</span>
    <span class="c1"># default spans :</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;kb_qid&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;wikipedia_page_ref&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;url_wikidata&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;nerd_score&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># spans if extra_info set to True</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;normal_term&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;src_description&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;other_ids&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.services.entity_fishing.CeurEntityFishing.concept_look_up_batch" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">concept_look_up_batch</span><span class="p">(</span><span class="n">wiki_id_batch</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <blockquote>
<p>This function takes a list of wikipedia ids and returns a list of responses from the API</p>
</blockquote>
<p>:param wiki_id_batch: a list of wikipedia ids
:type wiki_id_batch: str
:return: A list of requests.Response objects.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/services/entity_fishing.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">concept_look_up_batch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wiki_id_batch</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &gt; This function takes a list of wikipedia ids and returns a list of responses from the API</span>

<span class="sd">    :param wiki_id_batch: a list of wikipedia ids</span>
<span class="sd">    :type wiki_id_batch: str</span>
<span class="sd">    :return: A list of requests.Response objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url_concept_lookup_batch</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">api_ef_base</span> <span class="o">+</span> <span class="s2">&quot;kb/concept/&quot;</span> <span class="o">+</span> <span class="n">wiki_id</span> <span class="k">for</span> <span class="n">wiki_id</span> <span class="ow">in</span> <span class="n">wiki_id_batch</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generic_client_batch</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url_batch</span><span class="o">=</span><span class="n">url_concept_lookup_batch</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">language</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.services.entity_fishing.CeurEntityFishing.disambiguate_text_batch" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">disambiguate_text_batch</span><span class="p">(</span><span class="n">files_batch</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <blockquote>
<p>The function <code>disambiguate_text_batch</code> takes a list of dictionaries as input, where each
dictionary contains the text to be disambiguated and the corresponding language. The function
returns a list of responses, where each response contains the disambiguated text</p>
</blockquote>
<p>:param files_batch: a list of dictionaries, each dictionary containing the following keys:
:type files_batch: list[dict]
:return: A list of responses.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/services/entity_fishing.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">disambiguate_text_batch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">files_batch</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &gt; The function `disambiguate_text_batch` takes a list of dictionaries as input, where each</span>
<span class="sd">    dictionary contains the text to be disambiguated and the corresponding language. The function</span>
<span class="sd">    returns a list of responses, where each response contains the disambiguated text</span>

<span class="sd">    :param files_batch: a list of dictionaries, each dictionary containing the following keys:</span>
<span class="sd">    :type files_batch: list[dict]</span>
<span class="sd">    :return: A list of responses.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url_disambiguate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_ef_base</span> <span class="o">+</span> <span class="s2">&quot;disambiguate&quot;</span>
    <span class="n">url_disambiguate_batch</span> <span class="o">=</span> <span class="p">[</span><span class="n">url_disambiguate</span> <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files_batch</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generic_client_batch</span><span class="p">(</span>
        <span class="n">method</span><span class="o">=</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span> <span class="n">url_batch</span><span class="o">=</span><span class="n">url_disambiguate_batch</span><span class="p">,</span> <span class="n">files_batch</span><span class="o">=</span><span class="n">files_batch</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">verbose</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.services.entity_fishing.CeurEntityFishing.generic_client_batch" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generic_client_batch</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">url_batch</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">files_batch</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

      <p>It takes a list of urls and a list of files, and it sends a request to each url with the
corresponding file</p>
<p>:param method: str,
:type method: str
:param url_batch: a list of urls to send requests to
:type url_batch: list[str]
:param verbose: if True, the client will print out the status of each request
:type verbose: bool
:param params: dict = None,
:type params: dict
:param files_batch: a list of dictionaries, each dictionary containing the file to be annotated
:type files_batch: list[dict]
:return: A list of responses.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/services/entity_fishing.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">generic_client_batch</span><span class="p">(</span>
    <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">url_batch</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">params</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">files_batch</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">requests</span><span class="o">.</span><span class="n">Response</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    It takes a list of urls and a list of files, and it sends a request to each url with the</span>
<span class="sd">    corresponding file</span>

<span class="sd">    :param method: str,</span>
<span class="sd">    :type method: str</span>
<span class="sd">    :param url_batch: a list of urls to send requests to</span>
<span class="sd">    :type url_batch: list[str]</span>
<span class="sd">    :param verbose: if True, the client will print out the status of each request</span>
<span class="sd">    :type verbose: bool</span>
<span class="sd">    :param params: dict = None,</span>
<span class="sd">    :type params: dict</span>
<span class="sd">    :param files_batch: a list of dictionaries, each dictionary containing the file to be annotated</span>
<span class="sd">    :type files_batch: list[dict]</span>
<span class="sd">    :return: A list of responses.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">params</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">files_batch</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">files_batch</span> <span class="o">=</span> <span class="p">[{}</span> <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">url_batch</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">load_url</span><span class="p">(</span><span class="n">type_url</span><span class="p">,</span> <span class="n">type_files</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;POST&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
                <span class="n">url</span><span class="o">=</span><span class="n">type_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">},</span> <span class="n">files</span><span class="o">=</span><span class="n">type_files</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">url</span><span class="o">=</span><span class="n">type_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">},</span> <span class="n">files</span><span class="o">=</span><span class="n">type_files</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span>
            <span class="p">)</span>

    <span class="n">response_batch</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">resp_err</span><span class="p">,</span> <span class="n">resp_ok</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
    <span class="k">with</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
        <span class="n">future_to_url</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">executor</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">load_url</span><span class="p">,</span> <span class="n">type_url</span><span class="p">,</span> <span class="n">type_files</span><span class="p">):</span> <span class="p">(</span><span class="n">type_url</span><span class="p">,</span> <span class="n">type_files</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">type_url</span><span class="p">,</span> <span class="n">type_files</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">url_batch</span><span class="p">,</span> <span class="n">files_batch</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">as_completed</span><span class="p">(</span><span class="n">future_to_url</span><span class="p">):</span>
            <span class="c1"># url = future_to_url[future]</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">response_batch</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">future</span><span class="o">.</span><span class="n">result</span><span class="p">())</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="n">resp_err</span> <span class="o">=</span> <span class="n">resp_err</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">resp_ok</span> <span class="o">=</span> <span class="n">resp_ok</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">client_log</span><span class="p">(</span><span class="n">msg</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="c1"># Manage response status code :</span>
    <span class="c1"># cf. https://nerd.readthedocs.io/en/latest/restAPI.html#response-status-codes</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">response</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">response_batch</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">400</span><span class="p">:</span>
            <span class="n">client_log</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Request </span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">. Wrong request, missing parameters, &quot;</span>
                <span class="s2">&quot;missing header, text too short (&lt;= 5 characters). (400)&quot;</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">500</span><span class="p">:</span>
            <span class="n">client_log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Request </span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">. Entity-Fishing API service seems broken. (500)&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>
            <span class="n">client_log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Request </span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">. Property was not found in request body. (404)&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">406</span><span class="p">:</span>
            <span class="n">client_log</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Request </span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">. Language is not supported by Entity-Fishing. (406)&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">response_batch</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.services.entity_fishing.CeurEntityFishing.look_extra_informations_on_entity" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">look_extra_informations_on_entity</span><span class="p">(</span><span class="n">span</span><span class="p">,</span> <span class="n">res_desc</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p>It takes a span and a dictionary of information about the entity, and adds the information to
the span</p>
<p>:param span: The Span object that the extension is being applied to
:type span: Span
:param res_desc: the result of the query to Wikidata
:type res_desc: dict</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/services/entity_fishing.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">look_extra_informations_on_entity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">span</span><span class="p">:</span> <span class="n">Span</span><span class="p">,</span> <span class="n">res_desc</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    It takes a span and a dictionary of information about the entity, and adds the information to</span>
<span class="sd">    the span</span>

<span class="sd">    :param span: The Span object that the extension is being applied to</span>
<span class="sd">    :type span: Span</span>
<span class="sd">    :param res_desc: the result of the query to Wikidata</span>
<span class="sd">    :type res_desc: dict</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># normalised term name</span>
    <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
        <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">normal_term</span> <span class="o">=</span> <span class="n">res_desc</span><span class="p">[</span><span class="s2">&quot;preferredTerm&quot;</span><span class="p">]</span>
    <span class="c1"># description and source description (filter by language)</span>
    <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
        <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">res_desc</span><span class="p">[</span><span class="s2">&quot;definitions&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;definition&quot;</span><span class="p">]</span>
        <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">src_description</span> <span class="o">=</span> <span class="n">res_desc</span><span class="p">[</span><span class="s2">&quot;definitions&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;source&quot;</span><span class="p">]</span>
    <span class="c1"># others identifiers attach to QID</span>
    <span class="c1"># in Wikidata KB with filter properties or not</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">ids</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">content</span> <span class="ow">in</span> <span class="n">res_desc</span><span class="p">[</span><span class="s2">&quot;statements&quot;</span><span class="p">]:</span>
            <span class="n">new_id</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">content</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;propertyName&quot;</span><span class="p">,</span> <span class="s2">&quot;propertyId&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">]}</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filter_statements</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">content</span><span class="p">[</span><span class="s2">&quot;propertyId&quot;</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_statements</span><span class="p">:</span>
                    <span class="n">ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_id</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_id</span><span class="p">)</span>

        <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">other_ids</span> <span class="o">=</span> <span class="n">ids</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">decoder</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.services.entity_fishing.CeurEntityFishing.main_disambiguation_process_batch" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">main_disambiguation_process_batch</span><span class="p">(</span><span class="n">text_batch</span><span class="p">,</span> <span class="n">terms_batch</span><span class="p">,</span> <span class="n">entities_batch</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p>It takes a batch of text, terms and entities, and returns a batch of disambiguated entities</p>
<p>:param text_batch: a list of strings, each string is a text to be disambiguated
:type text_batch: list[str]
:param terms_batch: a list of strings, each string is a list of terms separated by a space
:type terms_batch: list[str]
:param entities_batch: a list of lists of entities, where each entity is a dictionary with the
following keys:
:type entities_batch: list[list]
:return: A list of tuples, each tuple containing the response, metadata, and entities_enhanced.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/services/entity_fishing.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">main_disambiguation_process_batch</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">text_batch</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">terms_batch</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">entities_batch</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">list</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    It takes a batch of text, terms and entities, and returns a batch of disambiguated entities</span>

<span class="sd">    :param text_batch: a list of strings, each string is a text to be disambiguated</span>
<span class="sd">    :type text_batch: list[str]</span>
<span class="sd">    :param terms_batch: a list of strings, each string is a list of terms separated by a space</span>
<span class="sd">    :type terms_batch: list[str]</span>
<span class="sd">    :param entities_batch: a list of lists of entities, where each entity is a dictionary with the</span>
<span class="sd">    following keys:</span>
<span class="sd">    :type entities_batch: list[list]</span>
<span class="sd">    :return: A list of tuples, each tuple containing the response, metadata, and entities_enhanced.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data_to_post_batch</span> <span class="o">=</span> <span class="p">[</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prepare_data</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">terms</span><span class="o">=</span><span class="n">terms</span><span class="p">,</span> <span class="n">entities</span><span class="o">=</span><span class="n">entities</span><span class="p">,</span> <span class="n">language</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">language</span><span class="p">,</span> <span class="n">full</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">flag_extra</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">text</span><span class="p">,</span> <span class="n">terms</span><span class="p">,</span> <span class="n">entities</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">text_batch</span><span class="p">,</span> <span class="n">terms_batch</span><span class="p">,</span> <span class="n">entities_batch</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="p">]</span>
    <span class="n">reqs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">disambiguate_text_batch</span><span class="p">(</span><span class="n">files_batch</span><span class="o">=</span><span class="n">data_to_post_batch</span><span class="p">)</span>

    <span class="n">response_tuples</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">req</span> <span class="ow">in</span> <span class="n">reqs</span><span class="p">:</span>
        <span class="n">res</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_response</span><span class="p">(</span><span class="n">response</span><span class="o">=</span><span class="n">req</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">entities_enhanced</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s2">&quot;entities&quot;</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">entities_enhanced</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">response_tuples</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">res</span><span class="p">,</span> <span class="n">metadata</span><span class="p">,</span> <span class="n">entities_enhanced</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">response_tuples</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.services.entity_fishing.CeurEntityFishing.pipe" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pipe</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">128</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p>For each batch of documents, we disambiguate the named entities in the documents, and then yield
the results</p>
<p>:param stream: a generator that yields Doc objects
:type stream: iterator
:param batch_size: The number of documents to process at a time, defaults to 128 (optional)
:type batch_size: int</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/services/entity_fishing.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">pipe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">128</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Doc</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For each batch of documents, we disambiguate the named entities in the documents, and then yield</span>
<span class="sd">    the results</span>

<span class="sd">    :param stream: a generator that yields Doc objects</span>
<span class="sd">    :type stream: iterator</span>
<span class="sd">    :param batch_size: The number of documents to process at a time, defaults to 128 (optional)</span>
<span class="sd">    :type batch_size: int</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">docs</span> <span class="ow">in</span> <span class="n">util</span><span class="o">.</span><span class="n">minibatch</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">batch_size</span><span class="p">):</span>
        <span class="n">text_batch</span> <span class="o">=</span> <span class="p">[</span><span class="n">doc</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">]</span>
        <span class="n">entities_batch</span> <span class="o">=</span> <span class="p">[</span><span class="n">doc</span><span class="o">.</span><span class="n">ents</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">]</span>
        <span class="n">terms_batch</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">text_batch</span><span class="p">]</span>

        <span class="c1"># 1. Disambiguate and linking named entities in Doc object with Entity-Fishing</span>
        <span class="n">result_from_ef_text_batch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_disambiguation_process_batch</span><span class="p">(</span>
            <span class="n">text_batch</span><span class="o">=</span><span class="n">text_batch</span><span class="p">,</span> <span class="n">terms_batch</span><span class="o">=</span><span class="n">terms_batch</span><span class="p">,</span> <span class="n">entities_batch</span><span class="o">=</span><span class="n">entities_batch</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">doc</span><span class="p">,</span> <span class="n">result_from_ef_text</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">docs</span><span class="p">,</span> <span class="n">result_from_ef_text_batch</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_single_doc_after_call</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">result_from_ef_text</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.services.entity_fishing.CeurEntityFishing.prepare_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">prepare_data</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">terms</span><span class="p">,</span> <span class="n">entities</span><span class="p">,</span> <span class="n">language</span><span class="p">,</span> <span class="n">full</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

      <blockquote>
<p>The function takes in a text, a list of entities, a language dictionary and a boolean value.
It then returns a dictionary with a key called "query" and a value that is a JSON object</p>
</blockquote>
<p>:param text: The text to be analyzed
:type text: str
:param terms: the terms to be searched for
:type terms: str
:param entities: list of entities in the text
:type entities: list
:param language: the language of the text
:type language: dict
:param full: if True, the response will contain the full text of the article, defaults to False
:type full: bool (optional)
:return: A dictionary with a key of "query" and a value of a json object.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/services/entity_fishing.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">prepare_data</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">terms</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">entities</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">language</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">full</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &gt; The function takes in a text, a list of entities, a language dictionary and a boolean value.</span>
<span class="sd">    It then returns a dictionary with a key called &quot;query&quot; and a value that is a JSON object</span>

<span class="sd">    :param text: The text to be analyzed</span>
<span class="sd">    :type text: str</span>
<span class="sd">    :param terms: the terms to be searched for</span>
<span class="sd">    :type terms: str</span>
<span class="sd">    :param entities: list of entities in the text</span>
<span class="sd">    :type entities: list</span>
<span class="sd">    :param language: the language of the text</span>
<span class="sd">    :type language: dict</span>
<span class="sd">    :param full: if True, the response will contain the full text of the article, defaults to False</span>
<span class="sd">    :type full: bool (optional)</span>
<span class="sd">    :return: A dictionary with a key of &quot;query&quot; and a value of a json object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="n">text</span><span class="p">,</span>
                <span class="s2">&quot;shortText&quot;</span><span class="p">:</span> <span class="n">terms</span><span class="p">,</span>
                <span class="s2">&quot;language&quot;</span><span class="p">:</span> <span class="n">language</span><span class="p">,</span>
                <span class="s2">&quot;entities&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="s2">&quot;rawName&quot;</span><span class="p">:</span> <span class="n">ent</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
                        <span class="s2">&quot;offsetStart&quot;</span><span class="p">:</span> <span class="n">ent</span><span class="o">.</span><span class="n">start_char</span><span class="p">,</span>
                        <span class="s2">&quot;offsetEnd&quot;</span><span class="p">:</span> <span class="n">ent</span><span class="o">.</span><span class="n">end_char</span><span class="p">,</span>
                    <span class="p">}</span>
                    <span class="k">for</span> <span class="n">ent</span> <span class="ow">in</span> <span class="n">entities</span>
                <span class="p">],</span>
                <span class="s2">&quot;mentions&quot;</span><span class="p">:</span> <span class="p">[],</span>
                <span class="s2">&quot;customisation&quot;</span><span class="p">:</span> <span class="s2">&quot;generic&quot;</span><span class="p">,</span>
                <span class="s2">&quot;full&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span> <span class="k">if</span> <span class="n">full</span> <span class="k">else</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.services.entity_fishing.CeurEntityFishing.process_response" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">process_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

      <p>It takes a response object from the <code>requests</code> library and returns a tuple of two dictionaries.
The first dictionary is the JSON response from the API, and the second dictionary contains
metadata about the response</p>
<p>:param response: The response object returned by the requests library
:type response: requests.models.Response
:return: A tuple of two dictionaries.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/services/entity_fishing.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">process_response</span><span class="p">(</span><span class="n">response</span><span class="p">:</span> <span class="n">requests</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Response</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    It takes a response object from the `requests` library and returns a tuple of two dictionaries.</span>
<span class="sd">    The first dictionary is the JSON response from the API, and the second dictionary contains</span>
<span class="sd">    metadata about the response</span>

<span class="sd">    :param response: The response object returned by the requests library</span>
<span class="sd">    :type response: requests.models.Response</span>
<span class="sd">    :return: A tuple of two dictionaries.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">res_json</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">decoder</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
        <span class="n">res_json</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;status_code&quot;</span><span class="p">:</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span>
        <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">response</span><span class="o">.</span><span class="n">reason</span><span class="p">,</span>
        <span class="s2">&quot;ok&quot;</span><span class="p">:</span> <span class="n">response</span><span class="o">.</span><span class="n">ok</span><span class="p">,</span>
        <span class="s2">&quot;encoding&quot;</span><span class="p">:</span> <span class="n">response</span><span class="o">.</span><span class="n">encoding</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">res_json</span><span class="p">,</span> <span class="n">metadata</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.services.entity_fishing.CeurEntityFishing.process_single_doc_after_call" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">process_single_doc_after_call</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">result_from_ef_text</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <ul>
<li>The function takes a document and a list of entities from the Entity-Fishing service.</li>
<li>It then checks if there are any entities in the document that were not disambiguated by the
Entity-Fishing service.</li>
<li>If there are, it passes the text of these entities to the Entity-Fishing service again, but
this time without the text of the document.</li>
<li>It then merges the results of the two calls to the Entity-Fishing service and attaches the
information from the Entity-Fishing service to the entities in the document</li>
</ul>
<p>:param doc: The document to be processed
:type doc: Doc
:param result_from_ef_text: a list of three elements:
:return: A list of dictionaries, each dictionary contains the information of a single entity.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/services/entity_fishing.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">process_single_doc_after_call</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doc</span><span class="p">:</span> <span class="n">Doc</span><span class="p">,</span> <span class="n">result_from_ef_text</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Doc</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    - The function takes a document and a list of entities from the Entity-Fishing service.</span>
<span class="sd">    - It then checks if there are any entities in the document that were not disambiguated by the</span>
<span class="sd">    Entity-Fishing service.</span>
<span class="sd">    - If there are, it passes the text of these entities to the Entity-Fishing service again, but</span>
<span class="sd">    this time without the text of the document.</span>
<span class="sd">    - It then merges the results of the two calls to the Entity-Fishing service and attaches the</span>
<span class="sd">    information from the Entity-Fishing service to the entities in the document</span>

<span class="sd">    :param doc: The document to be processed</span>
<span class="sd">    :type doc: Doc</span>
<span class="sd">    :param result_from_ef_text: a list of three elements:</span>
<span class="sd">    :return: A list of dictionaries, each dictionary contains the information of a single entity.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">entities_from_text</span> <span class="o">=</span> <span class="n">result_from_ef_text</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

    <span class="c1"># 1a. Attach raw response (with text method in Entity-Fishing service) to doc</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result_from_ef_text</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">doc</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">annotations</span><span class="p">[</span><span class="s2">&quot;disambiguation_text_service&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_from_ef_text</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">doc</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;disambiguation_text_service&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_from_ef_text</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># 2 .Because some named entities have not been disambiguated,</span>
    <span class="c1"># create a list with these unrelated entities (&quot;nil clustering&quot;).</span>
    <span class="c1"># Pass them back in Entity-fishing without the text but with all</span>
    <span class="c1"># the named entities surrounding these entities, to create a context</span>
    <span class="c1"># of neighboring terms.</span>
    <span class="c1"># nil_clustering = named entities in doc - actual disambiguated entities by EF</span>
    <span class="n">nil_clustering</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result_from_ef_text</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="n">nil_clustering</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">doc</span><span class="o">.</span><span class="n">char_span</span><span class="p">(</span><span class="n">start_idx</span><span class="o">=</span><span class="n">ent</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">end_idx</span><span class="o">=</span><span class="n">ent</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">ent</span> <span class="ow">in</span> <span class="p">[(</span><span class="n">ent</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">ent</span><span class="o">.</span><span class="n">start_char</span><span class="p">,</span> <span class="n">ent</span><span class="o">.</span><span class="n">end_char</span><span class="p">)</span> <span class="k">for</span> <span class="n">ent</span> <span class="ow">in</span> <span class="n">doc</span><span class="o">.</span><span class="n">ents</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">ent</span>
                <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
                    <span class="p">(</span><span class="n">ent_ef</span><span class="p">[</span><span class="s2">&quot;rawName&quot;</span><span class="p">],</span> <span class="n">ent_ef</span><span class="p">[</span><span class="s2">&quot;offsetStart&quot;</span><span class="p">],</span> <span class="n">ent_ef</span><span class="p">[</span><span class="s2">&quot;offsetEnd&quot;</span><span class="p">])</span>
                    <span class="k">for</span> <span class="n">ent_ef</span> <span class="ow">in</span> <span class="n">result_from_ef_text</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;entities&quot;</span><span class="p">]</span>
                <span class="p">]</span>
            <span class="p">]</span>
    <span class="n">entities_from_terms</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">nil_clustering</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1"># prepare query for Entity-Fishing terms disambiguation</span>
        <span class="n">terms</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">ent</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">ent</span> <span class="ow">in</span> <span class="n">doc</span><span class="o">.</span><span class="n">ents</span><span class="p">])</span>
        <span class="n">result_from_ef_terms</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_disambiguation_process_batch</span><span class="p">(</span>
            <span class="n">text_batch</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span> <span class="n">terms_batch</span><span class="o">=</span><span class="p">[</span><span class="n">terms</span><span class="p">],</span> <span class="n">entities_batch</span><span class="o">=</span><span class="p">[</span><span class="n">nil_clustering</span><span class="p">]</span>
        <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">entities_from_terms</span> <span class="o">=</span> <span class="n">result_from_ef_terms</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

        <span class="c1"># 2b. Attach raw response (with terms method in Entity-Fishing service) to doc</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result_from_ef_terms</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">doc</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">annotations</span><span class="p">[</span><span class="s2">&quot;disambiguation_terms_service&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_from_ef_terms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">doc</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;disambiguation_terms_service&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_from_ef_terms</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># 3. Merge two list of entities (first and second pass in EF service)</span>
    <span class="c1"># and attach information from Entity-Fishing to spans</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">entities_from_text</span>
        <span class="o">+</span> <span class="p">[</span><span class="n">entity_term</span> <span class="k">for</span> <span class="n">entity_term</span> <span class="ow">in</span> <span class="n">entities_from_terms</span> <span class="k">if</span> <span class="n">entity_term</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">entities_from_text</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">entities_from_terms</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">else</span> <span class="n">entities_from_text</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">updated_entities</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">doc</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.services.entity_fishing.CeurEntityFishing.updated_entities" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">updated_entities</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <blockquote>
<p>The function <code>updated_entities</code> takes a <code>Doc</code> object and a list of entities as input. It then
iterates over the list of entities and updates the <code>Doc</code> object with the information contained
in the list of entities</p>
</blockquote>
<p>:param doc: the document to be processed
:type doc: Doc
:param response: the response from the NERD API
:type response: list</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/services/entity_fishing.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">updated_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doc</span><span class="p">:</span> <span class="n">Doc</span><span class="p">,</span> <span class="n">response</span><span class="p">:</span> <span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &gt; The function `updated_entities` takes a `Doc` object and a list of entities as input. It then</span>
<span class="sd">    iterates over the list of entities and updates the `Doc` object with the information contained</span>
<span class="sd">    in the list of entities</span>

<span class="sd">    :param doc: the document to be processed</span>
<span class="sd">    :type doc: Doc</span>
<span class="sd">    :param response: the response from the NERD API</span>
<span class="sd">    :type response: list</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">AttributeError</span><span class="p">):</span>
            <span class="n">span</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">char_span</span><span class="p">(</span><span class="n">start_idx</span><span class="o">=</span><span class="n">entity</span><span class="p">[</span><span class="s2">&quot;offsetStart&quot;</span><span class="p">],</span> <span class="n">end_idx</span><span class="o">=</span><span class="n">entity</span><span class="p">[</span><span class="s2">&quot;offsetEnd&quot;</span><span class="p">])</span>
            <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
                <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">kb_qid</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">entity</span><span class="p">[</span><span class="s2">&quot;wikidataId&quot;</span><span class="p">])</span>
                <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">url_wikidata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wikidata_url_base</span> <span class="o">+</span> <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">kb_qid</span>
            <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
                <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">wikipedia_page_ref</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">entity</span><span class="p">[</span><span class="s2">&quot;wikipediaExternalRef&quot;</span><span class="p">])</span>
                <span class="c1"># if flag_extra : search other info on entity</span>
                <span class="c1"># =&gt; attach extra entity info to span</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">flag_extra</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">look_extra_informations_on_entity</span><span class="p">(</span><span class="n">span</span><span class="p">,</span> <span class="n">entity</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">contextlib</span><span class="o">.</span><span class="n">suppress</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
                <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">nerd_score</span> <span class="o">=</span> <span class="n">entity</span><span class="p">[</span><span class="s2">&quot;confidence_score&quot;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="ceurws.services.opentapioca" class="doc doc-heading">
            <code>opentapioca</code>


</h3>

    <div class="doc doc-contents ">

      <p>@author: https://github.com/UB-Mannheim/spacyopentapioca/blob/main/spacyopentapioca/entity_linker.py</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="ceurws.services.opentapioca.EntityLinker" class="doc doc-heading">
            <code>EntityLinker</code>


</h4>


    <div class="doc doc-contents ">


      <p>Sends raw data to the OpenTapioca API. Attaches entities to the document.
Based on: https://github.com/UB-Mannheim/spacyopentapioca/blob/main/spacyopentapioca/entity_linker.py</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/services/opentapioca.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Language</span><span class="o">.</span><span class="n">factory</span><span class="p">(</span><span class="n">OPENTAPIOCA_PIPELINE</span><span class="p">,</span> <span class="n">default_config</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">OPENTAPIOCA_ENDPOINT</span><span class="si">}</span><span class="s2">/api/annotate&quot;</span><span class="p">})</span>
<span class="k">class</span> <span class="nc">EntityLinker</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sends raw data to the OpenTapioca API. Attaches entities to the document.</span>
<span class="sd">    Based on: https://github.com/UB-Mannheim/spacyopentapioca/blob/main/spacyopentapioca/entity_linker.py</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nlp</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Passes url. Registers OpenTapioca extensions for Doc and Span.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="n">Doc</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;annotations&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Doc</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;annotations&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;aliases&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;rank&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;score&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;types&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;extra_aliases&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;nb_sitelinks&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;nb_statements&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">process_single_doc_after_call</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doc</span><span class="p">:</span> <span class="n">Doc</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Doc</span><span class="p">:</span>
        <span class="n">r</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

        <span class="c1"># Attaches raw data to doc</span>
        <span class="n">doc</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">annotations</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;annotations&quot;</span><span class="p">)</span>
        <span class="n">doc</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;status_code&quot;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="s2">&quot;reason&quot;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">reason</span><span class="p">,</span> <span class="s2">&quot;ok&quot;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">ok</span><span class="p">,</span> <span class="s2">&quot;encoding&quot;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">encoding</span><span class="p">}</span>

        <span class="c1"># Attaches indexes, label and QID to spans</span>
        <span class="c1"># Processes annotations: if &#39;best_qid&#39;==None, then no annotation</span>
        <span class="n">ents</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">ent</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;annotations&quot;</span><span class="p">):</span>
            <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="n">ent</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">],</span> <span class="n">ent</span><span class="p">[</span><span class="s2">&quot;end&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">ent</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;best_qid&quot;</span><span class="p">):</span>
                <span class="n">ent_kb_id</span> <span class="o">=</span> <span class="n">ent</span><span class="p">[</span><span class="s2">&quot;best_qid&quot;</span><span class="p">]</span>
                <span class="k">try</span><span class="p">:</span>  <span class="c1"># to identify the type of entities</span>
                    <span class="n">t</span> <span class="o">=</span> <span class="n">ent</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;types&quot;</span><span class="p">]</span>
                    <span class="n">types</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s2">&quot;PERSON&quot;</span><span class="p">:</span> <span class="n">t</span><span class="p">[</span><span class="s2">&quot;Q5&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">t</span><span class="p">[</span><span class="s2">&quot;P496&quot;</span><span class="p">],</span>
                        <span class="s2">&quot;ORG&quot;</span><span class="p">:</span> <span class="n">t</span><span class="p">[</span><span class="s2">&quot;Q43229&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">t</span><span class="p">[</span><span class="s2">&quot;P2427&quot;</span><span class="p">],</span>
                        <span class="s2">&quot;LOC&quot;</span><span class="p">:</span> <span class="n">t</span><span class="p">[</span><span class="s2">&quot;Q618123&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">t</span><span class="p">[</span><span class="s2">&quot;P1566&quot;</span><span class="p">],</span>
                    <span class="p">}</span>
                    <span class="n">m</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">types</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
                    <span class="n">etype</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">types</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="n">m</span><span class="p">])</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="n">ent</span><span class="p">)</span>
                    <span class="n">etype</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
                <span class="n">span</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">char_span</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">etype</span><span class="p">,</span> <span class="n">ent_kb_id</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">etype</span><span class="p">,</span> <span class="n">ent_kb_id</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span>
                <span class="n">span</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">char_span</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">etype</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">span</span><span class="p">:</span>
                <span class="n">span</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">char_span</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">etype</span><span class="p">,</span> <span class="n">ent_kb_id</span><span class="p">,</span> <span class="n">alignment_mode</span><span class="o">=</span><span class="s2">&quot;expand&quot;</span><span class="p">)</span>
                <span class="n">log</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s1">&#39;The OpenTapioca-entity &quot;</span><span class="si">%s</span><span class="s1">&quot; </span><span class="si">%s</span><span class="s1"> does not fit the span &quot;</span><span class="si">%s</span><span class="s1">&quot; </span><span class="si">%s</span><span class="s1"> in spaCy. EXPANDED!&#39;</span><span class="p">,</span>
                    <span class="n">ent</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;label&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
                    <span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">),</span>
                    <span class="n">span</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
                    <span class="p">(</span><span class="n">span</span><span class="o">.</span><span class="n">start_char</span><span class="p">,</span> <span class="n">span</span><span class="o">.</span><span class="n">end_char</span><span class="p">),</span>
                <span class="p">)</span>
            <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">annotations</span> <span class="o">=</span> <span class="n">ent</span>
            <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">ent</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;desc&quot;</span><span class="p">]</span>
            <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">aliases</span> <span class="o">=</span> <span class="n">ent</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;aliases&quot;</span><span class="p">]</span>
            <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">rank</span> <span class="o">=</span> <span class="n">ent</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;rank&quot;</span><span class="p">]</span>
            <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">score</span> <span class="o">=</span> <span class="n">ent</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;score&quot;</span><span class="p">]</span>
            <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">types</span> <span class="o">=</span> <span class="n">ent</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;types&quot;</span><span class="p">]</span>
            <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">ent</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;label&quot;</span><span class="p">]</span>
            <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">extra_aliases</span> <span class="o">=</span> <span class="n">ent</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;extra_aliases&quot;</span><span class="p">]</span>
            <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">nb_sitelinks</span> <span class="o">=</span> <span class="n">ent</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;nb_sitelinks&quot;</span><span class="p">]</span>
            <span class="n">span</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">nb_statements</span> <span class="o">=</span> <span class="n">ent</span><span class="p">[</span><span class="s2">&quot;tags&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;nb_statements&quot;</span><span class="p">]</span>
            <span class="n">ents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">span</span><span class="p">)</span>

        <span class="c1"># Attach processed entities to doc.ents</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># this works with non-overlapping spans</span>
            <span class="n">doc</span><span class="o">.</span><span class="n">ents</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">ents</span><span class="p">)</span> <span class="o">+</span> <span class="n">ents</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="c1"># filter the overlapping spans, keep the (first) longest one</span>
            <span class="n">doc</span><span class="o">.</span><span class="n">ents</span> <span class="o">=</span> <span class="n">spacy</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">filter_spans</span><span class="p">(</span><span class="n">ents</span><span class="p">)</span>
        <span class="c1"># Attach all entities found by OpenTapioca to spans</span>
        <span class="n">doc</span><span class="o">.</span><span class="n">spans</span><span class="p">[</span><span class="s2">&quot;all_entities_opentapioca&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ents</span>
        <span class="k">return</span> <span class="n">doc</span>

    <span class="k">def</span> <span class="nf">make_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doc</span><span class="p">:</span> <span class="n">Doc</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="n">doc</span><span class="o">.</span><span class="n">text</span><span class="p">},</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;User-Agent&quot;</span><span class="p">:</span> <span class="s2">&quot;spaCyOpenTapioca&quot;</span><span class="p">})</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doc</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Requests the OpenTapioca API. Attaches entities to spans and doc.&quot;&quot;&quot;</span>

        <span class="c1"># Post request to the OpenTapioca API</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_single_doc_after_call</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">pipe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">128</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        It takes a stream of documents, and for each batch of documents, it makes a request to the API</span>
<span class="sd">        for each document in the batch, and then yields the processed results of each document</span>

<span class="sd">        :param stream: the stream of documents to be processed</span>
<span class="sd">        :param batch_size: The number of documents to send to the API in a single request, defaults to</span>
<span class="sd">        128 (optional)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">docs</span> <span class="ow">in</span> <span class="n">util</span><span class="o">.</span><span class="n">minibatch</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">batch_size</span><span class="p">):</span>
            <span class="k">with</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
                <span class="n">future_to_url</span> <span class="o">=</span> <span class="p">{</span><span class="n">executor</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">make_request</span><span class="p">,</span> <span class="n">doc</span><span class="p">):</span> <span class="n">doc</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">}</span>
                <span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">as_completed</span><span class="p">(</span><span class="n">future_to_url</span><span class="p">):</span>
                    <span class="n">doc</span> <span class="o">=</span> <span class="n">future_to_url</span><span class="p">[</span><span class="n">future</span><span class="p">]</span>
                    <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_single_doc_after_call</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">future</span><span class="o">.</span><span class="n">result</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ceurws.services.opentapioca.EntityLinker.__call__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__call__</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p>Requests the OpenTapioca API. Attaches entities to spans and doc.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/services/opentapioca.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">doc</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Requests the OpenTapioca API. Attaches entities to spans and doc.&quot;&quot;&quot;</span>

    <span class="c1"># Post request to the OpenTapioca API</span>
    <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_single_doc_after_call</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.services.opentapioca.EntityLinker.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">nlp</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p>Passes url. Registers OpenTapioca extensions for Doc and Span.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/services/opentapioca.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nlp</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Passes url. Registers OpenTapioca extensions for Doc and Span.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">url</span>
    <span class="n">Doc</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;annotations&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Doc</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;metadata&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;annotations&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;aliases&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;rank&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;score&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;types&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;extra_aliases&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;nb_sitelinks&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Span</span><span class="o">.</span><span class="n">set_extension</span><span class="p">(</span><span class="s2">&quot;nb_statements&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.services.opentapioca.EntityLinker.pipe" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pipe</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">128</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p>It takes a stream of documents, and for each batch of documents, it makes a request to the API
for each document in the batch, and then yields the processed results of each document</p>
<p>:param stream: the stream of documents to be processed
:param batch_size: The number of documents to send to the API in a single request, defaults to
128 (optional)</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/services/opentapioca.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">pipe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">128</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    It takes a stream of documents, and for each batch of documents, it makes a request to the API</span>
<span class="sd">    for each document in the batch, and then yields the processed results of each document</span>

<span class="sd">    :param stream: the stream of documents to be processed</span>
<span class="sd">    :param batch_size: The number of documents to send to the API in a single request, defaults to</span>
<span class="sd">    128 (optional)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">docs</span> <span class="ow">in</span> <span class="n">util</span><span class="o">.</span><span class="n">minibatch</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">batch_size</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span> <span class="k">as</span> <span class="n">executor</span><span class="p">:</span>
            <span class="n">future_to_url</span> <span class="o">=</span> <span class="p">{</span><span class="n">executor</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">make_request</span><span class="p">,</span> <span class="n">doc</span><span class="p">):</span> <span class="n">doc</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">}</span>
            <span class="k">for</span> <span class="n">future</span> <span class="ow">in</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">as_completed</span><span class="p">(</span><span class="n">future_to_url</span><span class="p">):</span>
                <span class="n">doc</span> <span class="o">=</span> <span class="n">future_to_url</span><span class="p">[</span><span class="n">future</span><span class="p">]</span>
                <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_single_doc_after_call</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">future</span><span class="o">.</span><span class="n">result</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.sql_cache" class="doc doc-heading">
            <code>sql_cache</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 2024-03-16
@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.sql_cache.Cached" class="doc doc-heading">
            <code>Cached</code>


</h3>


    <div class="doc doc-contents ">


      <p>Manage cached entities.</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/sql_cache.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Cached</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Manage cached entities.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">clazz</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">sparql</span><span class="p">:</span> <span class="n">SPARQL</span><span class="p">,</span> <span class="n">sql_db</span><span class="p">:</span> <span class="n">SqlDB</span><span class="p">,</span> <span class="n">query_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">max_errors</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the Manager with class reference, SPARQL endpoint URL, SQL database connection string,</span>
<span class="sd">        query name, and an optional debug flag.</span>
<span class="sd">        Args:</span>
<span class="sd">            clazz (type[Any]): The class reference for the type of objects managed by this manager.</span>
<span class="sd">            sparql (SPARQL): a SPARQL endpoint.</span>
<span class="sd">            sql_db (SqlDB): SQL database object</span>
<span class="sd">            query_name (str): The name of the query to be executed.</span>
<span class="sd">            debug (bool, optional): Flag to enable debug mode. Defaults to False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clazz</span> <span class="o">=</span> <span class="n">clazz</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span> <span class="o">=</span> <span class="n">sparql</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sql_db</span> <span class="o">=</span> <span class="n">sql_db</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">query_name</span> <span class="o">=</span> <span class="n">query_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_errors</span> <span class="o">=</span> <span class="n">max_errors</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="ne">Exception</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># Ensure the table for the class exists</span>
        <span class="n">clazz</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">create_all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sql_db</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">fetch_or_query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qm</span><span class="p">,</span> <span class="n">force_query</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Fetches data from the local cache if available.</span>
<span class="sd">        If the data is not in the cache or if force_query is True,</span>
<span class="sd">        it queries via SPARQL and caches the results.</span>

<span class="sd">        Args:</span>
<span class="sd">            qm (QueryManager): The query manager object used for making SPARQL queries.</span>
<span class="sd">            force_query (bool, optional): A flag to force querying via SPARQL even</span>
<span class="sd">                if the data exists in the local cache. Defaults to False.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">force_query</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_local_cache</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fetch_from_local</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_lod</span><span class="p">(</span><span class="n">qm</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">store</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">check_local_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if there is data in the local cache (SQL database).</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if  there is at least one record in the local SQL cache table</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">sql_db</span><span class="o">.</span><span class="n">get_session</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clazz</span><span class="p">))</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">fetch_from_local</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Fetches data from the local SQL database.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">profiler</span> <span class="o">=</span> <span class="n">Profiler</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;fetch </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">query_name</span><span class="si">}</span><span class="s2"> from local&quot;</span><span class="p">,</span> <span class="n">profile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">sql_db</span><span class="o">.</span><span class="n">get_session</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entities</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clazz</span><span class="p">))</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lod</span> <span class="o">=</span> <span class="p">[</span><span class="n">entity</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loaded </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="p">)</span><span class="si">}</span><span class="s2"> records from local cache&quot;</span><span class="p">)</span>
        <span class="n">profiler</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_lod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qm</span><span class="p">:</span> <span class="n">QueryManager</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Fetches data using the SPARQL query specified by my query_name.</span>

<span class="sd">        Args:</span>
<span class="sd">            qm (QueryManager): The query manager object used for making SPARQL queries.</span>
<span class="sd">        Returns:</span>
<span class="sd">            list[dict]: A list of dictionaries representing the data fetched.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">profiler</span> <span class="o">=</span> <span class="n">Profiler</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;fetch </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">query_name</span><span class="si">}</span><span class="s2"> from SPARQL endpoint </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">profile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">qm</span><span class="o">.</span><span class="n">queriesByName</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">query_name</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lod</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
        <span class="n">profiler</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lod</span><span class="p">)</span><span class="si">}</span><span class="s2"> records for </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">query_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lod</span>

    <span class="k">def</span> <span class="nf">to_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_errors</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts records fetched from the LOD into entity instances, applying validation.</span>
<span class="sd">        Args:</span>
<span class="sd">            max_errors (int, optional): Maximum allowed validation errors. Defaults to 0.</span>
<span class="sd">        Returns:</span>
<span class="sd">            list[Any]: A list of entity instances that have passed validation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entities</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">error_records</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">max_errors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">max_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_errors</span>
        <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lod</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">entity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clazz</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="n">error_records</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
        <span class="n">error_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">error_count</span> <span class="o">&gt;</span> <span class="n">max_errors</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;found </span><span class="si">{</span><span class="n">error_count</span><span class="si">}</span><span class="s2"> errors &gt; maximum allowed </span><span class="si">{</span><span class="n">max_errors</span><span class="si">}</span><span class="s2"> errors&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">error</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">):</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s2"> for </span><span class="se">\n</span><span class="si">{</span><span class="n">error_records</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">entities</span>

    <span class="k">def</span> <span class="nf">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_errors</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stores the fetched data into the local SQL database.</span>

<span class="sd">        Args:</span>
<span class="sd">            max_errors (int, optional): Maximum allowed validation errors. Defaults to 0.</span>
<span class="sd">        Returns:</span>
<span class="sd">            list[Any]: A list of entity instances that were stored in the database.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">profiler</span> <span class="o">=</span> <span class="n">Profiler</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;store </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">query_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">profile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">to_entities</span><span class="p">(</span><span class="n">max_errors</span><span class="o">=</span><span class="n">max_errors</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">sql_db</span><span class="o">.</span><span class="n">get_session</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add_all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stored </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="p">)</span><span class="si">}</span><span class="s2"> records in local cache&quot;</span><span class="p">)</span>
        <span class="n">profiler</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">entities</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.sql_cache.Cached.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">clazz</span><span class="p">,</span> <span class="n">sparql</span><span class="p">,</span> <span class="n">sql_db</span><span class="p">,</span> <span class="n">query_name</span><span class="p">,</span> <span class="n">max_errors</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Initializes the Manager with class reference, SPARQL endpoint URL, SQL database connection string,
query name, and an optional debug flag.
Args:
    clazz (type[Any]): The class reference for the type of objects managed by this manager.
    sparql (SPARQL): a SPARQL endpoint.
    sql_db (SqlDB): SQL database object
    query_name (str): The name of the query to be executed.
    debug (bool, optional): Flag to enable debug mode. Defaults to False.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/sql_cache.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">clazz</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">sparql</span><span class="p">:</span> <span class="n">SPARQL</span><span class="p">,</span> <span class="n">sql_db</span><span class="p">:</span> <span class="n">SqlDB</span><span class="p">,</span> <span class="n">query_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">max_errors</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the Manager with class reference, SPARQL endpoint URL, SQL database connection string,</span>
<span class="sd">    query name, and an optional debug flag.</span>
<span class="sd">    Args:</span>
<span class="sd">        clazz (type[Any]): The class reference for the type of objects managed by this manager.</span>
<span class="sd">        sparql (SPARQL): a SPARQL endpoint.</span>
<span class="sd">        sql_db (SqlDB): SQL database object</span>
<span class="sd">        query_name (str): The name of the query to be executed.</span>
<span class="sd">        debug (bool, optional): Flag to enable debug mode. Defaults to False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clazz</span> <span class="o">=</span> <span class="n">clazz</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span> <span class="o">=</span> <span class="n">sparql</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sql_db</span> <span class="o">=</span> <span class="n">sql_db</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">query_name</span> <span class="o">=</span> <span class="n">query_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">max_errors</span> <span class="o">=</span> <span class="n">max_errors</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="ne">Exception</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># Ensure the table for the class exists</span>
    <span class="n">clazz</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">create_all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sql_db</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.sql_cache.Cached.check_local_cache" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_local_cache</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Checks if there is data in the local cache (SQL database).</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if  there is at least one record in the local SQL cache table</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/sql_cache.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">check_local_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if there is data in the local cache (SQL database).</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if  there is at least one record in the local SQL cache table</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">sql_db</span><span class="o">.</span><span class="n">get_session</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clazz</span><span class="p">))</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.sql_cache.Cached.fetch_from_local" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fetch_from_local</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Fetches data from the local SQL database.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/sql_cache.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">fetch_from_local</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetches data from the local SQL database.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">profiler</span> <span class="o">=</span> <span class="n">Profiler</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;fetch </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">query_name</span><span class="si">}</span><span class="s2"> from local&quot;</span><span class="p">,</span> <span class="n">profile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">sql_db</span><span class="o">.</span><span class="n">get_session</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entities</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clazz</span><span class="p">))</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lod</span> <span class="o">=</span> <span class="p">[</span><span class="n">entity</span><span class="o">.</span><span class="n">dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loaded </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="p">)</span><span class="si">}</span><span class="s2"> records from local cache&quot;</span><span class="p">)</span>
    <span class="n">profiler</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.sql_cache.Cached.fetch_or_query" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fetch_or_query</span><span class="p">(</span><span class="n">qm</span><span class="p">,</span> <span class="n">force_query</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Fetches data from the local cache if available.
If the data is not in the cache or if force_query is True,
it queries via SPARQL and caches the results.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>qm</code></td>
            <td>
                  <code><span title="lodstorage.query.QueryManager">QueryManager</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The query manager object used for making SPARQL queries.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>force_query</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A flag to force querying via SPARQL even
if the data exists in the local cache. Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/sql_cache.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">fetch_or_query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qm</span><span class="p">,</span> <span class="n">force_query</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetches data from the local cache if available.</span>
<span class="sd">    If the data is not in the cache or if force_query is True,</span>
<span class="sd">    it queries via SPARQL and caches the results.</span>

<span class="sd">    Args:</span>
<span class="sd">        qm (QueryManager): The query manager object used for making SPARQL queries.</span>
<span class="sd">        force_query (bool, optional): A flag to force querying via SPARQL even</span>
<span class="sd">            if the data exists in the local cache. Defaults to False.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">force_query</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_local_cache</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fetch_from_local</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_lod</span><span class="p">(</span><span class="n">qm</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">store</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.sql_cache.Cached.get_lod" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_lod</span><span class="p">(</span><span class="n">qm</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Fetches data using the SPARQL query specified by my query_name.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>qm</code></td>
            <td>
                  <code><span title="lodstorage.query.QueryManager">QueryManager</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The query manager object used for making SPARQL queries.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
      <p>Returns:
    list[dict]: A list of dictionaries representing the data fetched.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/sql_cache.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_lod</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qm</span><span class="p">:</span> <span class="n">QueryManager</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetches data using the SPARQL query specified by my query_name.</span>

<span class="sd">    Args:</span>
<span class="sd">        qm (QueryManager): The query manager object used for making SPARQL queries.</span>
<span class="sd">    Returns:</span>
<span class="sd">        list[dict]: A list of dictionaries representing the data fetched.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">profiler</span> <span class="o">=</span> <span class="n">Profiler</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;fetch </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">query_name</span><span class="si">}</span><span class="s2"> from SPARQL endpoint </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">profile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
    <span class="n">query</span> <span class="o">=</span> <span class="n">qm</span><span class="o">.</span><span class="n">queriesByName</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">query_name</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lod</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
    <span class="n">profiler</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lod</span><span class="p">)</span><span class="si">}</span><span class="s2"> records for </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">query_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lod</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.sql_cache.Cached.store" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">store</span><span class="p">(</span><span class="n">max_errors</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Stores the fetched data into the local SQL database.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>max_errors</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum allowed validation errors. Defaults to 0.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
      <p>Returns:
    list[Any]: A list of entity instances that were stored in the database.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/sql_cache.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_errors</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Stores the fetched data into the local SQL database.</span>

<span class="sd">    Args:</span>
<span class="sd">        max_errors (int, optional): Maximum allowed validation errors. Defaults to 0.</span>
<span class="sd">    Returns:</span>
<span class="sd">        list[Any]: A list of entity instances that were stored in the database.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">profiler</span> <span class="o">=</span> <span class="n">Profiler</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;store </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">query_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">profile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">to_entities</span><span class="p">(</span><span class="n">max_errors</span><span class="o">=</span><span class="n">max_errors</span><span class="p">)</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">sql_db</span><span class="o">.</span><span class="n">get_session</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add_all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stored </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="p">)</span><span class="si">}</span><span class="s2"> records in local cache&quot;</span><span class="p">)</span>
    <span class="n">profiler</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">entities</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.sql_cache.Cached.to_entities" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_entities</span><span class="p">(</span><span class="n">max_errors</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Converts records fetched from the LOD into entity instances, applying validation.
Args:
    max_errors (int, optional): Maximum allowed validation errors. Defaults to 0.
Returns:
    list[Any]: A list of entity instances that have passed validation.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/sql_cache.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">to_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_errors</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts records fetched from the LOD into entity instances, applying validation.</span>
<span class="sd">    Args:</span>
<span class="sd">        max_errors (int, optional): Maximum allowed validation errors. Defaults to 0.</span>
<span class="sd">    Returns:</span>
<span class="sd">        list[Any]: A list of entity instances that have passed validation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">entities</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">error_records</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">max_errors</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">max_errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_errors</span>
    <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lod</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">entity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clazz</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="n">error_records</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
    <span class="n">error_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">error_count</span> <span class="o">&gt;</span> <span class="n">max_errors</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;found </span><span class="si">{</span><span class="n">error_count</span><span class="si">}</span><span class="s2"> errors &gt; maximum allowed </span><span class="si">{</span><span class="n">max_errors</span><span class="si">}</span><span class="s2"> errors&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">error</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s2"> for </span><span class="se">\n</span><span class="si">{</span><span class="n">error_records</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">entities</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.sql_cache.SqlDB" class="doc doc-heading">
            <code>SqlDB</code>


</h3>


    <div class="doc doc-contents ">


      <p>general SQL database</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/sql_cache.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">SqlDB</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    general SQL database</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sqlite_file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
        <span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
        <span class="n">sqlite_url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;sqlite:///</span><span class="si">{</span><span class="n">sqlite_file_path</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">connect_args</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;check_same_thread&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="n">sqlite_url</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="n">debug</span><span class="p">,</span> <span class="n">connect_args</span><span class="o">=</span><span class="n">connect_args</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_session</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Session</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Provide a session for database operations.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Session: A SQLAlchemy Session object bound to the engine for database operations.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Session</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.sql_cache.SqlDB.get_session" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_session</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Provide a session for database operations.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Session</code></td>            <td>
                  <code><span title="sqlmodel.Session">Session</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A SQLAlchemy Session object bound to the engine for database operations.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/sql_cache.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_session</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Session</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Provide a session for database operations.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Session: A SQLAlchemy Session object bound to the engine for database operations.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Session</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.textparser" class="doc doc-heading">
            <code>textparser</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 2022-08-15</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.textparser.Textparser" class="doc doc-heading">
            <code>Textparser</code>


</h3>


    <div class="doc doc-contents ">


      <p>general text parser</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/textparser.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Textparser</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    general text parser</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor</span>

<span class="sd">        Args:</span>
<span class="sd">            debug(bool): if TRUE switch debugging on</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">sanitize</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">replaceList</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        sanitize given text</span>

<span class="sd">        Args:</span>
<span class="sd">            text: text to sanitize</span>
<span class="sd">            replaceList: list of strings to remove from the given text</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: sanitized string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">replaceList</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">replaceList</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">text</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sanitizeChars</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n\t\r</span><span class="s2">., &quot;</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">sanitizeChars</span><span class="p">)</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">replace</span> <span class="ow">in</span> <span class="n">replaceList</span><span class="p">:</span>
                <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">replace</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="c1"># compress multiple spaces</span>
            <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">text</span>

    <span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        log the given message if debug is on</span>

<span class="sd">        Args:</span>
<span class="sd">            msg(str): the message to log</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">hasValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check that the given attribute in the given dict is available and not none</span>

<span class="sd">        Args:</span>
<span class="sd">            d(dict): the dict</span>
<span class="sd">            key(str): the key</span>

<span class="sd">        Returns:</span>
<span class="sd">            True: if a not None Value is available</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">d</span> <span class="ow">and</span> <span class="n">d</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">getMatch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">groupNo</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the match for the given regular expression for the given text returning the given group number</span>

<span class="sd">        Args:</span>
<span class="sd">            regexp(str): the regular expression to check</span>
<span class="sd">            text(str): the text to check</span>
<span class="sd">            groupNo(int): the number of the regular expression group to return</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: the matching result or None if no match was found</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">matchResult</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">matchResult</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">matchResult</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="n">groupNo</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.textparser.Textparser.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">debug</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Constructor</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>debug(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if TRUE switch debugging on</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/textparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor</span>

<span class="sd">    Args:</span>
<span class="sd">        debug(bool): if TRUE switch debugging on</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.textparser.Textparser.getMatch" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getMatch</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">groupNo</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>get the match for the given regular expression for the given text returning the given group number</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>regexp(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the regular expression to check</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>text(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the text to check</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>groupNo(int)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the number of the regular expression group to return</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the matching result or None if no match was found</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/textparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getMatch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">groupNo</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the match for the given regular expression for the given text returning the given group number</span>

<span class="sd">    Args:</span>
<span class="sd">        regexp(str): the regular expression to check</span>
<span class="sd">        text(str): the text to check</span>
<span class="sd">        groupNo(int): the number of the regular expression group to return</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: the matching result or None if no match was found</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">matchResult</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">matchResult</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">matchResult</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="n">groupNo</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.textparser.Textparser.hasValue" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">hasValue</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>check that the given attribute in the given dict is available and not none</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>d(dict)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the dict</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>key(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the key</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>True</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if a not None Value is available</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/textparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">hasValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    check that the given attribute in the given dict is available and not none</span>

<span class="sd">    Args:</span>
<span class="sd">        d(dict): the dict</span>
<span class="sd">        key(str): the key</span>

<span class="sd">    Returns:</span>
<span class="sd">        True: if a not None Value is available</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">d</span> <span class="ow">and</span> <span class="n">d</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.textparser.Textparser.log" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">log</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>log the given message if debug is on</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>msg(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the message to log</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/textparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    log the given message if debug is on</span>

<span class="sd">    Args:</span>
<span class="sd">        msg(str): the message to log</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.textparser.Textparser.sanitize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sanitize</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">replaceList</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>sanitize given text</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>text</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>text to sanitize</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>replaceList</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list of strings to remove from the given text</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>sanitized string</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/textparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">sanitize</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">replaceList</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    sanitize given text</span>

<span class="sd">    Args:</span>
<span class="sd">        text: text to sanitize</span>
<span class="sd">        replaceList: list of strings to remove from the given text</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: sanitized string</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">replaceList</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">replaceList</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">text</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">sanitizeChars</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n\t\r</span><span class="s2">., &quot;</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">sanitizeChars</span><span class="p">)</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">replace</span> <span class="ow">in</span> <span class="n">replaceList</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">replace</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="c1"># compress multiple spaces</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">text</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.urn" class="doc doc-heading">
            <code>urn</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 2023-12-28</p>
<p>@author: wf / ChatGPT-4 as instructed</p>
<p>Class URN is designed to verify and calculate check digits for URNs (Uniform Resource Names)
as used in the DNB URN service. The class provides methods for both verifying a full URN's check digit
(check_urn_checksum) and calculating the check digit for a given URN (calc_urn_checksum). It's adapted from PHP and
JavaScript sources, following the guidelines and methods outlined by the DNB (German National Library) URN service.</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.urn.URN" class="doc doc-heading">
            <code>URN</code>


</h3>


    <div class="doc doc-contents ">


      <p>URN check digit calculator for DNB URN service:</p>
<p>see https://www.dnb.de/DE/Professionell/Services/URN-Service/urn-service_node.html</p>
<p>and
    https://d-nb.info/1045320641/34
    http://nbn-resolving.de/nbnpruefziffer.php</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/urn.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">URN</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    URN check digit calculator for DNB URN service:</span>

<span class="sd">    see https://www.dnb.de/DE/Professionell/Services/URN-Service/urn-service_node.html</span>

<span class="sd">    and</span>
<span class="sd">        https://d-nb.info/1045320641/34</span>
<span class="sd">        http://nbn-resolving.de/nbnpruefziffer.php</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">check_urn_checksum</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">urn</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">urn_check_digit_str</span> <span class="o">=</span> <span class="n">urn</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">urn_prefix</span> <span class="o">=</span> <span class="n">urn</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">check_digit</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">calc_urn_checksum</span><span class="p">(</span><span class="n">urn_prefix</span><span class="p">,</span> <span class="n">debug</span><span class="p">)</span>
        <span class="n">urn_ok</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">check_digit</span><span class="p">)</span> <span class="o">==</span> <span class="n">urn_check_digit_str</span>
        <span class="k">return</span> <span class="n">urn_ok</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">calc_urn_checksum</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">test_urn</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        converted from PHP and JavaScript code see</span>
<span class="sd">        see https://github.com/bohnelang/URN-Pruefziffer</span>

<span class="sd">        Args:</span>
<span class="sd">            debug(bool) if True show the internal values while calculating</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Code string provided in the original PHP function</span>
        <span class="n">code</span> <span class="o">=</span> <span class="s2">&quot;3947450102030405060708094117############1814191516212223242542262713282931123233113435363738########43&quot;</span>

        <span class="c1"># Initialization of variables</span>
        <span class="n">_sum</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="c1"># Iterating through each character in the URN</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">char</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">test_urn</span><span class="o">.</span><span class="n">upper</span><span class="p">()):</span>
            <span class="c1"># Getting the ASCII value and adjusting it based on the character &#39;-&#39; (45 in ASCII)</span>
            <span class="n">x</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">char</span><span class="p">)</span> <span class="o">-</span> <span class="mi">45</span>
            <span class="c1"># Extracting two consecutive values from the code string</span>
            <span class="n">v1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">code</span><span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">])</span> <span class="k">if</span> <span class="n">code</span><span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;#&quot;</span> <span class="k">else</span> <span class="mi">0</span>
            <span class="n">v2</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">code</span><span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="k">if</span> <span class="n">code</span><span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;#&quot;</span> <span class="k">else</span> <span class="mi">0</span>

            <span class="k">if</span> <span class="n">v1</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># If v1 is 0, increment pos after multiplying v2 with its current value</span>
                <span class="n">_sum</span> <span class="o">+=</span> <span class="n">v2</span> <span class="o">*</span> <span class="n">pos</span>
                <span class="n">pos</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># post-increment equivalent in Python</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># If v1 is not 0, use pos for the first term, increment pos,</span>
                <span class="c1"># then use the new value of pos for the second term</span>
                <span class="c1"># This effectively increases pos by 2 in this branch</span>
                <span class="n">_sum</span> <span class="o">+=</span> <span class="n">pos</span> <span class="o">*</span> <span class="n">v1</span>
                <span class="n">pos</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># increment for the first term</span>
                <span class="n">_sum</span> <span class="o">+=</span> <span class="n">v2</span> <span class="o">*</span> <span class="n">pos</span>  <span class="c1"># use incremented pos for the second term</span>
                <span class="n">pos</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># increment for the second term</span>

            <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;i: </span><span class="si">{</span><span class="n">i</span><span class="si">:</span><span class="s2">2</span><span class="si">}</span><span class="s2"> pos: </span><span class="si">{</span><span class="n">pos</span><span class="si">:</span><span class="s2">2</span><span class="si">}</span><span class="s2"> x: </span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s2">2</span><span class="si">}</span><span class="s2"> v1: </span><span class="si">{</span><span class="n">v1</span><span class="si">:</span><span class="s2">2</span><span class="si">}</span><span class="s2"> v2: </span><span class="si">{</span><span class="n">v2</span><span class="si">:</span><span class="s2">2</span><span class="si">}</span><span class="s2"> sum: </span><span class="si">{</span><span class="n">_sum</span><span class="si">:</span><span class="s2">4</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Assuming v2 is not 0 at the end of your URN calculations</span>
        <span class="n">check_digit</span> <span class="o">=</span> <span class="p">(</span><span class="n">_sum</span> <span class="o">//</span> <span class="n">v2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">10</span>  <span class="c1"># Using integer division for floor behavior</span>

        <span class="k">return</span> <span class="n">check_digit</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.urn.URN.calc_urn_checksum" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calc_urn_checksum</span><span class="p">(</span><span class="n">test_urn</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>converted from PHP and JavaScript code see
see https://github.com/bohnelang/URN-Pruefziffer</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/urn.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">calc_urn_checksum</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">test_urn</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    converted from PHP and JavaScript code see</span>
<span class="sd">    see https://github.com/bohnelang/URN-Pruefziffer</span>

<span class="sd">    Args:</span>
<span class="sd">        debug(bool) if True show the internal values while calculating</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Code string provided in the original PHP function</span>
    <span class="n">code</span> <span class="o">=</span> <span class="s2">&quot;3947450102030405060708094117############1814191516212223242542262713282931123233113435363738########43&quot;</span>

    <span class="c1"># Initialization of variables</span>
    <span class="n">_sum</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="c1"># Iterating through each character in the URN</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">char</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">test_urn</span><span class="o">.</span><span class="n">upper</span><span class="p">()):</span>
        <span class="c1"># Getting the ASCII value and adjusting it based on the character &#39;-&#39; (45 in ASCII)</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="n">char</span><span class="p">)</span> <span class="o">-</span> <span class="mi">45</span>
        <span class="c1"># Extracting two consecutive values from the code string</span>
        <span class="n">v1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">code</span><span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">])</span> <span class="k">if</span> <span class="n">code</span><span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;#&quot;</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="n">v2</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">code</span><span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="k">if</span> <span class="n">code</span><span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;#&quot;</span> <span class="k">else</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="n">v1</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># If v1 is 0, increment pos after multiplying v2 with its current value</span>
            <span class="n">_sum</span> <span class="o">+=</span> <span class="n">v2</span> <span class="o">*</span> <span class="n">pos</span>
            <span class="n">pos</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># post-increment equivalent in Python</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># If v1 is not 0, use pos for the first term, increment pos,</span>
            <span class="c1"># then use the new value of pos for the second term</span>
            <span class="c1"># This effectively increases pos by 2 in this branch</span>
            <span class="n">_sum</span> <span class="o">+=</span> <span class="n">pos</span> <span class="o">*</span> <span class="n">v1</span>
            <span class="n">pos</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># increment for the first term</span>
            <span class="n">_sum</span> <span class="o">+=</span> <span class="n">v2</span> <span class="o">*</span> <span class="n">pos</span>  <span class="c1"># use incremented pos for the second term</span>
            <span class="n">pos</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># increment for the second term</span>

        <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;i: </span><span class="si">{</span><span class="n">i</span><span class="si">:</span><span class="s2">2</span><span class="si">}</span><span class="s2"> pos: </span><span class="si">{</span><span class="n">pos</span><span class="si">:</span><span class="s2">2</span><span class="si">}</span><span class="s2"> x: </span><span class="si">{</span><span class="n">x</span><span class="si">:</span><span class="s2">2</span><span class="si">}</span><span class="s2"> v1: </span><span class="si">{</span><span class="n">v1</span><span class="si">:</span><span class="s2">2</span><span class="si">}</span><span class="s2"> v2: </span><span class="si">{</span><span class="n">v2</span><span class="si">:</span><span class="s2">2</span><span class="si">}</span><span class="s2"> sum: </span><span class="si">{</span><span class="n">_sum</span><span class="si">:</span><span class="s2">4</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Assuming v2 is not 0 at the end of your URN calculations</span>
    <span class="n">check_digit</span> <span class="o">=</span> <span class="p">(</span><span class="n">_sum</span> <span class="o">//</span> <span class="n">v2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">10</span>  <span class="c1"># Using integer division for floor behavior</span>

    <span class="k">return</span> <span class="n">check_digit</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.utils" class="doc doc-heading">
            <code>utils</code>


</h2>

    <div class="doc doc-contents ">



  <div class="doc doc-children">










<div class="doc doc-object doc-module">



<h3 id="ceurws.utils.download" class="doc doc-heading">
            <code>download</code>


</h3>

    <div class="doc doc-contents ">

      <p>Created on 2021-08-21</p>
<p>this is a redundant copy see e.g. https://github.com/WolfgangFahl/ConferenceCorpus/blob/main/corpus/utils/download.py</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="ceurws.utils.download.Download" class="doc doc-heading">
            <code>Download</code>


</h4>


    <div class="doc doc-contents ">


      <p>Utility functions for downloading data</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/utils/download.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Download</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Utility functions for downloading data</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">getURLContent</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">as</span> <span class="n">urlResponse</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">urlResponse</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">content</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">getFileContent</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">content</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">needsDownload</span><span class="p">(</span><span class="n">filePath</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check if a download of the given filePath is necessary that is the file</span>
<span class="sd">        does not exist has a size of zero or the download should be forced</span>

<span class="sd">        Args:</span>
<span class="sd">            filePath(str): the path of the file to be checked</span>
<span class="sd">            force(bool): True if the result should be forced to True</span>

<span class="sd">        Return:</span>
<span class="sd">            bool: True if  a download for this file needed</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">filePath</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
            <span class="n">result</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">stats</span> <span class="o">=</span> <span class="n">filePath</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span>
            <span class="n">size</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">st_size</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">force</span> <span class="ow">or</span> <span class="n">size</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">downloadBackupFile</span><span class="p">(</span>
        <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">fileName</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">targetDirectory</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">profile</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Downloads from the given url the zip-file and extracts the file corresponding to the given fileName.</span>

<span class="sd">        Args:</span>
<span class="sd">            url: url linking to a downloadable gzip file</span>
<span class="sd">            fileName: Name of the file that should be extracted from gzip file</span>
<span class="sd">            targetDirectory(str): download the file to this directory</span>
<span class="sd">            force (bool): True if the download should be forced</span>
<span class="sd">            profile(bool): if True show profiling information</span>

<span class="sd">        Returns:</span>
<span class="sd">            Name of the extracted file with path to the backup directory</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">extractTo</span> <span class="o">=</span> <span class="n">targetDirectory</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>
        <span class="n">zipped</span> <span class="o">=</span> <span class="n">targetDirectory</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fileName</span><span class="si">}</span><span class="s2">.gz&quot;</span><span class="p">)</span>
        <span class="c1"># we might want to check whether a new version is available</span>
        <span class="k">if</span> <span class="n">Download</span><span class="o">.</span><span class="n">needsDownload</span><span class="p">(</span><span class="n">extractTo</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">targetDirectory</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
                <span class="n">targetDirectory</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Downloading </span><span class="si">{</span><span class="n">zipped</span><span class="si">}</span><span class="s2"> from </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2"> ... this might take a few seconds ...&quot;</span>
            <span class="n">profiler</span> <span class="o">=</span> <span class="n">Profiler</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">,</span> <span class="n">profile</span><span class="o">=</span><span class="n">profile</span><span class="p">)</span>
            <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">zipped</span><span class="p">)</span>
            <span class="n">profiler</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="n">extraMsg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot; unzipping </span><span class="si">{</span><span class="n">extractTo</span><span class="si">}</span><span class="s2"> from </span><span class="si">{</span><span class="n">zipped</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">gzip</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">zipped</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">gzipped</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="n">extractTo</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">unzipped</span><span class="p">:</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">copyfileobj</span><span class="p">(</span><span class="n">gzipped</span><span class="p">,</span> <span class="n">unzipped</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">extractTo</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;could not extract </span><span class="si">{</span><span class="n">fileName</span><span class="si">}</span><span class="s2"> from </span><span class="si">{</span><span class="n">zipped</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">extractTo</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ceurws.utils.download.Download.downloadBackupFile" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">downloadBackupFile</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">fileName</span><span class="p">,</span> <span class="n">targetDirectory</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">profile</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

      <p>Downloads from the given url the zip-file and extracts the file corresponding to the given fileName.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>url</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>url linking to a downloadable gzip file</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>fileName</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the file that should be extracted from gzip file</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>targetDirectory(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>download the file to this directory</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>force</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the download should be forced</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>profile(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True show profiling information</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the extracted file with path to the backup directory</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/utils/download.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">downloadBackupFile</span><span class="p">(</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">fileName</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">targetDirectory</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span>
    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">profile</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Downloads from the given url the zip-file and extracts the file corresponding to the given fileName.</span>

<span class="sd">    Args:</span>
<span class="sd">        url: url linking to a downloadable gzip file</span>
<span class="sd">        fileName: Name of the file that should be extracted from gzip file</span>
<span class="sd">        targetDirectory(str): download the file to this directory</span>
<span class="sd">        force (bool): True if the download should be forced</span>
<span class="sd">        profile(bool): if True show profiling information</span>

<span class="sd">    Returns:</span>
<span class="sd">        Name of the extracted file with path to the backup directory</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">extractTo</span> <span class="o">=</span> <span class="n">targetDirectory</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="n">fileName</span><span class="p">)</span>
    <span class="n">zipped</span> <span class="o">=</span> <span class="n">targetDirectory</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fileName</span><span class="si">}</span><span class="s2">.gz&quot;</span><span class="p">)</span>
    <span class="c1"># we might want to check whether a new version is available</span>
    <span class="k">if</span> <span class="n">Download</span><span class="o">.</span><span class="n">needsDownload</span><span class="p">(</span><span class="n">extractTo</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">targetDirectory</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
            <span class="n">targetDirectory</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Downloading </span><span class="si">{</span><span class="n">zipped</span><span class="si">}</span><span class="s2"> from </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2"> ... this might take a few seconds ...&quot;</span>
        <span class="n">profiler</span> <span class="o">=</span> <span class="n">Profiler</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">,</span> <span class="n">profile</span><span class="o">=</span><span class="n">profile</span><span class="p">)</span>
        <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">zipped</span><span class="p">)</span>
        <span class="n">profiler</span><span class="o">.</span><span class="n">time</span><span class="p">(</span><span class="n">extraMsg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot; unzipping </span><span class="si">{</span><span class="n">extractTo</span><span class="si">}</span><span class="s2"> from </span><span class="si">{</span><span class="n">zipped</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">gzip</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">zipped</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">gzipped</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="n">extractTo</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">unzipped</span><span class="p">:</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copyfileobj</span><span class="p">(</span><span class="n">gzipped</span><span class="p">,</span> <span class="n">unzipped</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">extractTo</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;could not extract </span><span class="si">{</span><span class="n">fileName</span><span class="si">}</span><span class="s2"> from </span><span class="si">{</span><span class="n">zipped</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">extractTo</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.utils.download.Download.needsDownload" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">needsDownload</span><span class="p">(</span><span class="n">filePath</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>


    <div class="doc doc-contents ">

      <p>check if a download of the given filePath is necessary that is the file
does not exist has a size of zero or the download should be forced</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>filePath(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the path of the file to be checked</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>force(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the result should be forced to True</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="return" open>
  <summary>Return</summary>
  <p>bool: True if  a download for this file needed</p>
</details>
            <details class="quote">
              <summary>Source code in <code>ceurws/utils/download.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">needsDownload</span><span class="p">(</span><span class="n">filePath</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    check if a download of the given filePath is necessary that is the file</span>
<span class="sd">    does not exist has a size of zero or the download should be forced</span>

<span class="sd">    Args:</span>
<span class="sd">        filePath(str): the path of the file to be checked</span>
<span class="sd">        force(bool): True if the result should be forced to True</span>

<span class="sd">    Return:</span>
<span class="sd">        bool: True if  a download for this file needed</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">filePath</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
        <span class="n">result</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">stats</span> <span class="o">=</span> <span class="n">filePath</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">st_size</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">force</span> <span class="ow">or</span> <span class="n">size</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ceurws.utils.download.Profiler" class="doc doc-heading">
            <code>Profiler</code>


</h4>


    <div class="doc doc-contents ">


      <p>simple profiler</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/utils/download.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Profiler</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    simple profiler</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">profile</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        construct me with the given msg and profile active flag</span>

<span class="sd">        Args:</span>
<span class="sd">            msg(str): the message to show if profiling is active</span>
<span class="sd">            profile(bool): True if messages should be shown</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">msg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">profile</span> <span class="o">=</span> <span class="n">profile</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">profile</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Starting </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2"> ...&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extraMsg</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        time the action and print if profile is active</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">elapsed</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">profile</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">msg</span><span class="si">}{</span><span class="n">extraMsg</span><span class="si">}</span><span class="s2"> took </span><span class="si">{</span><span class="n">elapsed</span><span class="si">:</span><span class="s2">5.1f</span><span class="si">}</span><span class="s2"> s&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">elapsed</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ceurws.utils.download.Profiler.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">profile</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p>construct me with the given msg and profile active flag</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>msg(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the message to show if profiling is active</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>profile(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if messages should be shown</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/utils/download.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">profile</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    construct me with the given msg and profile active flag</span>

<span class="sd">    Args:</span>
<span class="sd">        msg(str): the message to show if profiling is active</span>
<span class="sd">        profile(bool): True if messages should be shown</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">msg</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">profile</span> <span class="o">=</span> <span class="n">profile</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">profile</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Starting </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2"> ...&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.utils.download.Profiler.time" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">time</span><span class="p">(</span><span class="n">extraMsg</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p>time the action and print if profile is active</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/utils/download.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extraMsg</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    time the action and print if profile is active</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">elapsed</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">starttime</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">profile</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">msg</span><span class="si">}{</span><span class="n">extraMsg</span><span class="si">}</span><span class="s2"> took </span><span class="si">{</span><span class="n">elapsed</span><span class="si">:</span><span class="s2">5.1f</span><span class="si">}</span><span class="s2"> s&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">elapsed</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h3 id="ceurws.utils.webscrape" class="doc doc-heading">
            <code>webscrape</code>


</h3>

    <div class="doc doc-contents ">

      <p>Created on 2020-08-20</p>
<p>@author: wf</p>
<p>this is a redundant copy of the sources at https://github.com/WolfgangFahl/ConferenceCorpus/blob/main/corpus/datasources/webscrape.py</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h4 id="ceurws.utils.webscrape.ScrapeDescription" class="doc doc-heading">
            <code>ScrapeDescription</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">


      <p>Description of rdfa elements to scrape</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/utils/webscrape.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">ScrapeDescription</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description of rdfa elements to scrape</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">tag</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># the tag to search</span>
    <span class="n">attribute</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># the attribute to expect</span>
    <span class="n">value</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># the value to expect</span>
    <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># do we expect multiple elements?</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h4 id="ceurws.utils.webscrape.WebScrape" class="doc doc-heading">
            <code>WebScrape</code>


</h4>


    <div class="doc doc-contents ">


      <p>WebScraper
with a rudimentary Parser for https://en.wikipedia.org/wiki/RDFa
extended for CEUR-WS and WikiCFP specific scraping</p>
<p>https://stackoverflow.com/questions/21876602/what-does-the-html-typeof-attribute-do
https://de.wikipedia.org/wiki/RDFa
https://stackoverflow.com/questions/20767903/parsing-rdfa-in-html-xhtml
https://www.w3.org/MarkUp/2009/rdfa-for-html-authors</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/utils/webscrape.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">WebScrape</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    WebScraper</span>
<span class="sd">    with a rudimentary Parser for https://en.wikipedia.org/wiki/RDFa</span>
<span class="sd">    extended for CEUR-WS and WikiCFP specific scraping</span>

<span class="sd">    https://stackoverflow.com/questions/21876602/what-does-the-html-typeof-attribute-do</span>
<span class="sd">    https://de.wikipedia.org/wiki/RDFa</span>
<span class="sd">    https://stackoverflow.com/questions/20767903/parsing-rdfa-in-html-xhtml</span>
<span class="sd">    https://www.w3.org/MarkUp/2009/rdfa-for-html-authors</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">showHtml</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
        <span class="n">agent</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Mozilla/5.0&quot;</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor</span>

<span class="sd">        Args:</span>
<span class="sd">            debug(bool): if True show debugging information</span>
<span class="sd">            showHtml(bool): if True show the HTML retrieved</span>
<span class="sd">            timeout(float): the default timeout</span>
<span class="sd">            agent(str): the agent to mimic</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">err</span><span class="p">:</span> <span class="ne">Exception</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valid</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">showHtml</span> <span class="o">=</span> <span class="n">showHtml</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">agent</span> <span class="o">=</span> <span class="n">agent</span>

    <span class="k">def</span> <span class="nf">findLinkForRegexp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">regex</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        find a link for the given regular expression</span>

<span class="sd">        Args:</span>
<span class="sd">            regex(str): the regular expression to find a link for</span>

<span class="sd">        Return:</span>
<span class="sd">            m(object),text(str): the match/text tuple or None,None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">m</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">text</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">regex</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">link</span><span class="p">:</span>
            <span class="n">href</span> <span class="o">=</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;href&quot;</span><span class="p">]</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">href</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">):</span>
                <span class="n">text</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">text</span>
        <span class="k">return</span> <span class="n">m</span><span class="p">,</span> <span class="n">text</span>

    <span class="k">def</span> <span class="nf">fromTag</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">soup</span><span class="p">:</span> <span class="n">BeautifulSoup</span><span class="p">,</span>
        <span class="n">tag</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">attr</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get metadata from a given tag, attribute and value</span>
<span class="sd">        e.g. &lt;span class=&quot;CEURVOLACRONYM&quot;&gt;DL4KG2020&lt;/span&gt;</span>

<span class="sd">        tag=span, attr=class, value=CEURVOLACRONYM</span>

<span class="sd">        Args:</span>
<span class="sd">           soup(BeautifulSoup): the parser to work with</span>
<span class="sd">           tag(string): the tag to search</span>
<span class="sd">           attr(string): the attribute to expect</span>
<span class="sd">           value(string): the value to expect</span>
<span class="sd">           multi(bool): if True - return multiple values</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># https://stackoverflow.com/a/16248908/1497139</span>
        <span class="c1"># find a list of all tag elements</span>
        <span class="k">if</span> <span class="n">attr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">nodes</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="p">{</span><span class="n">attr</span><span class="p">:</span> <span class="n">value</span><span class="p">})</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">nodes</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">multi</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">lines</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">getSoup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">showHtml</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BeautifulSoup</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the beautiful Soup parser</span>

<span class="sd">        Args:</span>
<span class="sd">           url(str): the url to open</span>
<span class="sd">           showHtml(bool): if True  the html code should be pretty printed and shown</span>
<span class="sd">           debug(bool): if True debug info should be printed</span>
<span class="sd">        Return:</span>
<span class="sd">            BeautifulSoup: the html parser</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">html</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_html_from_url</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">)</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_soup_from_string</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="n">show_html</span><span class="o">=</span><span class="n">showHtml</span><span class="p">)</span> <span class="k">if</span> <span class="n">html</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">soup</span>

    <span class="k">def</span> <span class="nf">get_soup_from_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">html</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">show_html</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BeautifulSoup</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the beautiful Soup parser for the given html string</span>

<span class="sd">        Args:</span>
<span class="sd">            html: html content to parse</span>
<span class="sd">            show_html: True if the html code should be pretty printed and shown</span>

<span class="sd">        Returns:</span>
<span class="sd">            BeautifulSoup: the html parser</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">show_html</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">printPrettyHtml</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">soup</span>

    <span class="k">def</span> <span class="nf">printPrettyHtml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        print the prettified html for the given soup</span>

<span class="sd">        Args:</span>
<span class="sd">            soup(BeuatifulSoup): the parsed html to print</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">prettyHtml</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">prettify</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">prettyHtml</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">parseWithScrapeDescription</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">soup</span><span class="p">:</span> <span class="n">BeautifulSoup</span><span class="p">,</span>
        <span class="n">scrapeDescr</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;ScrapeDescription&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        parse the given url with the given encoding</span>
<span class="sd">        Args:</span>
<span class="sd">            soup: html parser to parse the content from</span>
<span class="sd">            scrapeDescr: description of the</span>

<span class="sd">        Return:</span>
<span class="sd">             a dict with the results</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">scrapeDict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scrapeDescr</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">scrapeItem</span> <span class="ow">in</span> <span class="n">scrapeDescr</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromTag</span><span class="p">(</span>
                    <span class="n">soup</span><span class="p">,</span>
                    <span class="n">scrapeItem</span><span class="o">.</span><span class="n">tag</span><span class="p">,</span>
                    <span class="n">scrapeItem</span><span class="o">.</span><span class="n">attribute</span><span class="p">,</span>
                    <span class="n">scrapeItem</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                    <span class="n">multi</span><span class="o">=</span><span class="n">scrapeItem</span><span class="o">.</span><span class="n">multi</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">scrapeDict</span><span class="p">[</span><span class="n">scrapeItem</span><span class="o">.</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valid</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="n">scrapeDict</span>

    <span class="k">def</span> <span class="nf">parseRDFa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        rudimentary RDFa parsing</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">triples</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">soup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSoup</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">showHtml</span><span class="p">)</span>
            <span class="n">subjectNodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;typeof&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
            <span class="k">for</span> <span class="n">subjectNode</span> <span class="ow">in</span> <span class="n">subjectNodes</span><span class="p">:</span>
                <span class="n">subject</span> <span class="o">=</span> <span class="n">subjectNode</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;typeof&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">subjectNode</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">predicateNode</span> <span class="ow">in</span> <span class="n">subjectNode</span><span class="o">.</span><span class="n">find_all</span><span class="p">():</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="k">if</span> <span class="s2">&quot;content&quot;</span> <span class="ow">in</span> <span class="n">predicateNode</span><span class="o">.</span><span class="n">attrs</span><span class="p">:</span>
                        <span class="n">value</span> <span class="o">=</span> <span class="n">predicateNode</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">value</span> <span class="o">=</span> <span class="n">predicateNode</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
                    <span class="k">if</span> <span class="s2">&quot;property&quot;</span> <span class="ow">in</span> <span class="n">predicateNode</span><span class="o">.</span><span class="n">attrs</span><span class="p">:</span>
                        <span class="n">name</span> <span class="o">=</span> <span class="n">predicateNode</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;property&quot;</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">triples</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">subject</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">valid</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="n">HTTPError</span> <span class="k">as</span> <span class="n">herr</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">err</span> <span class="o">=</span> <span class="n">herr</span>
        <span class="k">except</span> <span class="n">urllib</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">URLError</span> <span class="k">as</span> <span class="n">terr</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">err</span> <span class="o">=</span> <span class="n">terr</span>
        <span class="k">return</span> <span class="n">triples</span>

    <span class="k">def</span> <span class="nf">get_html_from_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the html response from the given url</span>
<span class="sd">        Args:</span>
<span class="sd">            url: url to the get the content from</span>
<span class="sd">            debug(bool): if True show non available volumes</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: content of the url as string</span>
<span class="sd">            bytes: If the content of the url contains encoding errors</span>
<span class="sd">            None: If the url is not reachable</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">req</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;User-Agent&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">agent</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">})</span>
        <span class="c1"># handle cookies</span>
        <span class="n">opener</span> <span class="o">=</span> <span class="n">build_opener</span><span class="p">(</span><span class="n">HTTPCookieProcessor</span><span class="p">())</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">opener</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">HTTPError</span> <span class="k">as</span> <span class="n">herr</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">err</span> <span class="o">=</span> <span class="n">herr</span>
            <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">url</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2"> not available&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get_content_charset</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">UnicodeDecodeError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ERROR: Could not properly decode the html code of &lt;</span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">&gt;&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">html</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h5 id="ceurws.utils.webscrape.WebScrape.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">showHtml</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">agent</span><span class="o">=</span><span class="s1">&#39;Mozilla/5.0&#39;</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p>Constructor</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>debug(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True show debugging information</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>showHtml(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True show the HTML retrieved</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>timeout(float)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the default timeout</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>agent(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the agent to mimic</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/utils/webscrape.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">showHtml</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
    <span class="n">agent</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Mozilla/5.0&quot;</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor</span>

<span class="sd">    Args:</span>
<span class="sd">        debug(bool): if True show debugging information</span>
<span class="sd">        showHtml(bool): if True show the HTML retrieved</span>
<span class="sd">        timeout(float): the default timeout</span>
<span class="sd">        agent(str): the agent to mimic</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">err</span><span class="p">:</span> <span class="ne">Exception</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">valid</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">showHtml</span> <span class="o">=</span> <span class="n">showHtml</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">agent</span> <span class="o">=</span> <span class="n">agent</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.utils.webscrape.WebScrape.findLinkForRegexp" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">findLinkForRegexp</span><span class="p">(</span><span class="n">regex</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p>find a link for the given regular expression</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>regex(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the regular expression to find a link for</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="return" open>
  <summary>Return</summary>
  <p>m(object),text(str): the match/text tuple or None,None</p>
</details>
            <details class="quote">
              <summary>Source code in <code>ceurws/utils/webscrape.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">findLinkForRegexp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">regex</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    find a link for the given regular expression</span>

<span class="sd">    Args:</span>
<span class="sd">        regex(str): the regular expression to find a link for</span>

<span class="sd">    Return:</span>
<span class="sd">        m(object),text(str): the match/text tuple or None,None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">m</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">text</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">regex</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">link</span><span class="p">:</span>
        <span class="n">href</span> <span class="o">=</span> <span class="n">link</span><span class="p">[</span><span class="s2">&quot;href&quot;</span><span class="p">]</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">href</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">):</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">text</span>
    <span class="k">return</span> <span class="n">m</span><span class="p">,</span> <span class="n">text</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.utils.webscrape.WebScrape.fromTag" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fromTag</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">attr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">multi</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p>get metadata from a given tag, attribute and value
e.g. <span class="CEURVOLACRONYM">DL4KG2020</span></p>
<p>tag=span, attr=class, value=CEURVOLACRONYM</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>soup(BeautifulSoup)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the parser to work with</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>tag(string)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the tag to search</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>attr(string)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the attribute to expect</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>value(string)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the value to expect</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>multi(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True - return multiple values</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/utils/webscrape.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">fromTag</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">soup</span><span class="p">:</span> <span class="n">BeautifulSoup</span><span class="p">,</span>
    <span class="n">tag</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">attr</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">multi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get metadata from a given tag, attribute and value</span>
<span class="sd">    e.g. &lt;span class=&quot;CEURVOLACRONYM&quot;&gt;DL4KG2020&lt;/span&gt;</span>

<span class="sd">    tag=span, attr=class, value=CEURVOLACRONYM</span>

<span class="sd">    Args:</span>
<span class="sd">       soup(BeautifulSoup): the parser to work with</span>
<span class="sd">       tag(string): the tag to search</span>
<span class="sd">       attr(string): the attribute to expect</span>
<span class="sd">       value(string): the value to expect</span>
<span class="sd">       multi(bool): if True - return multiple values</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># https://stackoverflow.com/a/16248908/1497139</span>
    <span class="c1"># find a list of all tag elements</span>
    <span class="k">if</span> <span class="n">attr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="p">{</span><span class="n">attr</span><span class="p">:</span> <span class="n">value</span><span class="p">})</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">multi</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">lines</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.utils.webscrape.WebScrape.getSoup" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getSoup</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">showHtml</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p>get the beautiful Soup parser</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>url(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the url to open</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>showHtml(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True  the html code should be pretty printed and shown</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>debug(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True debug info should be printed</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
      <p>Return:
    BeautifulSoup: the html parser</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/utils/webscrape.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getSoup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">showHtml</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BeautifulSoup</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the beautiful Soup parser</span>

<span class="sd">    Args:</span>
<span class="sd">       url(str): the url to open</span>
<span class="sd">       showHtml(bool): if True  the html code should be pretty printed and shown</span>
<span class="sd">       debug(bool): if True debug info should be printed</span>
<span class="sd">    Return:</span>
<span class="sd">        BeautifulSoup: the html parser</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">html</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_html_from_url</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">)</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_soup_from_string</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="n">show_html</span><span class="o">=</span><span class="n">showHtml</span><span class="p">)</span> <span class="k">if</span> <span class="n">html</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="n">soup</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.utils.webscrape.WebScrape.get_html_from_url" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_html_from_url</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p>Get the html response from the given url
Args:
    url: url to the get the content from
    debug(bool): if True show non available volumes</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str | bytes | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>content of the url as string</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>bytes</code></td>            <td>
                  <code>str | bytes | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the content of the url contains encoding errors</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>None</code></td>            <td>
                  <code>str | bytes | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the url is not reachable</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/utils/webscrape.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_html_from_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the html response from the given url</span>
<span class="sd">    Args:</span>
<span class="sd">        url: url to the get the content from</span>
<span class="sd">        debug(bool): if True show non available volumes</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: content of the url as string</span>
<span class="sd">        bytes: If the content of the url contains encoding errors</span>
<span class="sd">        None: If the url is not reachable</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">req</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;User-Agent&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">agent</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">})</span>
    <span class="c1"># handle cookies</span>
    <span class="n">opener</span> <span class="o">=</span> <span class="n">build_opener</span><span class="p">(</span><span class="n">HTTPCookieProcessor</span><span class="p">())</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">opener</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">HTTPError</span> <span class="k">as</span> <span class="n">herr</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">err</span> <span class="o">=</span> <span class="n">herr</span>
        <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">url</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2"> not available&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get_content_charset</span><span class="p">())</span>
    <span class="k">except</span> <span class="ne">UnicodeDecodeError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ERROR: Could not properly decode the html code of &lt;</span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">&gt;&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">html</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.utils.webscrape.WebScrape.get_soup_from_string" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_soup_from_string</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="n">show_html</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p>get the beautiful Soup parser for the given html string</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>html</code></td>
            <td>
                  <code>str | bytes</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>html content to parse</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>show_html</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the html code should be pretty printed and shown</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>BeautifulSoup</code></td>            <td>
                  <code><span title="bs4.BeautifulSoup">BeautifulSoup</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the html parser</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/utils/webscrape.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_soup_from_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">html</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">show_html</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BeautifulSoup</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the beautiful Soup parser for the given html string</span>

<span class="sd">    Args:</span>
<span class="sd">        html: html content to parse</span>
<span class="sd">        show_html: True if the html code should be pretty printed and shown</span>

<span class="sd">    Returns:</span>
<span class="sd">        BeautifulSoup: the html parser</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">show_html</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">printPrettyHtml</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">soup</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.utils.webscrape.WebScrape.parseRDFa" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parseRDFa</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p>rudimentary RDFa parsing</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/utils/webscrape.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parseRDFa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    rudimentary RDFa parsing</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">triples</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">soup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSoup</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">showHtml</span><span class="p">)</span>
        <span class="n">subjectNodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;typeof&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
        <span class="k">for</span> <span class="n">subjectNode</span> <span class="ow">in</span> <span class="n">subjectNodes</span><span class="p">:</span>
            <span class="n">subject</span> <span class="o">=</span> <span class="n">subjectNode</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;typeof&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">subjectNode</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">predicateNode</span> <span class="ow">in</span> <span class="n">subjectNode</span><span class="o">.</span><span class="n">find_all</span><span class="p">():</span>
                <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="s2">&quot;content&quot;</span> <span class="ow">in</span> <span class="n">predicateNode</span><span class="o">.</span><span class="n">attrs</span><span class="p">:</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">predicateNode</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">predicateNode</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span>
                <span class="k">if</span> <span class="s2">&quot;property&quot;</span> <span class="ow">in</span> <span class="n">predicateNode</span><span class="o">.</span><span class="n">attrs</span><span class="p">:</span>
                    <span class="n">name</span> <span class="o">=</span> <span class="n">predicateNode</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;property&quot;</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">triples</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">subject</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">valid</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="n">HTTPError</span> <span class="k">as</span> <span class="n">herr</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">err</span> <span class="o">=</span> <span class="n">herr</span>
    <span class="k">except</span> <span class="n">urllib</span><span class="o">.</span><span class="n">error</span><span class="o">.</span><span class="n">URLError</span> <span class="k">as</span> <span class="n">terr</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">err</span> <span class="o">=</span> <span class="n">terr</span>
    <span class="k">return</span> <span class="n">triples</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.utils.webscrape.WebScrape.parseWithScrapeDescription" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parseWithScrapeDescription</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="n">scrapeDescr</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p>parse the given url with the given encoding
Args:
    soup: html parser to parse the content from
    scrapeDescr: description of the</p>


<details class="return" open>
  <summary>Return</summary>
  <p>a dict with the results</p>
</details>
            <details class="quote">
              <summary>Source code in <code>ceurws/utils/webscrape.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parseWithScrapeDescription</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">soup</span><span class="p">:</span> <span class="n">BeautifulSoup</span><span class="p">,</span>
    <span class="n">scrapeDescr</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;ScrapeDescription&quot;</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    parse the given url with the given encoding</span>
<span class="sd">    Args:</span>
<span class="sd">        soup: html parser to parse the content from</span>
<span class="sd">        scrapeDescr: description of the</span>

<span class="sd">    Return:</span>
<span class="sd">         a dict with the results</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">scrapeDict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scrapeDescr</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">scrapeItem</span> <span class="ow">in</span> <span class="n">scrapeDescr</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromTag</span><span class="p">(</span>
                <span class="n">soup</span><span class="p">,</span>
                <span class="n">scrapeItem</span><span class="o">.</span><span class="n">tag</span><span class="p">,</span>
                <span class="n">scrapeItem</span><span class="o">.</span><span class="n">attribute</span><span class="p">,</span>
                <span class="n">scrapeItem</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="n">multi</span><span class="o">=</span><span class="n">scrapeItem</span><span class="o">.</span><span class="n">multi</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">scrapeDict</span><span class="p">[</span><span class="n">scrapeItem</span><span class="o">.</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">valid</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">scrapeDict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h5 id="ceurws.utils.webscrape.WebScrape.printPrettyHtml" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">printPrettyHtml</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span></code>

</h5>


    <div class="doc doc-contents ">

      <p>print the prettified html for the given soup</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>soup(BeuatifulSoup)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the parsed html to print</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/utils/webscrape.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">printPrettyHtml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    print the prettified html for the given soup</span>

<span class="sd">    Args:</span>
<span class="sd">        soup(BeuatifulSoup): the parsed html to print</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">prettyHtml</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">prettify</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">prettyHtml</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>


  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.version" class="doc doc-heading">
            <code>version</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 2022-09-11</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.version.Version" class="doc doc-heading">
            <code>Version</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">


      <p>Version handling for VolumeBrowser</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/version.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Version</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Version handling for VolumeBrowser</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;CEUR-WS Volume Browser&quot;</span>
    <span class="n">version</span> <span class="o">=</span> <span class="n">ceurws</span><span class="o">.</span><span class="n">__version__</span>
    <span class="n">date</span> <span class="o">=</span> <span class="s2">&quot;2022-08-14&quot;</span>
    <span class="n">updated</span> <span class="o">=</span> <span class="s2">&quot;2024-07-31&quot;</span>
    <span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;CEUR-WS Volume browser&quot;</span>

    <span class="n">authors</span> <span class="o">=</span> <span class="s2">&quot;Tim Holzheim, Wolfgang Fahl&quot;</span>

    <span class="n">doc_url</span> <span class="o">=</span> <span class="s2">&quot;https://wiki.bitplan.com/index.php/pyCEURmake&quot;</span>
    <span class="n">chat_url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/WolfgangFahl/pyCEURmake/discussions&quot;</span>
    <span class="n">cm_url</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/WolfgangFahl/pyCEURmake&quot;</span>

    <span class="n">license</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Copyright 2022 contributors. All rights reserved.</span>

<span class="s2">  Licensed under the Apache License 2.0</span>
<span class="s2">  http://www.apache.org/licenses/LICENSE-2.0</span>

<span class="s2">  Distributed on an &quot;AS IS&quot; basis without warranties</span>
<span class="s2">  or conditions of any kind, either express or implied.&quot;&quot;&quot;</span>
    <span class="n">longDescription</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> version </span><span class="si">{</span><span class="n">version</span><span class="si">}</span>
<span class="si">{</span><span class="n">description</span><span class="si">}</span>

<span class="s2">  Created by </span><span class="si">{</span><span class="n">authors</span><span class="si">}</span><span class="s2"> on </span><span class="si">{</span><span class="n">date</span><span class="si">}</span><span class="s2"> last updated </span><span class="si">{</span><span class="n">updated</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.view" class="doc doc-heading">
            <code>view</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 2024-02-23</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.view.View" class="doc doc-heading">
            <code>View</code>


</h3>


    <div class="doc doc-contents ">


      <p>generic View</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/view.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">View</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    generic View</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">noneValue</span> <span class="o">=</span> <span class="s2">&quot;-&quot;</span>
    <span class="n">wdPrefix</span> <span class="o">=</span> <span class="s2">&quot;http://www.wikidata.org/entity/&quot;</span>

    <span class="k">def</span> <span class="nf">getValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="n">View</span><span class="o">.</span><span class="n">noneValue</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">View</span><span class="o">.</span><span class="n">noneValue</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">getRowValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">row</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">View</span><span class="o">.</span><span class="n">noneValue</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">createLink</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        create a link from the given url and text</span>

<span class="sd">        Args:</span>
<span class="sd">            url(str): the url to create a link for</span>
<span class="sd">            text(str): the text to add for the link</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">link</span> <span class="o">=</span> <span class="n">Link</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;_blank&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">link</span>

    <span class="k">def</span> <span class="nf">createWdLink</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">wd_url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">View</span><span class="o">.</span><span class="n">wdPrefix</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">qid</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span><span class="n">wd_url</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">link</span>

    <span class="k">def</span> <span class="nf">get_dict_as_html_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="c1"># Convert the dictionary to a list of lists for tabulate</span>
        <span class="n">data_list</span> <span class="o">=</span> <span class="p">[[</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">]</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">data_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>

        <span class="c1"># Generate the HTML table</span>
        <span class="n">html_table</span> <span class="o">=</span> <span class="n">tabulate</span><span class="p">(</span><span class="n">data_list</span><span class="p">,</span> <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;html&quot;</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Key&quot;</span><span class="p">,</span> <span class="s2">&quot;Value&quot;</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">html_table</span>

    <span class="k">def</span> <span class="nf">createExternalLink</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">row</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">formatterUrl</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">emptyIfNone</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        create an ExternalLink for the given row entry with the given key, text and formatterUrl</span>

<span class="sd">        Args:</span>
<span class="sd">            row(dict): the row to extract the value from</span>
<span class="sd">            key(str): the key</span>
<span class="sd">            text(str): the text to display for the link</span>
<span class="sd">            formatterUrl(str): the prefix for the url to use</span>
<span class="sd">            emptyIfNone(bool): if True return empty string if value is Display.noneValue</span>

<span class="sd">        Returns:</span>
<span class="sd">            str - html link for external id</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getRowValue</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span> <span class="ow">or</span> <span class="n">value</span> <span class="o">==</span> <span class="n">View</span><span class="o">.</span><span class="n">noneValue</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">emptyIfNone</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">View</span><span class="o">.</span><span class="n">noneValue</span>

        <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">View</span><span class="o">.</span><span class="n">wdPrefix</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">View</span><span class="o">.</span><span class="n">wdPrefix</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">formatterUrl</span> <span class="o">+</span> <span class="n">value</span>
        <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">link</span>

    <span class="k">def</span> <span class="nf">createItemLink</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">separator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        create an item link</span>
<span class="sd">        Args:</span>
<span class="sd">            row: row object with the data</span>
<span class="sd">            key: key of the value for which the link is created</span>
<span class="sd">            separator: If not None split the value on the separator and create multiple links</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getRowValue</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="n">View</span><span class="o">.</span><span class="n">noneValue</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="n">itemLabel</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">Label&quot;</span><span class="p">]</span>
        <span class="n">itemLink</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="n">separator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">item_parts</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">separator</span><span class="p">)</span>
            <span class="n">itemLabel_parts</span> <span class="o">=</span> <span class="n">itemLabel</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">separator</span><span class="p">)</span>
            <span class="n">links</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">url</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">item_parts</span><span class="p">,</span> <span class="n">itemLabel_parts</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
                <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>
                <span class="n">links</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
            <span class="n">itemLink</span> <span class="o">=</span> <span class="s2">&quot;&lt;br&gt;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">links</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">itemLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">itemLabel</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">itemLink</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.view.View.createExternalLink" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">createExternalLink</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">formatterUrl</span><span class="p">,</span> <span class="n">emptyIfNone</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>create an ExternalLink for the given row entry with the given key, text and formatterUrl</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>row(dict)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the row to extract the value from</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>key(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the key</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>text(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the text to display for the link</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>formatterUrl(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the prefix for the url to use</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>emptyIfNone(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True return empty string if value is Display.noneValue</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>str - html link for external id</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">createExternalLink</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">row</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">formatterUrl</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">emptyIfNone</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    create an ExternalLink for the given row entry with the given key, text and formatterUrl</span>

<span class="sd">    Args:</span>
<span class="sd">        row(dict): the row to extract the value from</span>
<span class="sd">        key(str): the key</span>
<span class="sd">        text(str): the text to display for the link</span>
<span class="sd">        formatterUrl(str): the prefix for the url to use</span>
<span class="sd">        emptyIfNone(bool): if True return empty string if value is Display.noneValue</span>

<span class="sd">    Returns:</span>
<span class="sd">        str - html link for external id</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getRowValue</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span> <span class="ow">or</span> <span class="n">value</span> <span class="o">==</span> <span class="n">View</span><span class="o">.</span><span class="n">noneValue</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">emptyIfNone</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">View</span><span class="o">.</span><span class="n">noneValue</span>

    <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">View</span><span class="o">.</span><span class="n">wdPrefix</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">View</span><span class="o">.</span><span class="n">wdPrefix</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">formatterUrl</span> <span class="o">+</span> <span class="n">value</span>
    <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">link</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.view.View.createItemLink" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">createItemLink</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>create an item link
Args:
    row: row object with the data
    key: key of the value for which the link is created
    separator: If not None split the value on the separator and create multiple links</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">createItemLink</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">separator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    create an item link</span>
<span class="sd">    Args:</span>
<span class="sd">        row: row object with the data</span>
<span class="sd">        key: key of the value for which the link is created</span>
<span class="sd">        separator: If not None split the value on the separator and create multiple links</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getRowValue</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="n">View</span><span class="o">.</span><span class="n">noneValue</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">value</span>
    <span class="n">item</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
    <span class="n">itemLabel</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">Label&quot;</span><span class="p">]</span>
    <span class="n">itemLink</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">separator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">item_parts</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">separator</span><span class="p">)</span>
        <span class="n">itemLabel_parts</span> <span class="o">=</span> <span class="n">itemLabel</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">separator</span><span class="p">)</span>
        <span class="n">links</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">url</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">item_parts</span><span class="p">,</span> <span class="n">itemLabel_parts</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
            <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>
            <span class="n">links</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
        <span class="n">itemLink</span> <span class="o">=</span> <span class="s2">&quot;&lt;br&gt;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">links</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">itemLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">itemLabel</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">itemLink</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.view.View.createLink" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">createLink</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>create a link from the given url and text</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>url(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the url to create a link for</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>text(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the text to add for the link</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">createLink</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    create a link from the given url and text</span>

<span class="sd">    Args:</span>
<span class="sd">        url(str): the url to create a link for</span>
<span class="sd">        text(str): the text to add for the link</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">link</span> <span class="o">=</span> <span class="n">Link</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;_blank&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">link</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.volume_neo4j" class="doc doc-heading">
            <code>volume_neo4j</code>


</h2>

    <div class="doc doc-contents ">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.volume_neo4j.Editor" class="doc doc-heading">
            <code>Editor</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">


      <p>Represents an editor with their name and ORCID.</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/volume_neo4j.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Editor</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents an editor with their name and ORCID.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">orcid</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">likelihood</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">json_data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an Editor instance from JSON data.</span>

<span class="sd">        Args:</span>
<span class="sd">            json_data (dict): The JSON data representing the editor.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Editor: The Editor instance created from the JSON data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span> <span class="n">orcid</span><span class="o">=</span><span class="n">json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;orcid&quot;</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">search_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Search the editor by name using the ORCID API and calculate the likelihood.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://pub.orcid.org/v3.0/search/?q=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">}</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
                <span class="n">num_results</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;num-found&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">likelihood</span> <span class="o">=</span> <span class="n">num_results</span> <span class="o">/</span> <span class="mi">10</span>  <span class="c1"># Arbitrary calculation, adjust as needed</span>

    <span class="k">def</span> <span class="nf">create_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tx</span><span class="p">,</span> <span class="n">volume_node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an Editor node in Neo4j and establish a relationship with a Volume node.</span>

<span class="sd">        Args:</span>
<span class="sd">            tx: The Neo4j transaction.</span>
<span class="sd">            volume_node_id (int): The ID of the volume node.</span>

<span class="sd">        Returns:</span>
<span class="sd">            int: The ID of the created Editor node.</span>
<span class="sd">            None: if the editor could not be created</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        MATCH (v:Volume)</span>
<span class="s2">        WHERE id(v) = $volume_node_id</span>
<span class="s2">        CREATE (v)-[:HAS_EDITOR]-&gt;(e:Editor {name: $name, orcid: $orcid, likelihood: $likelihood})</span>
<span class="s2">        RETURN id(e) as node_id</span>
<span class="s2">        &quot;&quot;&quot;</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;volume_node_id&quot;</span><span class="p">:</span> <span class="n">volume_node_id</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;orcid&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">orcid</span><span class="p">,</span>
            <span class="s2">&quot;likelihood&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">likelihood</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">tx</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">parameters</span><span class="p">)</span>
        <span class="n">record</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">single</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">record</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">record</span><span class="p">[</span><span class="s2">&quot;node_id&quot;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_neo4j.Editor.create_node" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_node</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span> <span class="n">volume_node_id</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Create an Editor node in Neo4j and establish a relationship with a Volume node.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>tx</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Neo4j transaction.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>volume_node_id</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the volume node.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the created Editor node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>None</code></td>            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the editor could not be created</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_neo4j.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">create_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tx</span><span class="p">,</span> <span class="n">volume_node_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create an Editor node in Neo4j and establish a relationship with a Volume node.</span>

<span class="sd">    Args:</span>
<span class="sd">        tx: The Neo4j transaction.</span>
<span class="sd">        volume_node_id (int): The ID of the volume node.</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: The ID of the created Editor node.</span>
<span class="sd">        None: if the editor could not be created</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    MATCH (v:Volume)</span>
<span class="s2">    WHERE id(v) = $volume_node_id</span>
<span class="s2">    CREATE (v)-[:HAS_EDITOR]-&gt;(e:Editor {name: $name, orcid: $orcid, likelihood: $likelihood})</span>
<span class="s2">    RETURN id(e) as node_id</span>
<span class="s2">    &quot;&quot;&quot;</span>
    <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;volume_node_id&quot;</span><span class="p">:</span> <span class="n">volume_node_id</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="s2">&quot;orcid&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">orcid</span><span class="p">,</span>
        <span class="s2">&quot;likelihood&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">likelihood</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">tx</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">parameters</span><span class="p">)</span>
    <span class="n">record</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">single</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">record</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">record</span><span class="p">[</span><span class="s2">&quot;node_id&quot;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_neo4j.Editor.from_json" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_json</span><span class="p">(</span><span class="n">json_data</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>Create an Editor instance from JSON data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>json_data</code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The JSON data representing the editor.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Editor</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Editor instance created from the JSON data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_neo4j.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">json_data</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create an Editor instance from JSON data.</span>

<span class="sd">    Args:</span>
<span class="sd">        json_data (dict): The JSON data representing the editor.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Editor: The Editor instance created from the JSON data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">),</span> <span class="n">orcid</span><span class="o">=</span><span class="n">json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;orcid&quot;</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_neo4j.Editor.search_by_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">search_by_name</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Search the editor by name using the ORCID API and calculate the likelihood.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_neo4j.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">search_by_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Search the editor by name using the ORCID API and calculate the likelihood.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://pub.orcid.org/v3.0/search/?q=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">}</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="n">num_results</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;num-found&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">likelihood</span> <span class="o">=</span> <span class="n">num_results</span> <span class="o">/</span> <span class="mi">10</span>  <span class="c1"># Arbitrary calculation, adjust as needed</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.volume_neo4j.Location" class="doc doc-heading">
            <code>Location</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">


              <details class="quote">
                <summary>Source code in <code>ceurws/volume_neo4j.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Location</span><span class="p">:</span>
    <span class="n">city</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">country</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">date</span><span class="p">:</span> <span class="nb">str</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="n">location_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Location&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parse a location string of the format &quot;City, Country, Date&quot;</span>

<span class="sd">        Args:</span>
<span class="sd">            location_str: The location string to parse.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A Location object or None if the string could not be parsed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^(.*), (.*), (.*)$&quot;</span><span class="p">,</span> <span class="n">location_str</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
            <span class="n">city</span><span class="p">,</span> <span class="n">country</span><span class="p">,</span> <span class="n">date</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">Location</span><span class="p">(</span><span class="n">city</span><span class="p">,</span> <span class="n">country</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_neo4j.Location.parse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">location_str</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>Parse a location string of the format "City, Country, Date"</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>location_str</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The location string to parse.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="ceurws.volume_neo4j.Location" href="#ceurws.volume_neo4j.Location">Location</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Location object or None if the string could not be parsed.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_neo4j.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="n">location_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Location&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parse a location string of the format &quot;City, Country, Date&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        location_str: The location string to parse.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A Location object or None if the string could not be parsed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;^(.*), (.*), (.*)$&quot;</span><span class="p">,</span> <span class="n">location_str</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
        <span class="n">city</span><span class="p">,</span> <span class="n">country</span><span class="p">,</span> <span class="n">date</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">Location</span><span class="p">(</span><span class="n">city</span><span class="p">,</span> <span class="n">country</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.volume_neo4j.Neo4j" class="doc doc-heading">
            <code>Neo4j</code>


</h3>


    <div class="doc doc-contents ">


      <p>Neo4j wrapper class</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/volume_neo4j.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Neo4j</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Neo4j wrapper class</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">host</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostbyname</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">()),</span>
        <span class="n">bolt_port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">7687</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;neo4j&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">),</span>
        <span class="n">scheme</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;bolt&quot;</span><span class="p">,</span>
        <span class="n">encrypted</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        constructor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">host</span> <span class="o">=</span> <span class="n">host</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bolt_port</span> <span class="o">=</span> <span class="n">bolt_port</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">encrypted</span> <span class="o">=</span> <span class="n">encrypted</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scheme</span> <span class="o">=</span> <span class="n">scheme</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">uri</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">scheme</span><span class="si">}</span><span class="s2">://</span><span class="si">{</span><span class="n">host</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">bolt_port</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">Neo4j</span><span class="o">.</span><span class="n">is_port_available</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">bolt_port</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;port at </span><span class="si">{</span><span class="n">uri</span><span class="si">}</span><span class="s2"> not available&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">GraphDatabase</span><span class="o">.</span><span class="n">driver</span><span class="p">(</span><span class="n">uri</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span> <span class="n">encrypted</span><span class="o">=</span><span class="n">encrypted</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="n">ServiceUnavailable</span><span class="p">,</span> <span class="n">AuthError</span><span class="p">,</span> <span class="n">ConfigurationError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">e</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">is_port_available</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">sock</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span>
        <span class="n">sock</span><span class="o">.</span><span class="n">settimeout</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># 1 Second Timeout</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sock</span><span class="o">.</span><span class="n">connect</span><span class="p">((</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">sock</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_neo4j.Neo4j.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="n">socket</span><span class="o">.</span><span class="n">gethostbyname</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">()),</span> <span class="n">bolt_port</span><span class="o">=</span><span class="mi">7687</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;neo4j&#39;</span><span class="p">,</span> <span class="s1">&#39;password&#39;</span><span class="p">),</span> <span class="n">scheme</span><span class="o">=</span><span class="s1">&#39;bolt&#39;</span><span class="p">,</span> <span class="n">encrypted</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>constructor</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_neo4j.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">host</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostbyname</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">()),</span>
    <span class="n">bolt_port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">7687</span><span class="p">,</span>
    <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;neo4j&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">),</span>
    <span class="n">scheme</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;bolt&quot;</span><span class="p">,</span>
    <span class="n">encrypted</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    constructor</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">host</span> <span class="o">=</span> <span class="n">host</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bolt_port</span> <span class="o">=</span> <span class="n">bolt_port</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">encrypted</span> <span class="o">=</span> <span class="n">encrypted</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">scheme</span> <span class="o">=</span> <span class="n">scheme</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">uri</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">scheme</span><span class="si">}</span><span class="s2">://</span><span class="si">{</span><span class="n">host</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">bolt_port</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">Neo4j</span><span class="o">.</span><span class="n">is_port_available</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">bolt_port</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;port at </span><span class="si">{</span><span class="n">uri</span><span class="si">}</span><span class="s2"> not available&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">GraphDatabase</span><span class="o">.</span><span class="n">driver</span><span class="p">(</span><span class="n">uri</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">auth</span><span class="p">,</span> <span class="n">encrypted</span><span class="o">=</span><span class="n">encrypted</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="n">ServiceUnavailable</span><span class="p">,</span> <span class="n">AuthError</span><span class="p">,</span> <span class="n">ConfigurationError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">e</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.volume_neo4j.Volume" class="doc doc-heading">
            <code>Volume</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">


      <p>Represents a volume with its attributes.</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/volume_neo4j.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Volume</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a volume with its attributes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">acronym</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">loctime</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">editors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;Editor&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">json_data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a Volume instance from JSON data.</span>

<span class="sd">        Args:</span>
<span class="sd">            json_data (dict): The JSON data representing the volume.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Volume: The Volume instance created from the JSON data.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">editor_names</span> <span class="o">=</span> <span class="n">json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;editors&quot;</span><span class="p">)</span>
        <span class="n">editor_names</span> <span class="o">=</span> <span class="n">editor_names</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">editor_names</span> <span class="k">else</span> <span class="p">[]</span>
        <span class="n">editors</span> <span class="o">=</span> <span class="p">[</span><span class="n">Editor</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">editor_names</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">acronym</span><span class="o">=</span><span class="n">json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;acronym&quot;</span><span class="p">),</span>
            <span class="n">title</span><span class="o">=</span><span class="n">json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">),</span>
            <span class="n">loctime</span><span class="o">=</span><span class="n">json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;loctime&quot;</span><span class="p">),</span>
            <span class="n">editors</span><span class="o">=</span><span class="n">editors</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tx</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a Volume node in Neo4j.</span>

<span class="sd">        Args:</span>
<span class="sd">            tx: The Neo4j transaction.</span>

<span class="sd">        Returns:</span>
<span class="sd">            int: The ID of the created node.</span>
<span class="sd">            None: if the node was not created</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        CREATE (v:Volume {acronym: $acronym, title: $title, loctime: $loctime})</span>
<span class="s2">        RETURN id(v) as node_id</span>
<span class="s2">        &quot;&quot;&quot;</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;acronym&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">acronym</span><span class="p">,</span>
            <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
            <span class="s2">&quot;loctime&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">loctime</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">tx</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">parameters</span><span class="p">)</span>
        <span class="n">record</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">single</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">record</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">record</span><span class="p">[</span><span class="s2">&quot;node_id&quot;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">load_json_file</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;Volume&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load volumes from the source JSON file.</span>

<span class="sd">        Args:</span>
<span class="sd">            source (str): Path to the source JSON file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[Volume]: The list of loaded volumes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">source</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
            <span class="n">json_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

        <span class="n">volumes</span> <span class="o">=</span> <span class="p">[</span><span class="n">Volume</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">volume_data</span><span class="p">)</span> <span class="k">for</span> <span class="n">volume_data</span> <span class="ow">in</span> <span class="n">json_data</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">volumes</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">default_source</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the default source</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">default_source</span> <span class="o">=</span> <span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_DIR</span> <span class="o">/</span> <span class="s2">&quot;volumes.json&quot;</span>
        <span class="k">return</span> <span class="n">default_source</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">parse_args</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">argv</span><span class="p">:</span> <span class="nb">list</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parse command line arguments.</span>

<span class="sd">        Args:</span>
<span class="sd">            argv(list): command line arguments</span>

<span class="sd">        Returns:</span>
<span class="sd">            argparse.Namespace: The parsed command line arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">default_source</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">default_source</span><span class="p">()</span>
        <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Volume/Editor/Location Information&quot;</span><span class="p">)</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--source&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">default_source</span><span class="p">),</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Source JSON file path&quot;</span><span class="p">)</span>
        <span class="c1"># Add progress option</span>
        <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
            <span class="s2">&quot;--progress&quot;</span><span class="p">,</span>
            <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
            <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Display progress information&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">argv</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">argv</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="n">args</span> <span class="o">=</span> <span class="n">Volume</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>
        <span class="n">volumes</span> <span class="o">=</span> <span class="n">Volume</span><span class="o">.</span><span class="n">load_json_file</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>

        <span class="c1"># Connect to Neo4j</span>
        <span class="n">driver</span> <span class="o">=</span> <span class="n">GraphDatabase</span><span class="o">.</span><span class="n">driver</span><span class="p">(</span><span class="s2">&quot;bolt://localhost:7687&quot;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;neo4j&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">))</span>
        <span class="k">with</span> <span class="n">driver</span><span class="o">.</span><span class="n">session</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">volume</span> <span class="ow">in</span> <span class="n">volumes</span><span class="p">:</span>
                <span class="n">volume_node_id</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">create_node</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">editor</span> <span class="ow">in</span> <span class="n">volume</span><span class="o">.</span><span class="n">editors</span><span class="p">:</span>
                    <span class="n">editor</span><span class="o">.</span><span class="n">search_by_name</span><span class="p">()</span>
                    <span class="n">editor</span><span class="o">.</span><span class="n">create_node</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">volume_node_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_neo4j.Volume.create_node" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_node</span><span class="p">(</span><span class="n">tx</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Create a Volume node in Neo4j.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>tx</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Neo4j transaction.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The ID of the created node.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>None</code></td>            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the node was not created</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_neo4j.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">create_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tx</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a Volume node in Neo4j.</span>

<span class="sd">    Args:</span>
<span class="sd">        tx: The Neo4j transaction.</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: The ID of the created node.</span>
<span class="sd">        None: if the node was not created</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    CREATE (v:Volume {acronym: $acronym, title: $title, loctime: $loctime})</span>
<span class="s2">    RETURN id(v) as node_id</span>
<span class="s2">    &quot;&quot;&quot;</span>
    <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;acronym&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">acronym</span><span class="p">,</span>
        <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
        <span class="s2">&quot;loctime&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">loctime</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">tx</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">parameters</span><span class="p">)</span>
    <span class="n">record</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">single</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">record</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">record</span><span class="p">[</span><span class="s2">&quot;node_id&quot;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_neo4j.Volume.default_source" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">default_source</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>get the default source</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_neo4j.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">default_source</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the default source</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">default_source</span> <span class="o">=</span> <span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_DIR</span> <span class="o">/</span> <span class="s2">&quot;volumes.json&quot;</span>
    <span class="k">return</span> <span class="n">default_source</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_neo4j.Volume.from_json" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_json</span><span class="p">(</span><span class="n">json_data</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>Create a Volume instance from JSON data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>json_data</code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The JSON data representing the volume.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Volume</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Volume instance created from the JSON data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_neo4j.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">json_data</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a Volume instance from JSON data.</span>

<span class="sd">    Args:</span>
<span class="sd">        json_data (dict): The JSON data representing the volume.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Volume: The Volume instance created from the JSON data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">editor_names</span> <span class="o">=</span> <span class="n">json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;editors&quot;</span><span class="p">)</span>
    <span class="n">editor_names</span> <span class="o">=</span> <span class="n">editor_names</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">editor_names</span> <span class="k">else</span> <span class="p">[]</span>
    <span class="n">editors</span> <span class="o">=</span> <span class="p">[</span><span class="n">Editor</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">editor_names</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">acronym</span><span class="o">=</span><span class="n">json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;acronym&quot;</span><span class="p">),</span>
        <span class="n">title</span><span class="o">=</span><span class="n">json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">),</span>
        <span class="n">loctime</span><span class="o">=</span><span class="n">json_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;loctime&quot;</span><span class="p">),</span>
        <span class="n">editors</span><span class="o">=</span><span class="n">editors</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_neo4j.Volume.load_json_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load_json_file</span><span class="p">(</span><span class="n">source</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>Load volumes from the source JSON file.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>source</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to the source JSON file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[<a class="autorefs autorefs-internal" title="ceurws.volume_neo4j.Volume" href="#ceurws.volume_neo4j.Volume">Volume</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List[Volume]: The list of loaded volumes.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_neo4j.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">load_json_file</span><span class="p">(</span><span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;Volume&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load volumes from the source JSON file.</span>

<span class="sd">    Args:</span>
<span class="sd">        source (str): Path to the source JSON file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[Volume]: The list of loaded volumes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">source</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
        <span class="n">json_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

    <span class="n">volumes</span> <span class="o">=</span> <span class="p">[</span><span class="n">Volume</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">volume_data</span><span class="p">)</span> <span class="k">for</span> <span class="n">volume_data</span> <span class="ow">in</span> <span class="n">json_data</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">volumes</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_neo4j.Volume.parse_args" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_args</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>Parse command line arguments.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>argv(list)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>command line arguments</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>argparse.Namespace: The parsed command line arguments.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_neo4j.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">parse_args</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">argv</span><span class="p">:</span> <span class="nb">list</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parse command line arguments.</span>

<span class="sd">    Args:</span>
<span class="sd">        argv(list): command line arguments</span>

<span class="sd">    Returns:</span>
<span class="sd">        argparse.Namespace: The parsed command line arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">default_source</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">default_source</span><span class="p">()</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Volume/Editor/Location Information&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s2">&quot;--source&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">default_source</span><span class="p">),</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Source JSON file path&quot;</span><span class="p">)</span>
    <span class="c1"># Add progress option</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--progress&quot;</span><span class="p">,</span>
        <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Display progress information&quot;</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.volume_view" class="doc doc-heading">
            <code>volume_view</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 2024-02-23</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.volume_view.VolumeListView" class="doc doc-heading">
            <code>VolumeListView</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ceurws.view.View" href="#ceurws.view.View">View</a></code></p>


      <p>show a list of volumes a table</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/volume_view.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">VolumeListView</span><span class="p">(</span><span class="n">View</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    show a list of volumes a table</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">solution</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        constructor</span>

<span class="sd">        Args:</span>
<span class="sd">            solution: the solution</span>
<span class="sd">            parent: the parent UI container</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">solution</span> <span class="o">=</span> <span class="n">solution</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">wdSync</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dry_run</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ignore_errors</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_volume_lod</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setup_ui</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">setup_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        show my volumes as a list</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">ui</span><span class="o">.</span><span class="n">row</span><span class="p">()</span> <span class="k">as</span> <span class="bp">self</span><span class="o">.</span><span class="n">button_row</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">check_recently_added_volumes_button</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">ui</span><span class="o">.</span><span class="n">button</span><span class="p">(</span>
                        <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;cloud_download&quot;</span><span class="p">,</span>
                        <span class="n">on_click</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_check_recently_update_volumes_button_click</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="o">.</span><span class="n">classes</span><span class="p">(</span><span class="s2">&quot;btn btn-primary btn-sm col-1&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">tooltip</span><span class="p">(</span><span class="s2">&quot;check for recently added volumes&quot;</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wikidataButton</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">ui</span><span class="o">.</span><span class="n">button</span><span class="p">(</span>
                        <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;web&quot;</span><span class="p">,</span>
                        <span class="n">on_click</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onWikidataButtonClick</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="o">.</span><span class="n">classes</span><span class="p">(</span><span class="s2">&quot;btn btn-primary btn-sm col-1&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">tooltip</span><span class="p">(</span><span class="s2">&quot;Export to Wikidata&quot;</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dry_run_switch</span> <span class="o">=</span> <span class="n">ui</span><span class="o">.</span><span class="n">switch</span><span class="p">(</span><span class="s2">&quot;dry run&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">bind_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;dry_run&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ignore_errors_check_box</span> <span class="o">=</span> <span class="n">ui</span><span class="o">.</span><span class="n">checkbox</span><span class="p">(</span><span class="s2">&quot;ignore_errors&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ignore_errors</span><span class="p">)</span><span class="o">.</span><span class="n">bind_value</span><span class="p">(</span>
                    <span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;ignore_errors&quot;</span>
                <span class="p">)</span>
                <span class="k">pass</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="o">=</span> <span class="n">NiceguiProgressbar</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s2">&quot;added&quot;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;volume&quot;</span><span class="p">)</span>
            <span class="k">with</span> <span class="n">ui</span><span class="o">.</span><span class="n">row</span><span class="p">()</span> <span class="k">as</span> <span class="bp">self</span><span class="o">.</span><span class="n">log_row</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">log_view</span> <span class="o">=</span> <span class="n">ui</span><span class="o">.</span><span class="n">html</span><span class="p">()</span>
            <span class="k">with</span> <span class="n">ui</span><span class="o">.</span><span class="n">row</span><span class="p">()</span> <span class="k">as</span> <span class="bp">self</span><span class="o">.</span><span class="n">grid_row</span><span class="p">:</span>
                <span class="n">grid_config</span> <span class="o">=</span> <span class="n">GridConfig</span><span class="p">(</span><span class="n">key_col</span><span class="o">=</span><span class="s2">&quot;Vol&quot;</span><span class="p">,</span> <span class="n">multiselect</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span> <span class="o">=</span> <span class="n">ListOfDictsGrid</span><span class="p">(</span><span class="n">lod</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lod</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">grid_config</span><span class="p">)</span>
                <span class="c1"># Modify the columnDefs for the &quot;Title&quot; column after grid initialization</span>
                <span class="k">for</span> <span class="n">col_def</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span><span class="o">.</span><span class="n">ag_grid</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;columnDefs&quot;</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="n">col_def</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Title&quot;</span><span class="p">:</span>  <span class="c1"># Identify the &quot;Title&quot; column</span>
                        <span class="n">col_def</span><span class="p">[</span><span class="s2">&quot;maxWidth&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">400</span>  <span class="c1"># width in pixels</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span><span class="o">.</span><span class="n">sizeColumnsToFit</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">clear_msg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        clear the log_view with the given message</span>

<span class="sd">        Args:</span>
<span class="sd">            msg(str): the message to display</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">log_row</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_view</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">msg</span>

    <span class="k">def</span> <span class="nf">add_msg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">html_markup</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        add the given html_markup message to the log_view</span>

<span class="sd">        Args:</span>
<span class="sd">            msg(str): the html formatted message to add</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">log_row</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_view</span><span class="o">.</span><span class="n">content</span> <span class="o">+=</span> <span class="n">html_markup</span>

    <span class="k">def</span> <span class="nf">updateWikidataVolumes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selected_rows</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        update wikidata volumes for the selected rows</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">selected_rows</span><span class="p">)</span><span class="si">}</span><span class="s2"> Volumes selected&lt;br&gt;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clear_msg</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="c1"># First, sort selected_rows by the volume number in ascending order</span>
            <span class="n">sorted_rows</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">selected_rows</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;#&quot;</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">sorted_rows</span><span class="p">:</span>
                <span class="n">vol_number</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;#&quot;</span><span class="p">]</span>
                <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">volumesByNumber</span><span class="p">[</span><span class="n">vol_number</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_or_update_volume_in_wikidata</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">onWikidataButtonClick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        handle wikidata sync request</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">selected_rows</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span><span class="o">.</span><span class="n">get_selected_rows</span><span class="p">()</span>
        <span class="k">await</span> <span class="n">run</span><span class="o">.</span><span class="n">io_bound</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">updateWikidataVolumes</span><span class="p">,</span> <span class="n">selected_rows</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">check_recently_updated_volumes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check recently updated volumes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;checking CEUR-WS index.html for recently added volumes ...&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clear_msg</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
            <span class="p">(</span>
                <span class="n">volumesByNumber</span><span class="p">,</span>
                <span class="n">addedVolumeNumberList</span><span class="p">,</span>
            <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">getRecentlyAddedVolumeList</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&lt;br&gt;found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">addedVolumeNumberList</span><span class="p">)</span><span class="si">}</span><span class="s2"> new volumes&quot;</span><span class="p">)</span>
            <span class="n">total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">addedVolumeNumberList</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">total</span> <span class="o">=</span> <span class="n">total</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">volumeNumber</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">addedVolumeNumberList</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">storeVolumes</span><span class="p">()</span>
                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
                <span class="n">volume</span> <span class="o">=</span> <span class="n">volumesByNumber</span><span class="p">[</span><span class="n">volumeNumber</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">updateRecentlyAddedVolume</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">total</span><span class="p">)</span>
                <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/volume/</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">volume</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">acronym</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:</span><span class="si">{</span><span class="n">link</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">pass</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">storeVolumes</span><span class="p">()</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">grid_row</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_check_recently_update_volumes_button_click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        handle clicking of the refresh button to get recently added volumes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">await</span> <span class="n">run</span><span class="o">.</span><span class="n">io_bound</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_recently_updated_volumes</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">updateRecentlyAddedVolume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">total</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        update a recently added Volume</span>

<span class="sd">        Args:</span>
<span class="sd">            volume(Volume): the volume to update</span>
<span class="sd">            index(int): the relative index of the volume currently being added</span>
<span class="sd">            total(int): the total number of volumes currently being added</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">html_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&lt;br&gt;reading </span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">total</span><span class="si">}</span><span class="s2"> from </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="n">html_msg</span><span class="p">)</span>
        <span class="n">volume</span><span class="o">.</span><span class="n">extractValuesFromVolumePage</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">addVolume</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">update_value</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_volume_lod</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the list of dict of all volumes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lod</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">volumeList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">getList</span><span class="p">()</span>
        <span class="n">reverseVolumeList</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">volumeList</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">volume</span><span class="p">:</span> <span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">volume</span> <span class="ow">in</span> <span class="n">reverseVolumeList</span><span class="p">:</span>
            <span class="n">validMark</span> <span class="o">=</span> <span class="s2">&quot;✅&quot;</span> <span class="k">if</span> <span class="n">volume</span><span class="o">.</span><span class="n">valid</span> <span class="k">else</span> <span class="s2">&quot;❌&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lod</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">&quot;#&quot;</span><span class="p">:</span> <span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="p">,</span>
                    <span class="s2">&quot;Vol&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span><span class="n">volume</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">:</span><span class="s2">04</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;Acronym&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;acronym&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;Title&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;Loctime&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;loctime&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;Published&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;published&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;SubmittedBy&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;submittedBy&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;valid&quot;</span><span class="p">:</span> <span class="n">validMark</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_or_update_volume_in_wikidata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">Volume</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        add the given volume to wikidata or update it if it already exists</span>

<span class="sd">        Args:</span>
<span class="sd">            volume(Volume): the CEUR-WS volume to update proceedings and event entries for</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;trying to add Volume </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2"> to wikidata&quot;</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
                <span class="n">ui</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="n">msg</span> <span class="o">+</span> <span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">)</span>
            <span class="n">proceedingsWikidataId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createProceedingsItemFromVolume</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">proceedingsWikidataId</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">createEventItemAndLinkProceedings</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">proceedingsWikidataId</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&lt;br&gt;adding Volume </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2"> proceedings to wikidata failed&quot;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
                    <span class="n">ui</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">optional_login</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check if we need to login</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if write is enabled</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">write</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dry_run</span>
        <span class="k">if</span> <span class="n">write</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">login</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">write</span>

    <span class="k">def</span> <span class="nf">createProceedingsItemFromVolume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">Volume</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create wikidata item for proceedings of given volume</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">qId</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">write</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">optional_login</span><span class="p">()</span>
            <span class="c1"># check if already in wikidata → use URN</span>
            <span class="n">urn</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">urn</span>
            <span class="n">wdItems</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">getProceedingWdItemsByUrn</span><span class="p">(</span><span class="n">urn</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">wdItems</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">html</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Volume </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2"> already in Wikidata see &quot;</span>
                <span class="n">delim</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
                <span class="k">for</span> <span class="n">wdItem</span> <span class="ow">in</span> <span class="n">wdItems</span><span class="p">:</span>
                    <span class="n">qId</span> <span class="o">=</span> <span class="n">wdItem</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span><span class="n">wdItem</span><span class="p">,</span> <span class="n">qId</span><span class="p">)</span>
                    <span class="n">html</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">link</span><span class="si">}{</span><span class="n">delim</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="n">delim</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="n">html</span> <span class="o">+</span> <span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># A proceedings volume for the URN is not known → create wd entry</span>
                <span class="n">wdRecord</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">getWikidataProceedingsRecord</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dry_run</span><span class="p">:</span>
                    <span class="n">markup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dict_as_html_table</span><span class="p">(</span><span class="n">wdRecord</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="n">markup</span><span class="p">)</span>
                <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">addProceedingsToWikidata</span><span class="p">(</span><span class="n">wdRecord</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ignore_errors</span><span class="p">)</span>
                <span class="n">qId</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">qid</span>
                <span class="k">if</span> <span class="n">qId</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">proc_link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createWdLink</span><span class="p">(</span>
                        <span class="n">qId</span><span class="p">,</span>
                        <span class="sa">f</span><span class="s2">&quot;Proceedings entry for Vol </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">qId</span><span class="si">}</span><span class="s2"> was created&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="n">proc_link</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating wikidata Proceedings entry for Vol </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2"> failed&quot;</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">qId</span>

    <span class="k">def</span> <span class="nf">createEventItemAndLinkProceedings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">Volume</span><span class="p">,</span> <span class="n">proceedingsWikidataId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create event  wikidata item for given volume and link</span>
<span class="sd">        the proceedings with the event</span>

<span class="sd">        Args:</span>
<span class="sd">            volume(Volume): the volume for which to create the event item</span>
<span class="sd">            proceedingsWikidataId: wikidata id of the proceedings</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">write</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">optional_login</span><span class="p">()</span>
            <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">doCreateEventItemAndLinkProceedings</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">proceedingsWikidataId</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">write</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">qid</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;dblp&quot;</span><span class="p">:</span>
                        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://dblp.org/db/</span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">qid</span><span class="si">}</span><span class="s2">.html&quot;</span>
                        <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;dblp </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">qid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createWdLink</span><span class="p">(</span>
                            <span class="n">result</span><span class="o">.</span><span class="n">qid</span><span class="p">,</span>
                            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> for Vol </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">qid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="s2">&quot;&lt;br&gt;&quot;</span> <span class="o">+</span> <span class="n">link</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">msg</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="s2">&quot;&lt;br&gt;&quot;</span> <span class="o">+</span> <span class="n">result</span><span class="o">.</span><span class="n">msg</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;error </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeListView.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">solution</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>constructor</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>solution</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the solution</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>parent</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the parent UI container</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">solution</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    constructor</span>

<span class="sd">    Args:</span>
<span class="sd">        solution: the solution</span>
<span class="sd">        parent: the parent UI container</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">solution</span> <span class="o">=</span> <span class="n">solution</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">wdSync</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dry_run</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ignore_errors</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">get_volume_lod</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setup_ui</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeListView.add_msg" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_msg</span><span class="p">(</span><span class="n">html_markup</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>add the given html_markup message to the log_view</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>msg(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the html formatted message to add</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_msg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">html_markup</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    add the given html_markup message to the log_view</span>

<span class="sd">    Args:</span>
<span class="sd">        msg(str): the html formatted message to add</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">log_row</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_view</span><span class="o">.</span><span class="n">content</span> <span class="o">+=</span> <span class="n">html_markup</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeListView.add_or_update_volume_in_wikidata" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_or_update_volume_in_wikidata</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>add the given volume to wikidata or update it if it already exists</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>volume(Volume)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the CEUR-WS volume to update proceedings and event entries for</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_or_update_volume_in_wikidata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">Volume</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    add the given volume to wikidata or update it if it already exists</span>

<span class="sd">    Args:</span>
<span class="sd">        volume(Volume): the CEUR-WS volume to update proceedings and event entries for</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;trying to add Volume </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2"> to wikidata&quot;</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
            <span class="n">ui</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="n">msg</span> <span class="o">+</span> <span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">)</span>
        <span class="n">proceedingsWikidataId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createProceedingsItemFromVolume</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">proceedingsWikidataId</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">createEventItemAndLinkProceedings</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">proceedingsWikidataId</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&lt;br&gt;adding Volume </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2"> proceedings to wikidata failed&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
                <span class="n">ui</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeListView.check_recently_updated_volumes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_recently_updated_volumes</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>check recently updated volumes</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">check_recently_updated_volumes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    check recently updated volumes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;checking CEUR-WS index.html for recently added volumes ...&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_msg</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="p">(</span>
            <span class="n">volumesByNumber</span><span class="p">,</span>
            <span class="n">addedVolumeNumberList</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">getRecentlyAddedVolumeList</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&lt;br&gt;found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">addedVolumeNumberList</span><span class="p">)</span><span class="si">}</span><span class="s2"> new volumes&quot;</span><span class="p">)</span>
        <span class="n">total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">addedVolumeNumberList</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">total</span> <span class="o">=</span> <span class="n">total</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">volumeNumber</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">addedVolumeNumberList</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">storeVolumes</span><span class="p">()</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
            <span class="n">volume</span> <span class="o">=</span> <span class="n">volumesByNumber</span><span class="p">[</span><span class="n">volumeNumber</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">updateRecentlyAddedVolume</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">total</span><span class="p">)</span>
            <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/volume/</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">volume</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">acronym</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;:</span><span class="si">{</span><span class="n">link</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">pass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">storeVolumes</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">grid_row</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeListView.clear_msg" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clear_msg</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>clear the log_view with the given message</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>msg(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the message to display</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">clear_msg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    clear the log_view with the given message</span>

<span class="sd">    Args:</span>
<span class="sd">        msg(str): the message to display</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">log_row</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_view</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">msg</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeListView.createEventItemAndLinkProceedings" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">createEventItemAndLinkProceedings</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">proceedingsWikidataId</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Create event  wikidata item for given volume and link
the proceedings with the event</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>volume(Volume)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the volume for which to create the event item</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>proceedingsWikidataId</code></td>
            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wikidata id of the proceedings</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">createEventItemAndLinkProceedings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">Volume</span><span class="p">,</span> <span class="n">proceedingsWikidataId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create event  wikidata item for given volume and link</span>
<span class="sd">    the proceedings with the event</span>

<span class="sd">    Args:</span>
<span class="sd">        volume(Volume): the volume for which to create the event item</span>
<span class="sd">        proceedingsWikidataId: wikidata id of the proceedings</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">write</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">optional_login</span><span class="p">()</span>
        <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">doCreateEventItemAndLinkProceedings</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">proceedingsWikidataId</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">write</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">qid</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;dblp&quot;</span><span class="p">:</span>
                    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://dblp.org/db/</span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">qid</span><span class="si">}</span><span class="s2">.html&quot;</span>
                    <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;dblp </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">qid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createWdLink</span><span class="p">(</span>
                        <span class="n">result</span><span class="o">.</span><span class="n">qid</span><span class="p">,</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> for Vol </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">qid</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="s2">&quot;&lt;br&gt;&quot;</span> <span class="o">+</span> <span class="n">link</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">msg</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="s2">&quot;&lt;br&gt;&quot;</span> <span class="o">+</span> <span class="n">result</span><span class="o">.</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;error </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">error</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeListView.createProceedingsItemFromVolume" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">createProceedingsItemFromVolume</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Create wikidata item for proceedings of given volume</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">createProceedingsItemFromVolume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">Volume</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create wikidata item for proceedings of given volume</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">qId</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">write</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">optional_login</span><span class="p">()</span>
        <span class="c1"># check if already in wikidata → use URN</span>
        <span class="n">urn</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">urn</span>
        <span class="n">wdItems</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">getProceedingWdItemsByUrn</span><span class="p">(</span><span class="n">urn</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">wdItems</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">html</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Volume </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2"> already in Wikidata see &quot;</span>
            <span class="n">delim</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">for</span> <span class="n">wdItem</span> <span class="ow">in</span> <span class="n">wdItems</span><span class="p">:</span>
                <span class="n">qId</span> <span class="o">=</span> <span class="n">wdItem</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span><span class="n">wdItem</span><span class="p">,</span> <span class="n">qId</span><span class="p">)</span>
                <span class="n">html</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">link</span><span class="si">}{</span><span class="n">delim</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">delim</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="n">html</span> <span class="o">+</span> <span class="s2">&quot;&lt;br&gt;&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># A proceedings volume for the URN is not known → create wd entry</span>
            <span class="n">wdRecord</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">getWikidataProceedingsRecord</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dry_run</span><span class="p">:</span>
                <span class="n">markup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dict_as_html_table</span><span class="p">(</span><span class="n">wdRecord</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="n">markup</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">addProceedingsToWikidata</span><span class="p">(</span><span class="n">wdRecord</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ignore_errors</span><span class="p">)</span>
            <span class="n">qId</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">qid</span>
            <span class="k">if</span> <span class="n">qId</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">proc_link</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createWdLink</span><span class="p">(</span>
                    <span class="n">qId</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s2">&quot;Proceedings entry for Vol </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">qId</span><span class="si">}</span><span class="s2"> was created&quot;</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="n">proc_link</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating wikidata Proceedings entry for Vol </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2"> failed&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">errors</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">qId</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeListView.get_volume_lod" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_volume_lod</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>get the list of dict of all volumes</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_volume_lod</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the list of dict of all volumes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lod</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">volumeList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">getList</span><span class="p">()</span>
    <span class="n">reverseVolumeList</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">volumeList</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">volume</span><span class="p">:</span> <span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">volume</span> <span class="ow">in</span> <span class="n">reverseVolumeList</span><span class="p">:</span>
        <span class="n">validMark</span> <span class="o">=</span> <span class="s2">&quot;✅&quot;</span> <span class="k">if</span> <span class="n">volume</span><span class="o">.</span><span class="n">valid</span> <span class="k">else</span> <span class="s2">&quot;❌&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lod</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;#&quot;</span><span class="p">:</span> <span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="p">,</span>
                <span class="s2">&quot;Vol&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span><span class="n">volume</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">:</span><span class="s2">04</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">),</span>
                <span class="s2">&quot;Acronym&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;acronym&quot;</span><span class="p">),</span>
                <span class="s2">&quot;Title&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">),</span>
                <span class="s2">&quot;Loctime&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;loctime&quot;</span><span class="p">),</span>
                <span class="s2">&quot;Published&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;published&quot;</span><span class="p">),</span>
                <span class="s2">&quot;SubmittedBy&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getValue</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;submittedBy&quot;</span><span class="p">),</span>
                <span class="s2">&quot;valid&quot;</span><span class="p">:</span> <span class="n">validMark</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeListView.onWikidataButtonClick" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">onWikidataButtonClick</span><span class="p">(</span><span class="n">_args</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>handle wikidata sync request</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">onWikidataButtonClick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_args</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    handle wikidata sync request</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">selected_rows</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span><span class="o">.</span><span class="n">get_selected_rows</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">run</span><span class="o">.</span><span class="n">io_bound</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">updateWikidataVolumes</span><span class="p">,</span> <span class="n">selected_rows</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeListView.on_check_recently_update_volumes_button_click" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">on_check_recently_update_volumes_button_click</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>handle clicking of the refresh button to get recently added volumes</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">on_check_recently_update_volumes_button_click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    handle clicking of the refresh button to get recently added volumes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="n">run</span><span class="o">.</span><span class="n">io_bound</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_recently_updated_volumes</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeListView.optional_login" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">optional_login</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>check if we need to login</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if write is enabled</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">optional_login</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    check if we need to login</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if write is enabled</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">write</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dry_run</span>
    <span class="k">if</span> <span class="n">write</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">login</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">write</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeListView.setup_ui" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setup_ui</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>show my volumes as a list</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">setup_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    show my volumes as a list</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">ui</span><span class="o">.</span><span class="n">row</span><span class="p">()</span> <span class="k">as</span> <span class="bp">self</span><span class="o">.</span><span class="n">button_row</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">check_recently_added_volumes_button</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">ui</span><span class="o">.</span><span class="n">button</span><span class="p">(</span>
                    <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;cloud_download&quot;</span><span class="p">,</span>
                    <span class="n">on_click</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_check_recently_update_volumes_button_click</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="o">.</span><span class="n">classes</span><span class="p">(</span><span class="s2">&quot;btn btn-primary btn-sm col-1&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">tooltip</span><span class="p">(</span><span class="s2">&quot;check for recently added volumes&quot;</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wikidataButton</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">ui</span><span class="o">.</span><span class="n">button</span><span class="p">(</span>
                    <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;web&quot;</span><span class="p">,</span>
                    <span class="n">on_click</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onWikidataButtonClick</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="o">.</span><span class="n">classes</span><span class="p">(</span><span class="s2">&quot;btn btn-primary btn-sm col-1&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">tooltip</span><span class="p">(</span><span class="s2">&quot;Export to Wikidata&quot;</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dry_run_switch</span> <span class="o">=</span> <span class="n">ui</span><span class="o">.</span><span class="n">switch</span><span class="p">(</span><span class="s2">&quot;dry run&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">bind_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;dry_run&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ignore_errors_check_box</span> <span class="o">=</span> <span class="n">ui</span><span class="o">.</span><span class="n">checkbox</span><span class="p">(</span><span class="s2">&quot;ignore_errors&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ignore_errors</span><span class="p">)</span><span class="o">.</span><span class="n">bind_value</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;ignore_errors&quot;</span>
            <span class="p">)</span>
            <span class="k">pass</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span> <span class="o">=</span> <span class="n">NiceguiProgressbar</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s2">&quot;added&quot;</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;volume&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">ui</span><span class="o">.</span><span class="n">row</span><span class="p">()</span> <span class="k">as</span> <span class="bp">self</span><span class="o">.</span><span class="n">log_row</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_view</span> <span class="o">=</span> <span class="n">ui</span><span class="o">.</span><span class="n">html</span><span class="p">()</span>
        <span class="k">with</span> <span class="n">ui</span><span class="o">.</span><span class="n">row</span><span class="p">()</span> <span class="k">as</span> <span class="bp">self</span><span class="o">.</span><span class="n">grid_row</span><span class="p">:</span>
            <span class="n">grid_config</span> <span class="o">=</span> <span class="n">GridConfig</span><span class="p">(</span><span class="n">key_col</span><span class="o">=</span><span class="s2">&quot;Vol&quot;</span><span class="p">,</span> <span class="n">multiselect</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span> <span class="o">=</span> <span class="n">ListOfDictsGrid</span><span class="p">(</span><span class="n">lod</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lod</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">grid_config</span><span class="p">)</span>
            <span class="c1"># Modify the columnDefs for the &quot;Title&quot; column after grid initialization</span>
            <span class="k">for</span> <span class="n">col_def</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span><span class="o">.</span><span class="n">ag_grid</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;columnDefs&quot;</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">col_def</span><span class="p">[</span><span class="s2">&quot;field&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Title&quot;</span><span class="p">:</span>  <span class="c1"># Identify the &quot;Title&quot; column</span>
                    <span class="n">col_def</span><span class="p">[</span><span class="s2">&quot;maxWidth&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">400</span>  <span class="c1"># width in pixels</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span><span class="o">.</span><span class="n">sizeColumnsToFit</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeListView.updateRecentlyAddedVolume" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">updateRecentlyAddedVolume</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">total</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>update a recently added Volume</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>volume(Volume)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the volume to update</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>index(int)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the relative index of the volume currently being added</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>total(int)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the total number of volumes currently being added</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">updateRecentlyAddedVolume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">total</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    update a recently added Volume</span>

<span class="sd">    Args:</span>
<span class="sd">        volume(Volume): the volume to update</span>
<span class="sd">        index(int): the relative index of the volume currently being added</span>
<span class="sd">        total(int): the total number of volumes currently being added</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">html_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&lt;br&gt;reading </span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">total</span><span class="si">}</span><span class="s2"> from </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_msg</span><span class="p">(</span><span class="n">html_msg</span><span class="p">)</span>
    <span class="n">volume</span><span class="o">.</span><span class="n">extractValuesFromVolumePage</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">addVolume</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">progress_bar</span><span class="o">.</span><span class="n">update_value</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeListView.updateWikidataVolumes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">updateWikidataVolumes</span><span class="p">(</span><span class="n">selected_rows</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>update wikidata volumes for the selected rows</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">updateWikidataVolumes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selected_rows</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    update wikidata volumes for the selected rows</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">selected_rows</span><span class="p">)</span><span class="si">}</span><span class="s2"> Volumes selected&lt;br&gt;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_msg</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="c1"># First, sort selected_rows by the volume number in ascending order</span>
        <span class="n">sorted_rows</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">selected_rows</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;#&quot;</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">sorted_rows</span><span class="p">:</span>
            <span class="n">vol_number</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;#&quot;</span><span class="p">]</span>
            <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">volumesByNumber</span><span class="p">[</span><span class="n">vol_number</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_or_update_volume_in_wikidata</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
        <span class="k">pass</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.volume_view.VolumeView" class="doc doc-heading">
            <code>VolumeView</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ceurws.view.View" href="#ceurws.view.View">View</a></code></p>


      <p>displays a single volume</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/volume_view.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">VolumeView</span><span class="p">(</span><span class="n">View</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    displays a single volume</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">solution</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        constructor</span>

<span class="sd">        Args:</span>
<span class="sd">            solution: the solution</span>
<span class="sd">            parent: the parent UI container</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">solution</span> <span class="o">=</span> <span class="n">solution</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volumeToolBar</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">wdSync</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wdSpan</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">setup_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        setup my User Interface elements</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">ui</span><span class="o">.</span><span class="n">row</span><span class="p">()</span> <span class="k">as</span> <span class="bp">self</span><span class="o">.</span><span class="n">volumeToolBar</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">volumeRefreshButton</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">ui</span><span class="o">.</span><span class="n">button</span><span class="p">(</span>
                        <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;refresh&quot;</span><span class="p">,</span>
                        <span class="n">on_click</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onRefreshButtonClick</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="o">.</span><span class="n">classes</span><span class="p">(</span><span class="s2">&quot;btn btn-primary btn-sm col-1&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">tooltip</span><span class="p">(</span><span class="s2">&quot;Refresh from CEUR-WS Volume page&quot;</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">wikidataButton</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">ui</span><span class="o">.</span><span class="n">button</span><span class="p">(</span>
                        <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;web&quot;</span><span class="p">,</span>
                        <span class="n">on_click</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onWikidataButtonClick</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="o">.</span><span class="n">classes</span><span class="p">(</span><span class="s2">&quot;btn btn-primary btn-sm col-1&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">tooltip</span><span class="p">(</span><span class="s2">&quot;Export to Wikidata&quot;</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">header_view</span> <span class="o">=</span> <span class="n">ui</span><span class="o">.</span><span class="n">html</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iframe_view</span> <span class="o">=</span> <span class="n">ui</span><span class="o">.</span><span class="n">html</span><span class="p">()</span><span class="o">.</span><span class="n">classes</span><span class="p">(</span><span class="s2">&quot;w-full&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">style</span><span class="p">(</span><span class="s2">&quot;height: 80vh;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">updateWikidataSpan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qId</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">Volume</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        create a Wikidata Export span</span>

<span class="sd">        Args:</span>
<span class="sd">            a(): ancestor</span>
<span class="sd">            qId(str): wikidata item Q Identifier</span>
<span class="sd">            volume(Volume): the Volume</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSpan</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wdSpan</span> <span class="o">=</span> <span class="n">ui</span><span class="o">.</span><span class="n">html</span><span class="p">()</span>
        <span class="n">volume_link</span> <span class="o">=</span> <span class="n">Link</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">acronym</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">wd_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">itemUrl</span><span class="p">(</span><span class="n">qId</span><span class="p">)</span>
        <span class="n">wd_link</span> <span class="o">=</span> <span class="n">Link</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">wd_url</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">qId</span><span class="si">}</span><span class="s2"> &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wdSpan</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">volume_link</span><span class="si">}{</span><span class="n">wd_link</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">showVolume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">Volume</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        show the given volume</span>

<span class="sd">        Args:</span>
<span class="sd">            volume(Volume): the volume to show</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">volumeToolBar</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setup_ui</span><span class="p">()</span>

            <span class="n">wdProc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">getProceedingsForVolume</span><span class="p">(</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wikidataButton</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="n">wdProc</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="n">links</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">if</span> <span class="n">wdProc</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1"># wikidata proceedings link</span>
                <span class="n">itemLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span><span class="n">wdProc</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">],</span> <span class="s2">&quot;wikidataitem&quot;</span><span class="p">)</span>
                <span class="c1"># dblp proceedings link</span>
                <span class="n">dblpLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createExternalLink</span><span class="p">(</span>
                    <span class="n">wdProc</span><span class="p">,</span>
                    <span class="s2">&quot;dblpEventId&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;dblp&quot;</span><span class="p">,</span>
                    <span class="n">DblpEndpoint</span><span class="o">.</span><span class="n">DBLP_EVENT_PREFIX</span><span class="p">,</span>
                    <span class="n">emptyIfNone</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="c1"># k10plus proceedings link</span>
                <span class="n">k10PlusLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createExternalLink</span><span class="p">(</span>
                    <span class="n">wdProc</span><span class="p">,</span>
                    <span class="s2">&quot;ppnId&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;k10plus&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;https://opac.k10plus.de/DB=2.299/PPNSET?PPN=&quot;</span><span class="p">,</span>
                    <span class="n">emptyIfNone</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="c1"># scholia proceedings link</span>
                <span class="n">scholiaLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createExternalLink</span><span class="p">(</span>
                    <span class="n">wdProc</span><span class="p">,</span>
                    <span class="s2">&quot;item&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;scholia&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;https://scholia.toolforge.org/venue/&quot;</span><span class="p">,</span>
                    <span class="n">emptyIfNone</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="c1"># scholia event link</span>
                <span class="n">scholiaEventLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createExternalLink</span><span class="p">(</span>
                    <span class="n">wdProc</span><span class="p">,</span>
                    <span class="s2">&quot;event&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;event&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;https://scholia.toolforge.org/event/&quot;</span><span class="p">,</span>
                    <span class="n">emptyIfNone</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="c1"># scholia event series link</span>
                <span class="n">scholiaEventSeriesLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createExternalLink</span><span class="p">(</span>
                    <span class="n">wdProc</span><span class="p">,</span>
                    <span class="s2">&quot;eventSeries&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;series&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;https://scholia.toolforge.org/event-series/&quot;</span><span class="p">,</span>
                    <span class="n">emptyIfNone</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="c1"># scholia colocated with link</span>
                <span class="n">delim</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
                <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="p">[</span>
                    <span class="n">itemLink</span><span class="p">,</span>
                    <span class="n">dblpLink</span><span class="p">,</span>
                    <span class="n">k10PlusLink</span><span class="p">,</span>
                    <span class="n">scholiaLink</span><span class="p">,</span>
                    <span class="n">scholiaEventLink</span><span class="p">,</span>
                    <span class="n">scholiaEventSeriesLink</span><span class="p">,</span>
                <span class="p">]:</span>
                    <span class="k">if</span> <span class="n">link</span><span class="p">:</span>
                        <span class="n">links</span> <span class="o">+=</span> <span class="n">delim</span> <span class="o">+</span> <span class="n">link</span>
                        <span class="n">delim</span> <span class="o">=</span> <span class="s2">&quot;&amp;nbsp;&quot;</span>

            <span class="n">headerHtml</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    </span><span class="si">{</span><span class="n">links</span><span class="si">}</span><span class="s2">&lt;h3 style=&#39;font-size: 24px; font-weight: normal; margin-top: 20px; margin-bottom: 10px;&#39;&gt;</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">h1</span><span class="si">}</span><span class="s2">&lt;/h3&gt;</span>
<span class="s2">    &lt;a href=&#39;</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&#39;&gt;</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">acronym</span><span class="si">}</span><span class="s2">&lt;a&gt;</span>
<span class="s2">    </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">title</span><span class="si">}</span><span class="s2">&lt;br&gt;</span>
<span class="s2">    </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">desc</span><span class="si">}</span>
<span class="s2">    published: </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">pubDate</span><span class="si">}</span>
<span class="s2">    submitted By: </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">submittedBy</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
            <span class="n">iframeHtml</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            &lt;iframe src=&#39;</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&#39; style=&#39;width: 100%; height: 80vh; border: none;&#39;&gt;&lt;/iframe&gt;&quot;&quot;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">header_view</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">headerHtml</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iframe_view</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">iframeHtml</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">onRefreshButtonClick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_args</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">extractValuesFromVolumePage</span><span class="p">()</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;updated from </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="n">ui</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">showVolume</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="p">)</span>
            <span class="c1"># self.wdSync.storeVolumes()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">onWikidataButtonClick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        handle wikidata sync request</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">wdRecord</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">getWikidataProceedingsRecord</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">addProceedingsToWikidata</span><span class="p">(</span><span class="n">wdRecord</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">qId</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">qid</span>
            <span class="k">if</span> <span class="n">qId</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;wikidata export of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">qId</span><span class="si">}</span><span class="s2"> done&quot;</span>
                <span class="n">ui</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">updateWikidataSpan</span><span class="p">(</span><span class="n">qId</span><span class="o">=</span><span class="n">qId</span><span class="p">,</span> <span class="n">volume</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;error:</span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">error</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">log_view</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">err_msg</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeView.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">solution</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>constructor</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>solution</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the solution</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>parent</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the parent UI container</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">solution</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    constructor</span>

<span class="sd">    Args:</span>
<span class="sd">        solution: the solution</span>
<span class="sd">        parent: the parent UI container</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">solution</span> <span class="o">=</span> <span class="n">solution</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">volumeToolBar</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">wdSync</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wdSpan</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeView.onWikidataButtonClick" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">onWikidataButtonClick</span><span class="p">(</span><span class="n">_args</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>handle wikidata sync request</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">onWikidataButtonClick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_args</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    handle wikidata sync request</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">wdRecord</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">getWikidataProceedingsRecord</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">addProceedingsToWikidata</span><span class="p">(</span><span class="n">wdRecord</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">qId</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">qid</span>
        <span class="k">if</span> <span class="n">qId</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;wikidata export of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">qId</span><span class="si">}</span><span class="s2"> done&quot;</span>
            <span class="n">ui</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">updateWikidataSpan</span><span class="p">(</span><span class="n">qId</span><span class="o">=</span><span class="n">qId</span><span class="p">,</span> <span class="n">volume</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;error:</span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">error</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">log_view</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">err_msg</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeView.setup_ui" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setup_ui</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>setup my User Interface elements</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">setup_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    setup my User Interface elements</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">ui</span><span class="o">.</span><span class="n">row</span><span class="p">()</span> <span class="k">as</span> <span class="bp">self</span><span class="o">.</span><span class="n">volumeToolBar</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">volumeRefreshButton</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">ui</span><span class="o">.</span><span class="n">button</span><span class="p">(</span>
                    <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;refresh&quot;</span><span class="p">,</span>
                    <span class="n">on_click</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onRefreshButtonClick</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="o">.</span><span class="n">classes</span><span class="p">(</span><span class="s2">&quot;btn btn-primary btn-sm col-1&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">tooltip</span><span class="p">(</span><span class="s2">&quot;Refresh from CEUR-WS Volume page&quot;</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wikidataButton</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">ui</span><span class="o">.</span><span class="n">button</span><span class="p">(</span>
                    <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;web&quot;</span><span class="p">,</span>
                    <span class="n">on_click</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">onWikidataButtonClick</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="o">.</span><span class="n">classes</span><span class="p">(</span><span class="s2">&quot;btn btn-primary btn-sm col-1&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">tooltip</span><span class="p">(</span><span class="s2">&quot;Export to Wikidata&quot;</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">header_view</span> <span class="o">=</span> <span class="n">ui</span><span class="o">.</span><span class="n">html</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iframe_view</span> <span class="o">=</span> <span class="n">ui</span><span class="o">.</span><span class="n">html</span><span class="p">()</span><span class="o">.</span><span class="n">classes</span><span class="p">(</span><span class="s2">&quot;w-full&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">style</span><span class="p">(</span><span class="s2">&quot;height: 80vh;&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeView.showVolume" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">showVolume</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>show the given volume</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>volume(Volume)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the volume to show</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">showVolume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">Volume</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    show the given volume</span>

<span class="sd">    Args:</span>
<span class="sd">        volume(Volume): the volume to show</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">volumeToolBar</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setup_ui</span><span class="p">()</span>

        <span class="n">wdProc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">getProceedingsForVolume</span><span class="p">(</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wikidataButton</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="n">wdProc</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="n">links</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="n">wdProc</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># wikidata proceedings link</span>
            <span class="n">itemLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span><span class="n">wdProc</span><span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">],</span> <span class="s2">&quot;wikidataitem&quot;</span><span class="p">)</span>
            <span class="c1"># dblp proceedings link</span>
            <span class="n">dblpLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createExternalLink</span><span class="p">(</span>
                <span class="n">wdProc</span><span class="p">,</span>
                <span class="s2">&quot;dblpEventId&quot;</span><span class="p">,</span>
                <span class="s2">&quot;dblp&quot;</span><span class="p">,</span>
                <span class="n">DblpEndpoint</span><span class="o">.</span><span class="n">DBLP_EVENT_PREFIX</span><span class="p">,</span>
                <span class="n">emptyIfNone</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># k10plus proceedings link</span>
            <span class="n">k10PlusLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createExternalLink</span><span class="p">(</span>
                <span class="n">wdProc</span><span class="p">,</span>
                <span class="s2">&quot;ppnId&quot;</span><span class="p">,</span>
                <span class="s2">&quot;k10plus&quot;</span><span class="p">,</span>
                <span class="s2">&quot;https://opac.k10plus.de/DB=2.299/PPNSET?PPN=&quot;</span><span class="p">,</span>
                <span class="n">emptyIfNone</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># scholia proceedings link</span>
            <span class="n">scholiaLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createExternalLink</span><span class="p">(</span>
                <span class="n">wdProc</span><span class="p">,</span>
                <span class="s2">&quot;item&quot;</span><span class="p">,</span>
                <span class="s2">&quot;scholia&quot;</span><span class="p">,</span>
                <span class="s2">&quot;https://scholia.toolforge.org/venue/&quot;</span><span class="p">,</span>
                <span class="n">emptyIfNone</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># scholia event link</span>
            <span class="n">scholiaEventLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createExternalLink</span><span class="p">(</span>
                <span class="n">wdProc</span><span class="p">,</span>
                <span class="s2">&quot;event&quot;</span><span class="p">,</span>
                <span class="s2">&quot;event&quot;</span><span class="p">,</span>
                <span class="s2">&quot;https://scholia.toolforge.org/event/&quot;</span><span class="p">,</span>
                <span class="n">emptyIfNone</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># scholia event series link</span>
            <span class="n">scholiaEventSeriesLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createExternalLink</span><span class="p">(</span>
                <span class="n">wdProc</span><span class="p">,</span>
                <span class="s2">&quot;eventSeries&quot;</span><span class="p">,</span>
                <span class="s2">&quot;series&quot;</span><span class="p">,</span>
                <span class="s2">&quot;https://scholia.toolforge.org/event-series/&quot;</span><span class="p">,</span>
                <span class="n">emptyIfNone</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># scholia colocated with link</span>
            <span class="n">delim</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="p">[</span>
                <span class="n">itemLink</span><span class="p">,</span>
                <span class="n">dblpLink</span><span class="p">,</span>
                <span class="n">k10PlusLink</span><span class="p">,</span>
                <span class="n">scholiaLink</span><span class="p">,</span>
                <span class="n">scholiaEventLink</span><span class="p">,</span>
                <span class="n">scholiaEventSeriesLink</span><span class="p">,</span>
            <span class="p">]:</span>
                <span class="k">if</span> <span class="n">link</span><span class="p">:</span>
                    <span class="n">links</span> <span class="o">+=</span> <span class="n">delim</span> <span class="o">+</span> <span class="n">link</span>
                    <span class="n">delim</span> <span class="o">=</span> <span class="s2">&quot;&amp;nbsp;&quot;</span>

        <span class="n">headerHtml</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="si">{</span><span class="n">links</span><span class="si">}</span><span class="s2">&lt;h3 style=&#39;font-size: 24px; font-weight: normal; margin-top: 20px; margin-bottom: 10px;&#39;&gt;</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">h1</span><span class="si">}</span><span class="s2">&lt;/h3&gt;</span>
<span class="s2">&lt;a href=&#39;</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&#39;&gt;</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">acronym</span><span class="si">}</span><span class="s2">&lt;a&gt;</span>
<span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">title</span><span class="si">}</span><span class="s2">&lt;br&gt;</span>
<span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">desc</span><span class="si">}</span>
<span class="s2">published: </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">pubDate</span><span class="si">}</span>
<span class="s2">submitted By: </span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">submittedBy</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
        <span class="n">iframeHtml</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        &lt;iframe src=&#39;</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&#39; style=&#39;width: 100%; height: 80vh; border: none;&#39;&gt;&lt;/iframe&gt;&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">header_view</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">headerHtml</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iframe_view</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">iframeHtml</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volume_view.VolumeView.updateWikidataSpan" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">updateWikidataSpan</span><span class="p">(</span><span class="n">qId</span><span class="p">,</span> <span class="n">volume</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>create a Wikidata Export span</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>a()</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ancestor</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>qId(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wikidata item Q Identifier</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>volume(Volume)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the Volume</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volume_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">updateWikidataSpan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qId</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">Volume</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    create a Wikidata Export span</span>

<span class="sd">    Args:</span>
<span class="sd">        a(): ancestor</span>
<span class="sd">        qId(str): wikidata item Q Identifier</span>
<span class="sd">        volume(Volume): the Volume</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSpan</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wdSpan</span> <span class="o">=</span> <span class="n">ui</span><span class="o">.</span><span class="n">html</span><span class="p">()</span>
    <span class="n">volume_link</span> <span class="o">=</span> <span class="n">Link</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">url</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">acronym</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">wd_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">itemUrl</span><span class="p">(</span><span class="n">qId</span><span class="p">)</span>
    <span class="n">wd_link</span> <span class="o">=</span> <span class="n">Link</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">wd_url</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">qId</span><span class="si">}</span><span class="s2"> &quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wdSpan</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">volume_link</span><span class="si">}{</span><span class="n">wd_link</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.volumeparser" class="doc doc-heading">
            <code>volumeparser</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 2022-08-14</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.volumeparser.VolumePageCache" class="doc doc-heading">
            <code>VolumePageCache</code>


</h3>


    <div class="doc doc-contents ">


      <p>Cache interface for ceur-ws volume pages</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">VolumePageCache</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Cache interface for ceur-ws volume pages</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cache_location</span><span class="p">:</span> <span class="n">Path</span> <span class="o">=</span> <span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_DIR</span> <span class="o">/</span> <span class="s2">&quot;volumes&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">is_cached</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the volume page of the given volume number is cached</span>
<span class="sd">        Args:</span>
<span class="sd">            number: volume number of the volume page</span>

<span class="sd">        Returns:</span>
<span class="sd">            True if the corresponding volume page is cached</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_volume_cache_path</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">cache</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">html</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        cache the volume page corresponding to the given number</span>
<span class="sd">        Args:</span>
<span class="sd">            number: number of the volume to cache</span>
<span class="sd">            html: html of the volume page to cache</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">html</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">Path</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">cache_location</span><span class="p">)</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_volume_cache_path</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;w&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
            <span class="n">mode</span> <span class="o">+=</span> <span class="s2">&quot;b&quot;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_volume_cache_path</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Path</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the name of the volume cache file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">cache_location</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">.html&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the cached volume page of the given volume number.</span>
<span class="sd">        If the volume page is not cached None is returned.</span>
<span class="sd">        Args:</span>
<span class="sd">            number: volume number to retrieve</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: cached volume page</span>
<span class="sd">            bytes: if the cached volume page contains encoding errors</span>
<span class="sd">            None: if no volume with the given number is cached</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">volume_page</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">is_cached</span><span class="p">(</span><span class="n">number</span><span class="p">):</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_volume_cache_path</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">volume_page</span> <span class="o">=</span> <span class="n">filepath</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">UnicodeDecodeError</span> <span class="k">as</span> <span class="n">_ex</span><span class="p">:</span>
                <span class="n">volume_page</span> <span class="o">=</span> <span class="n">filepath</span><span class="o">.</span><span class="n">read_bytes</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">volume_page</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete the cache corresponding to the given volume number</span>
<span class="sd">        Args:</span>
<span class="sd">            number: volume number</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">is_cached</span><span class="p">(</span><span class="n">number</span><span class="p">):</span>
            <span class="n">filepath</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_volume_cache_path</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
            <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.volumeparser.VolumePageCache.cache" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cache</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">html</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>cache the volume page corresponding to the given number
Args:
    number: number of the volume to cache
    html: html of the volume page to cache</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">cache</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">html</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    cache the volume page corresponding to the given number</span>
<span class="sd">    Args:</span>
<span class="sd">        number: number of the volume to cache</span>
<span class="sd">        html: html of the volume page to cache</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">html</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">Path</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">cache_location</span><span class="p">)</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_volume_cache_path</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
    <span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;w&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="n">mode</span> <span class="o">+=</span> <span class="s2">&quot;b&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volumeparser.VolumePageCache.delete" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete</span><span class="p">(</span><span class="n">number</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>Delete the cache corresponding to the given volume number
Args:
    number: volume number</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete the cache corresponding to the given volume number</span>
<span class="sd">    Args:</span>
<span class="sd">        number: volume number</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">is_cached</span><span class="p">(</span><span class="n">number</span><span class="p">):</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_volume_cache_path</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volumeparser.VolumePageCache.get" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get</span><span class="p">(</span><span class="n">number</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>Get the cached volume page of the given volume number.
If the volume page is not cached None is returned.
Args:
    number: volume number to retrieve</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str | bytes | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>cached volume page</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>bytes</code></td>            <td>
                  <code>str | bytes | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the cached volume page contains encoding errors</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>None</code></td>            <td>
                  <code>str | bytes | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if no volume with the given number is cached</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the cached volume page of the given volume number.</span>
<span class="sd">    If the volume page is not cached None is returned.</span>
<span class="sd">    Args:</span>
<span class="sd">        number: volume number to retrieve</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: cached volume page</span>
<span class="sd">        bytes: if the cached volume page contains encoding errors</span>
<span class="sd">        None: if no volume with the given number is cached</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">volume_page</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">is_cached</span><span class="p">(</span><span class="n">number</span><span class="p">):</span>
        <span class="n">filepath</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_volume_cache_path</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">volume_page</span> <span class="o">=</span> <span class="n">filepath</span><span class="o">.</span><span class="n">read_text</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">UnicodeDecodeError</span> <span class="k">as</span> <span class="n">_ex</span><span class="p">:</span>
            <span class="n">volume_page</span> <span class="o">=</span> <span class="n">filepath</span><span class="o">.</span><span class="n">read_bytes</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">volume_page</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volumeparser.VolumePageCache.is_cached" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_cached</span><span class="p">(</span><span class="n">number</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>Check if the volume page of the given volume number is cached
Args:
    number: volume number of the volume page</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the corresponding volume page is cached</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">is_cached</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if the volume page of the given volume number is cached</span>
<span class="sd">    Args:</span>
<span class="sd">        number: volume number of the volume page</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the corresponding volume page is cached</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_get_volume_cache_path</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="o">.</span><span class="n">is_file</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.volumeparser.VolumeParser" class="doc doc-heading">
            <code>VolumeParser</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ceurws.textparser.Textparser" href="#ceurws.textparser.Textparser">Textparser</a></code></p>


      <p>CEUR-WS VolumeParser</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">VolumeParser</span><span class="p">(</span><span class="n">Textparser</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    CEUR-WS VolumeParser</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">baseurl</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;http://ceur-ws.org&quot;</span><span class="p">,</span>
        <span class="n">timeout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
        <span class="n">showHtml</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor</span>

<span class="sd">        Args:</span>
<span class="sd">            baseurl(str): the baseurl of the CEUR-WS website,</span>
<span class="sd">            timeout(float): the number of seconds to wait</span>
<span class="sd">            showHtml(bool): if True show the HTML code</span>
<span class="sd">            debug(bool): if True switch debugging on</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">Textparser</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">showHtml</span> <span class="o">=</span> <span class="n">showHtml</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baseurl</span> <span class="o">=</span> <span class="n">baseurl</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scrape</span> <span class="o">=</span> <span class="n">WebScrape</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">volumeUrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volnumber</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the url for the given volume number</span>

<span class="sd">        Args:</span>
<span class="sd">            volnumber(str): the volume number</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: url - the url of the volume</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># e.g. http://ceur-ws.org/Vol-2635/</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">baseurl</span><span class="si">}</span><span class="s2">/Vol-</span><span class="si">{</span><span class="n">volnumber</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">url</span>

    <span class="k">def</span> <span class="nf">getSoup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BeautifulSoup</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the beautiful Soup parser for the given url</span>
<span class="sd">        Args:</span>
<span class="sd">            url: url to parse</span>

<span class="sd">        Returns:</span>
<span class="sd">            parsed webpage</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">scrape</span><span class="o">.</span><span class="n">getSoup</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">showHtml</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">showHtml</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_volume_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">use_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BeautifulSoup</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get Soup of the volume page for the given volume number</span>
<span class="sd">        Args:</span>
<span class="sd">            number: volume number of the volume to parse</span>
<span class="sd">            use_cache: If True use volume page from cache if present otherwise load from web and cache</span>

<span class="sd">        Returns:</span>
<span class="sd">            BeautifulSoup: soup of the volume page</span>
<span class="sd">            None: soup can not be loaded from cache or from web</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">html</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_volume_page</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">recache</span><span class="o">=</span><span class="ow">not</span> <span class="n">use_cache</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">html</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2"> could not be retrieved&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scrape</span><span class="o">.</span><span class="n">get_soup_from_string</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="n">show_html</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">showHtml</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">soup</span>

    <span class="k">def</span> <span class="nf">get_volume_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">recache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the html content of the given volume number.</span>
<span class="sd">        Retrieves the volume page from cache or from ceur-ws.org</span>
<span class="sd">        Caches the volume page if not already cached</span>
<span class="sd">        Args:</span>
<span class="sd">            number: volume number</span>
<span class="sd">            recache: If True update the cache with a new fetch from the web. Otherwise, cache is used if present</span>

<span class="sd">        Returns:</span>
<span class="sd">            html of volume page or None if the volume page is not found</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">recache</span> <span class="ow">and</span> <span class="n">VolumePageCache</span><span class="o">.</span><span class="n">is_cached</span><span class="p">(</span><span class="n">number</span><span class="p">):</span>
            <span class="n">volume_page</span> <span class="o">=</span> <span class="n">VolumePageCache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">volumeUrl</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
            <span class="n">volume_page</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scrape</span><span class="o">.</span><span class="n">get_html_from_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">volume_page</span><span class="p">:</span>
                <span class="n">VolumePageCache</span><span class="o">.</span><span class="n">cache</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">volume_page</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">volume_page</span>

    <span class="k">def</span> <span class="nf">parse_volume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">use_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="n">BeautifulSoup</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        parse the given volume</span>
<span class="sd">        caches the volume pages at ~/.ceurws/volumes</span>

<span class="sd">        Args:</span>
<span class="sd">            number: volume number of the volume to parse</span>
<span class="sd">            use_cache: If True use volume page from cache if present otherwise load from web and cache</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: extracted information</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_volume_soup</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">use_cache</span><span class="o">=</span><span class="n">use_cache</span><span class="p">)</span>
        <span class="n">parsed_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_soup</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">number</span><span class="p">),</span> <span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">)</span> <span class="k">if</span> <span class="n">soup</span> <span class="k">else</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_parsed_dict</span><span class="p">(</span><span class="n">parsed_dict</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">parsed_dict</span><span class="p">,</span> <span class="n">soup</span>

    <span class="k">def</span> <span class="nf">check_parsed_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parsed_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        check parsed_dict content e.g. urn check digit</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;urn&quot;</span> <span class="ow">in</span> <span class="n">parsed_dict</span><span class="p">:</span>
            <span class="n">urn</span> <span class="o">=</span> <span class="n">parsed_dict</span><span class="p">[</span><span class="s2">&quot;urn&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">urn</span><span class="p">:</span>
                <span class="n">urn_prefix</span> <span class="o">=</span> <span class="n">urn</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">check_digit</span> <span class="o">=</span> <span class="n">URN</span><span class="o">.</span><span class="n">calc_urn_checksum</span><span class="p">(</span><span class="n">urn_prefix</span><span class="p">)</span>
                <span class="n">parsed_dict</span><span class="p">[</span><span class="s2">&quot;urn_check_digit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">check_digit</span>
                <span class="n">urn_ok</span> <span class="o">=</span> <span class="n">URN</span><span class="o">.</span><span class="n">check_urn_checksum</span><span class="p">(</span><span class="n">urn</span><span class="p">)</span>
                <span class="n">parsed_dict</span><span class="p">[</span><span class="s2">&quot;urn_ok&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">urn_ok</span>

    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        parse the given url</span>
<span class="sd">        Args:</span>
<span class="sd">             url: URL to parse the volume information from</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: extracted information</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSoup</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">parsed_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_soup</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">)</span> <span class="k">if</span> <span class="n">soup</span> <span class="k">else</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="n">parsed_dict</span>

    <span class="k">def</span> <span class="nf">parse_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">:</span> <span class="n">BeautifulSoup</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        parse the volume page data from the given soup</span>

<span class="sd">        Args:</span>
<span class="sd">            number(str): the volume number</span>
<span class="sd">            soup(BeautifulSoup): html parser to extract the content from</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: parsed content</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">soup</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;vol_number&quot;</span><span class="p">:</span> <span class="n">number</span><span class="p">}</span>
        <span class="c1"># first try RDFa annotations</span>
        <span class="n">scrapedDict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parseRDFa</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">scrapedDict</span><span class="p">:</span>
            <span class="n">scrapedDict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">scrapedDict</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>

        <span class="c1"># second part</span>
        <span class="k">for</span> <span class="n">descValue</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;descripton&quot;</span><span class="p">]:</span>
            <span class="c1"># descripton is a typo in the Volume index files not here!</span>
            <span class="n">firstDesc</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;meta&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">descValue</span><span class="p">})</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">firstDesc</span><span class="p">,</span> <span class="n">Tag</span><span class="p">):</span>
                <span class="n">desc</span> <span class="o">=</span> <span class="n">firstDesc</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">]</span>
                <span class="n">desc</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">desc</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;CEUR Workshop Proceedings &quot;</span><span class="p">])</span>
                <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;desc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">desc</span>
                <span class="k">break</span>

        <span class="c1"># first H1 has title info</span>
        <span class="n">firstH1</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;h1&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">firstH1</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">h1</span> <span class="o">=</span> <span class="n">firstH1</span><span class="o">.</span><span class="n">text</span>
            <span class="n">h1</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">h1</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;&lt;TD bgcolor=&quot;#FFFFFF&quot;&gt;&#39;</span><span class="p">])</span>
            <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;h1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">h1</span>
            <span class="n">link</span> <span class="o">=</span> <span class="n">firstH1</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">link</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="n">Tag</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">text</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">:</span>
                <span class="n">acronym</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">acronym</span><span class="p">:</span>
                    <span class="n">acronym</span> <span class="o">=</span> <span class="n">h1</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">h1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">28</span> <span class="k">else</span> <span class="n">h1</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

                <span class="n">eventHomepage</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">)</span>
                <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;acronym&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">acronym</span>
                <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;homepage&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">eventHomepage</span>

        <span class="c1"># first h3 has loctime</span>
        <span class="n">firstH3</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;h3&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">firstH3</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">h3</span> <span class="o">=</span> <span class="n">firstH3</span><span class="o">.</span><span class="n">text</span>
            <span class="n">h3</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">h3</span><span class="p">)</span>
            <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;h3&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">h3</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasValue</span><span class="p">(</span><span class="n">scrapedDict</span><span class="p">,</span> <span class="s2">&quot;desc&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasValue</span><span class="p">(</span><span class="n">scrapedDict</span><span class="p">,</span> <span class="s2">&quot;acronym&quot;</span><span class="p">):</span>
            <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;acronym&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;desc&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasValue</span><span class="p">(</span><span class="n">scrapedDict</span><span class="p">,</span> <span class="s2">&quot;h1&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasValue</span><span class="p">(</span><span class="n">scrapedDict</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">):</span>
            <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;h1&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hasValue</span><span class="p">(</span><span class="n">scrapedDict</span><span class="p">,</span> <span class="s2">&quot;h1&quot;</span><span class="p">)</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasValue</span><span class="p">(</span><span class="n">scrapedDict</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">)</span>
            <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasValue</span><span class="p">(</span><span class="n">scrapedDict</span><span class="p">,</span> <span class="s2">&quot;acronym&quot;</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;acronym&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;h1&quot;</span><span class="p">]</span>
        <span class="c1"># editorsRecords = self.parseEditors(soup)</span>
        <span class="c1"># scrapedDict[&quot;editors&quot;] = editorsRecords</span>
        <span class="k">return</span> <span class="n">scrapedDict</span>

    <span class="k">def</span> <span class="nf">parseEditors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">:</span> <span class="n">BeautifulSoup</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        parse all editor information contained in the given soup</span>
<span class="sd">        parse all information between &lt;b&gt; Edited by &lt;/b&gt; ... &lt;hr&gt;</span>
<span class="sd">        Args:</span>
<span class="sd">            soup: volume web page</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">soup</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">possible_start_elements</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
        <span class="c1"># find start</span>
        <span class="n">start_elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">possible_start_elements</span><span class="p">:</span>
            <span class="n">start_tags</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;edited by&quot;</span><span class="p">,</span> <span class="s2">&quot;program committee&quot;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">start_tags</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                    <span class="n">start_elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">start_elements</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">edited_by</span> <span class="o">=</span> <span class="n">start_elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">editor_h3</span> <span class="o">=</span> <span class="n">edited_by</span><span class="o">.</span><span class="n">find_next</span><span class="p">(</span><span class="s2">&quot;h3&quot;</span><span class="p">)</span>
        <span class="n">editor_records</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">editor_h3</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">editor_spans</span> <span class="o">=</span> <span class="n">editor_h3</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;CEURVOLEDITOR&quot;</span><span class="p">})</span>
        <span class="k">if</span> <span class="n">editor_spans</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">editor_spans</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">editor_span</span> <span class="ow">in</span> <span class="n">editor_spans</span><span class="p">:</span>
                <span class="n">editor_name</span> <span class="o">=</span> <span class="n">editor_span</span><span class="o">.</span><span class="n">text</span>
                <span class="n">editor</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">editor_name</span><span class="p">}</span>
                <span class="k">if</span> <span class="n">editor_span</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span><span class="p">:</span>
                    <span class="n">homepage</span> <span class="o">=</span> <span class="n">editor_span</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                    <span class="n">editor</span><span class="p">[</span><span class="s2">&quot;homepage&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">homepage</span>
                    <span class="k">if</span> <span class="n">editor_span</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">next_sibling</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">affiliation_keys</span> <span class="o">=</span> <span class="n">editor_span</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">affiliation_keys</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">editor_span</span><span class="o">.</span><span class="n">next_sibling</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">affiliation_keys</span> <span class="o">=</span> <span class="n">editor_span</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">affiliation_keys</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="n">affiliation_keys</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">affiliation_keys</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                    <span class="n">sup</span> <span class="o">=</span> <span class="n">editor_span</span><span class="o">.</span><span class="n">find_next</span><span class="p">(</span><span class="s2">&quot;sup&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">sup</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">affiliation_keys</span> <span class="o">=</span> <span class="n">sup</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="n">editor</span><span class="p">[</span><span class="s2">&quot;affiliation_keys&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">affiliation_keys</span>
                <span class="n">editor_records</span><span class="p">[</span><span class="n">editor_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">editor</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">editor_elements</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">group_elements</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PageElement</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">editor_h3</span><span class="o">.</span><span class="n">next_sibling</span>
                <span class="ow">and</span> <span class="n">editor_h3</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">next_sibling</span>
                <span class="ow">and</span> <span class="n">editor_h3</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;h3&quot;</span>
            <span class="p">):</span>
                <span class="k">while</span> <span class="n">editor_h3</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;h3&quot;</span> <span class="ow">and</span> <span class="n">editor_h3</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                    <span class="n">editor_elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">editor_h3</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span>
                    <span class="n">editor_h3</span> <span class="o">=</span> <span class="n">editor_h3</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">next_sibling</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">editor_h3</span><span class="o">.</span><span class="n">childGenerator</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;br&quot;</span><span class="p">:</span>
                        <span class="n">editor_elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">group_elements</span><span class="p">)</span>
                        <span class="n">group_elements</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">group_elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">elements</span> <span class="ow">in</span> <span class="n">editor_elements</span><span class="p">:</span>
                <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">e</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">])</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="n">affiliation_key</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">editor_name</span> <span class="o">=</span> <span class="n">text</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">affiliation_key</span><span class="p">)]</span>
                <span class="n">links</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">elements</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span><span class="p">]</span>
                <span class="n">homepage</span> <span class="o">=</span> <span class="n">links</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">links</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
                <span class="n">editor</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">editor_name</span><span class="p">,</span>
                    <span class="s2">&quot;homepage&quot;</span><span class="p">:</span> <span class="n">homepage</span><span class="p">,</span>
                    <span class="s2">&quot;affiliation_key&quot;</span><span class="p">:</span> <span class="n">affiliation_key</span><span class="p">,</span>
                <span class="p">}</span>
                <span class="n">editor_records</span><span class="p">[</span><span class="n">editor_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">editor</span>
        <span class="n">affiliation_keys</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">editor</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;affiliation_key&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">editor</span> <span class="ow">in</span> <span class="n">editor_records</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">editor</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;affiliation_key&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="p">}</span>
        <span class="n">affiliation_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parseAffiliationMap</span><span class="p">(</span><span class="n">editor_h3</span><span class="o">.</span><span class="n">next_sibling</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">editor_record</span> <span class="ow">in</span> <span class="n">editor_records</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">editor_keys</span> <span class="o">=</span> <span class="n">editor_record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;affiliation_keys&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">editor_keys</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">keys</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;[, ]&quot;</span><span class="p">,</span> <span class="n">editor_keys</span><span class="p">)</span>
                <span class="n">editor_affiliations</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">affiliation_map</span><span class="p">:</span>
                        <span class="n">editor_affiliations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">affiliation_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">()))</span>
                <span class="n">editor_record</span><span class="p">[</span><span class="s2">&quot;affiliation&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">editor_affiliations</span>
        <span class="k">return</span> <span class="n">editor_records</span>

    <span class="k">def</span> <span class="nf">parseAffiliationMap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="n">PageElement</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Parse out the affiliations and their reference key</span>
<span class="sd">        Args:</span>
<span class="sd">            start:</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="n">end</span> <span class="o">=</span> <span class="n">start</span><span class="o">.</span><span class="n">find_next</span><span class="p">(</span><span class="s2">&quot;hr&quot;</span><span class="p">)</span>
        <span class="n">affiliations_elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">group_elements</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PageElement</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">start</span><span class="o">.</span><span class="n">previous</span><span class="p">,</span> <span class="n">Tag</span> <span class="o">|</span> <span class="n">NavigableString</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">start</span><span class="o">.</span><span class="n">previous</span><span class="o">.</span><span class="n">nextGenerator</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">Tag</span> <span class="o">|</span> <span class="n">NavigableString</span><span class="p">)</span> <span class="ow">and</span> <span class="n">element</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;br&quot;</span><span class="p">,</span> <span class="s2">&quot;hr&quot;</span><span class="p">]:</span>
                    <span class="n">affiliations_elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">group_elements</span><span class="p">)</span>
                    <span class="n">group_elements</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">NavigableString</span><span class="p">)</span> <span class="ow">and</span> <span class="n">element</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">Tag</span> <span class="o">|</span> <span class="n">NavigableString</span><span class="p">)</span> <span class="ow">and</span> <span class="n">element</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;h3&quot;</span><span class="p">:</span>
                    <span class="c1"># elements inside the element are included through the nextGenerator</span>
                    <span class="k">pass</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">group_elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">element</span> <span class="o">==</span> <span class="n">end</span><span class="p">:</span>
                    <span class="k">break</span>
        <span class="n">affiliations_elements</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">affiliations_elements</span> <span class="k">if</span> <span class="n">x</span> <span class="o">!=</span> <span class="p">[]]</span>
        <span class="n">affiliation_map</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">elements</span> <span class="ow">in</span> <span class="n">affiliations_elements</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">NavigableString</span><span class="p">)</span> <span class="ow">and</span> <span class="s2">&quot; &quot;</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
                <span class="n">text_containing_key</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="n">key</span> <span class="o">=</span> <span class="n">text_containing_key</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">key_element</span> <span class="o">=</span> <span class="n">NavigableString</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">key</span><span class="p">)</span>
                <span class="n">text_element</span> <span class="o">=</span> <span class="n">NavigableString</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">text_containing_key</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="p">:])</span>
                <span class="n">elements</span> <span class="o">=</span> <span class="p">[</span><span class="n">key_element</span><span class="p">,</span> <span class="n">text_element</span><span class="p">,</span> <span class="o">*</span><span class="n">elements</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">text_elements</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">link_elements</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">NavigableString</span><span class="p">):</span>
                    <span class="n">text_elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">Tag</span> <span class="o">|</span> <span class="n">NavigableString</span><span class="p">)</span> <span class="ow">and</span> <span class="n">element</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span><span class="p">:</span>
                    <span class="n">link_elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
            <span class="n">affiliation</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">elem</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">text_elements</span><span class="p">])</span>
            <span class="n">affiliation</span> <span class="o">=</span> <span class="n">affiliation</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">affiliation</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
                <span class="n">affiliation</span> <span class="o">=</span> <span class="n">affiliation</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="p">:]</span>
            <span class="n">homepages</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">link_elements</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;attrs&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">element</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">homepage</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                    <span class="n">homepages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">homepage</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">key</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
                <span class="n">affiliation_map</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">affiliation</span><span class="p">,</span>
                    <span class="s2">&quot;homepage&quot;</span><span class="p">:</span> <span class="n">homepages</span><span class="p">,</span>
                <span class="p">}</span>
        <span class="k">return</span> <span class="n">affiliation_map</span>

    <span class="k">def</span> <span class="nf">parseRDFa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">:</span> <span class="n">BeautifulSoup</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        tries to parse rdfa content from the given soup</span>
<span class="sd">        Args:</span>
<span class="sd">            soup: html parser to extract the content from</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: dict with the extracted content</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">scrapeDescr</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">ScrapeDescription</span><span class="p">(</span>
                <span class="n">key</span><span class="o">=</span><span class="s2">&quot;volume_number&quot;</span><span class="p">,</span>
                <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
                <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURVOLNR&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">ScrapeDescription</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;urn&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURURN&quot;</span><span class="p">),</span>
            <span class="n">ScrapeDescription</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURPUBYEAR&quot;</span><span class="p">),</span>
            <span class="n">ScrapeDescription</span><span class="p">(</span>
                <span class="n">key</span><span class="o">=</span><span class="s2">&quot;ceurpubdate&quot;</span><span class="p">,</span>
                <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
                <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURPUBDATE&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">ScrapeDescription</span><span class="p">(</span>
                <span class="n">key</span><span class="o">=</span><span class="s2">&quot;acronym&quot;</span><span class="p">,</span>
                <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
                <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURVOLACRONYM&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">ScrapeDescription</span><span class="p">(</span>
                <span class="n">key</span><span class="o">=</span><span class="s2">&quot;voltitle&quot;</span><span class="p">,</span>
                <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
                <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURVOLTITLE&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">ScrapeDescription</span><span class="p">(</span>
                <span class="n">key</span><span class="o">=</span><span class="s2">&quot;title&quot;</span><span class="p">,</span>
                <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
                <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURFULLTITLE&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">ScrapeDescription</span><span class="p">(</span>
                <span class="n">key</span><span class="o">=</span><span class="s2">&quot;loctime&quot;</span><span class="p">,</span>
                <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
                <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURLOCTIME&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">ScrapeDescription</span><span class="p">(</span>
                <span class="n">key</span><span class="o">=</span><span class="s2">&quot;colocated&quot;</span><span class="p">,</span>
                <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
                <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURCOLOCATED&quot;</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">]</span>
        <span class="n">scrapedDict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scrape</span><span class="o">.</span><span class="n">parseWithScrapeDescription</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="n">scrapeDescr</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">scrapedDict</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.volumeparser.VolumeParser.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">baseurl</span><span class="o">=</span><span class="s1">&#39;http://ceur-ws.org&#39;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">showHtml</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Constructor</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>baseurl(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the baseurl of the CEUR-WS website,</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>timeout(float)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the number of seconds to wait</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>showHtml(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True show the HTML code</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>debug(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True switch debugging on</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">baseurl</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;http://ceur-ws.org&quot;</span><span class="p">,</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">showHtml</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor</span>

<span class="sd">    Args:</span>
<span class="sd">        baseurl(str): the baseurl of the CEUR-WS website,</span>
<span class="sd">        timeout(float): the number of seconds to wait</span>
<span class="sd">        showHtml(bool): if True show the HTML code</span>
<span class="sd">        debug(bool): if True switch debugging on</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">Textparser</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">showHtml</span> <span class="o">=</span> <span class="n">showHtml</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">baseurl</span> <span class="o">=</span> <span class="n">baseurl</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">scrape</span> <span class="o">=</span> <span class="n">WebScrape</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volumeparser.VolumeParser.check_parsed_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_parsed_dict</span><span class="p">(</span><span class="n">parsed_dict</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>check parsed_dict content e.g. urn check digit</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">check_parsed_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parsed_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    check parsed_dict content e.g. urn check digit</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s2">&quot;urn&quot;</span> <span class="ow">in</span> <span class="n">parsed_dict</span><span class="p">:</span>
        <span class="n">urn</span> <span class="o">=</span> <span class="n">parsed_dict</span><span class="p">[</span><span class="s2">&quot;urn&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">urn</span><span class="p">:</span>
            <span class="n">urn_prefix</span> <span class="o">=</span> <span class="n">urn</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">check_digit</span> <span class="o">=</span> <span class="n">URN</span><span class="o">.</span><span class="n">calc_urn_checksum</span><span class="p">(</span><span class="n">urn_prefix</span><span class="p">)</span>
            <span class="n">parsed_dict</span><span class="p">[</span><span class="s2">&quot;urn_check_digit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">check_digit</span>
            <span class="n">urn_ok</span> <span class="o">=</span> <span class="n">URN</span><span class="o">.</span><span class="n">check_urn_checksum</span><span class="p">(</span><span class="n">urn</span><span class="p">)</span>
            <span class="n">parsed_dict</span><span class="p">[</span><span class="s2">&quot;urn_ok&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">urn_ok</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volumeparser.VolumeParser.getSoup" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getSoup</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>get the beautiful Soup parser for the given url
Args:
    url: url to parse</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bs4.BeautifulSoup">BeautifulSoup</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>parsed webpage</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getSoup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BeautifulSoup</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the beautiful Soup parser for the given url</span>
<span class="sd">    Args:</span>
<span class="sd">        url: url to parse</span>

<span class="sd">    Returns:</span>
<span class="sd">        parsed webpage</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">scrape</span><span class="o">.</span><span class="n">getSoup</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">showHtml</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">showHtml</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volumeparser.VolumeParser.get_volume_page" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_volume_page</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">recache</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Get the html content of the given volume number.
Retrieves the volume page from cache or from ceur-ws.org
Caches the volume page if not already cached
Args:
    number: volume number
    recache: If True update the cache with a new fetch from the web. Otherwise, cache is used if present</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>str | bytes | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>html of volume page or None if the volume page is not found</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_volume_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">recache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the html content of the given volume number.</span>
<span class="sd">    Retrieves the volume page from cache or from ceur-ws.org</span>
<span class="sd">    Caches the volume page if not already cached</span>
<span class="sd">    Args:</span>
<span class="sd">        number: volume number</span>
<span class="sd">        recache: If True update the cache with a new fetch from the web. Otherwise, cache is used if present</span>

<span class="sd">    Returns:</span>
<span class="sd">        html of volume page or None if the volume page is not found</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">recache</span> <span class="ow">and</span> <span class="n">VolumePageCache</span><span class="o">.</span><span class="n">is_cached</span><span class="p">(</span><span class="n">number</span><span class="p">):</span>
        <span class="n">volume_page</span> <span class="o">=</span> <span class="n">VolumePageCache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">volumeUrl</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
        <span class="n">volume_page</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scrape</span><span class="o">.</span><span class="n">get_html_from_url</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">volume_page</span><span class="p">:</span>
            <span class="n">VolumePageCache</span><span class="o">.</span><span class="n">cache</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">volume_page</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">volume_page</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volumeparser.VolumeParser.get_volume_soup" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_volume_soup</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">use_cache</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Get Soup of the volume page for the given volume number
Args:
    number: volume number of the volume to parse
    use_cache: If True use volume page from cache if present otherwise load from web and cache</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>BeautifulSoup</code></td>            <td>
                  <code><span title="bs4.BeautifulSoup">BeautifulSoup</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>soup of the volume page</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>None</code></td>            <td>
                  <code><span title="bs4.BeautifulSoup">BeautifulSoup</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>soup can not be loaded from cache or from web</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_volume_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">use_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BeautifulSoup</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get Soup of the volume page for the given volume number</span>
<span class="sd">    Args:</span>
<span class="sd">        number: volume number of the volume to parse</span>
<span class="sd">        use_cache: If True use volume page from cache if present otherwise load from web and cache</span>

<span class="sd">    Returns:</span>
<span class="sd">        BeautifulSoup: soup of the volume page</span>
<span class="sd">        None: soup can not be loaded from cache or from web</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">html</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_volume_page</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">recache</span><span class="o">=</span><span class="ow">not</span> <span class="n">use_cache</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">html</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2"> could not be retrieved&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scrape</span><span class="o">.</span><span class="n">get_soup_from_string</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="n">show_html</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">showHtml</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">soup</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volumeparser.VolumeParser.parse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>parse the given url
Args:
     url: URL to parse the volume information from</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>extracted information</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    parse the given url</span>
<span class="sd">    Args:</span>
<span class="sd">         url: URL to parse the volume information from</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: extracted information</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getSoup</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">parsed_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_soup</span><span class="p">(</span><span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">)</span> <span class="k">if</span> <span class="n">soup</span> <span class="k">else</span> <span class="p">{}</span>
    <span class="k">return</span> <span class="n">parsed_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volumeparser.VolumeParser.parseAffiliationMap" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parseAffiliationMap</span><span class="p">(</span><span class="n">start</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Parse out the affiliations and their reference key
Args:
    start:</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dict</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parseAffiliationMap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="n">PageElement</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parse out the affiliations and their reference key</span>
<span class="sd">    Args:</span>
<span class="sd">        start:</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">end</span> <span class="o">=</span> <span class="n">start</span><span class="o">.</span><span class="n">find_next</span><span class="p">(</span><span class="s2">&quot;hr&quot;</span><span class="p">)</span>
    <span class="n">affiliations_elements</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">group_elements</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PageElement</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">start</span><span class="o">.</span><span class="n">previous</span><span class="p">,</span> <span class="n">Tag</span> <span class="o">|</span> <span class="n">NavigableString</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">start</span><span class="o">.</span><span class="n">previous</span><span class="o">.</span><span class="n">nextGenerator</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">Tag</span> <span class="o">|</span> <span class="n">NavigableString</span><span class="p">)</span> <span class="ow">and</span> <span class="n">element</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;br&quot;</span><span class="p">,</span> <span class="s2">&quot;hr&quot;</span><span class="p">]:</span>
                <span class="n">affiliations_elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">group_elements</span><span class="p">)</span>
                <span class="n">group_elements</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">NavigableString</span><span class="p">)</span> <span class="ow">and</span> <span class="n">element</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">Tag</span> <span class="o">|</span> <span class="n">NavigableString</span><span class="p">)</span> <span class="ow">and</span> <span class="n">element</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;h3&quot;</span><span class="p">:</span>
                <span class="c1"># elements inside the element are included through the nextGenerator</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">group_elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">element</span> <span class="o">==</span> <span class="n">end</span><span class="p">:</span>
                <span class="k">break</span>
    <span class="n">affiliations_elements</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">affiliations_elements</span> <span class="k">if</span> <span class="n">x</span> <span class="o">!=</span> <span class="p">[]]</span>
    <span class="n">affiliation_map</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">elements</span> <span class="ow">in</span> <span class="n">affiliations_elements</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">NavigableString</span><span class="p">)</span> <span class="ow">and</span> <span class="s2">&quot; &quot;</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
            <span class="n">text_containing_key</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">text_containing_key</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">key_element</span> <span class="o">=</span> <span class="n">NavigableString</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">key</span><span class="p">)</span>
            <span class="n">text_element</span> <span class="o">=</span> <span class="n">NavigableString</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">text_containing_key</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="p">:])</span>
            <span class="n">elements</span> <span class="o">=</span> <span class="p">[</span><span class="n">key_element</span><span class="p">,</span> <span class="n">text_element</span><span class="p">,</span> <span class="o">*</span><span class="n">elements</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">text_elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">link_elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">NavigableString</span><span class="p">):</span>
                <span class="n">text_elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">Tag</span> <span class="o">|</span> <span class="n">NavigableString</span><span class="p">)</span> <span class="ow">and</span> <span class="n">element</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span><span class="p">:</span>
                <span class="n">link_elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
        <span class="n">affiliation</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">elem</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">text_elements</span><span class="p">])</span>
        <span class="n">affiliation</span> <span class="o">=</span> <span class="n">affiliation</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">affiliation</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
            <span class="n">affiliation</span> <span class="o">=</span> <span class="n">affiliation</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="p">:]</span>
        <span class="n">homepages</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">link_elements</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="s2">&quot;attrs&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">element</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">homepage</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="n">homepages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">homepage</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">key</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
            <span class="n">affiliation_map</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">affiliation</span><span class="p">,</span>
                <span class="s2">&quot;homepage&quot;</span><span class="p">:</span> <span class="n">homepages</span><span class="p">,</span>
            <span class="p">}</span>
    <span class="k">return</span> <span class="n">affiliation_map</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volumeparser.VolumeParser.parseEditors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parseEditors</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>parse all editor information contained in the given soup
parse all information between <b> Edited by </b> ... <hr>
Args:
    soup: volume web page</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parseEditors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">:</span> <span class="n">BeautifulSoup</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    parse all editor information contained in the given soup</span>
<span class="sd">    parse all information between &lt;b&gt; Edited by &lt;/b&gt; ... &lt;hr&gt;</span>
<span class="sd">    Args:</span>
<span class="sd">        soup: volume web page</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">soup</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">possible_start_elements</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
    <span class="c1"># find start</span>
    <span class="n">start_elements</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">possible_start_elements</span><span class="p">:</span>
        <span class="n">start_tags</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;edited by&quot;</span><span class="p">,</span> <span class="s2">&quot;program committee&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">start_tags</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
                <span class="n">start_elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">start_elements</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">edited_by</span> <span class="o">=</span> <span class="n">start_elements</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">editor_h3</span> <span class="o">=</span> <span class="n">edited_by</span><span class="o">.</span><span class="n">find_next</span><span class="p">(</span><span class="s2">&quot;h3&quot;</span><span class="p">)</span>
    <span class="n">editor_records</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">editor_h3</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">editor_spans</span> <span class="o">=</span> <span class="n">editor_h3</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="p">:</span> <span class="s2">&quot;CEURVOLEDITOR&quot;</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">editor_spans</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">editor_spans</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">editor_span</span> <span class="ow">in</span> <span class="n">editor_spans</span><span class="p">:</span>
            <span class="n">editor_name</span> <span class="o">=</span> <span class="n">editor_span</span><span class="o">.</span><span class="n">text</span>
            <span class="n">editor</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">editor_name</span><span class="p">}</span>
            <span class="k">if</span> <span class="n">editor_span</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span><span class="p">:</span>
                <span class="n">homepage</span> <span class="o">=</span> <span class="n">editor_span</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="n">editor</span><span class="p">[</span><span class="s2">&quot;homepage&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">homepage</span>
                <span class="k">if</span> <span class="n">editor_span</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">next_sibling</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">affiliation_keys</span> <span class="o">=</span> <span class="n">editor_span</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">affiliation_keys</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">editor_span</span><span class="o">.</span><span class="n">next_sibling</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">affiliation_keys</span> <span class="o">=</span> <span class="n">editor_span</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">affiliation_keys</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">affiliation_keys</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">affiliation_keys</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">sup</span> <span class="o">=</span> <span class="n">editor_span</span><span class="o">.</span><span class="n">find_next</span><span class="p">(</span><span class="s2">&quot;sup&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">sup</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">affiliation_keys</span> <span class="o">=</span> <span class="n">sup</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">editor</span><span class="p">[</span><span class="s2">&quot;affiliation_keys&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">affiliation_keys</span>
            <span class="n">editor_records</span><span class="p">[</span><span class="n">editor_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">editor</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">editor_elements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">group_elements</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PageElement</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">editor_h3</span><span class="o">.</span><span class="n">next_sibling</span>
            <span class="ow">and</span> <span class="n">editor_h3</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">next_sibling</span>
            <span class="ow">and</span> <span class="n">editor_h3</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;h3&quot;</span>
        <span class="p">):</span>
            <span class="k">while</span> <span class="n">editor_h3</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;h3&quot;</span> <span class="ow">and</span> <span class="n">editor_h3</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">editor_elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">editor_h3</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span>
                <span class="n">editor_h3</span> <span class="o">=</span> <span class="n">editor_h3</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">next_sibling</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">editor_h3</span><span class="o">.</span><span class="n">childGenerator</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">child</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;br&quot;</span><span class="p">:</span>
                    <span class="n">editor_elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">group_elements</span><span class="p">)</span>
                    <span class="n">group_elements</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">group_elements</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">elements</span> <span class="ow">in</span> <span class="n">editor_elements</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">e</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">elements</span><span class="p">])</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">affiliation_key</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">editor_name</span> <span class="o">=</span> <span class="n">text</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">affiliation_key</span><span class="p">)]</span>
            <span class="n">links</span> <span class="o">=</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">elements</span> <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span><span class="p">]</span>
            <span class="n">homepage</span> <span class="o">=</span> <span class="n">links</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">links</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span>
            <span class="n">editor</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">editor_name</span><span class="p">,</span>
                <span class="s2">&quot;homepage&quot;</span><span class="p">:</span> <span class="n">homepage</span><span class="p">,</span>
                <span class="s2">&quot;affiliation_key&quot;</span><span class="p">:</span> <span class="n">affiliation_key</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="n">editor_records</span><span class="p">[</span><span class="n">editor_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">editor</span>
    <span class="n">affiliation_keys</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">editor</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;affiliation_key&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">editor</span> <span class="ow">in</span> <span class="n">editor_records</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">editor</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;affiliation_key&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
    <span class="p">}</span>
    <span class="n">affiliation_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parseAffiliationMap</span><span class="p">(</span><span class="n">editor_h3</span><span class="o">.</span><span class="n">next_sibling</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">editor_record</span> <span class="ow">in</span> <span class="n">editor_records</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">editor_keys</span> <span class="o">=</span> <span class="n">editor_record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;affiliation_keys&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">editor_keys</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">keys</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;[, ]&quot;</span><span class="p">,</span> <span class="n">editor_keys</span><span class="p">)</span>
            <span class="n">editor_affiliations</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">affiliation_map</span><span class="p">:</span>
                    <span class="n">editor_affiliations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">affiliation_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">()))</span>
            <span class="n">editor_record</span><span class="p">[</span><span class="s2">&quot;affiliation&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">editor_affiliations</span>
    <span class="k">return</span> <span class="n">editor_records</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volumeparser.VolumeParser.parseRDFa" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parseRDFa</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>tries to parse rdfa content from the given soup
Args:
    soup: html parser to extract the content from</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dict with the extracted content</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parseRDFa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">:</span> <span class="n">BeautifulSoup</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    tries to parse rdfa content from the given soup</span>
<span class="sd">    Args:</span>
<span class="sd">        soup: html parser to extract the content from</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: dict with the extracted content</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">scrapeDescr</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">ScrapeDescription</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="s2">&quot;volume_number&quot;</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
            <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURVOLNR&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">ScrapeDescription</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;urn&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURURN&quot;</span><span class="p">),</span>
        <span class="n">ScrapeDescription</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURPUBYEAR&quot;</span><span class="p">),</span>
        <span class="n">ScrapeDescription</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="s2">&quot;ceurpubdate&quot;</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
            <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURPUBDATE&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">ScrapeDescription</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="s2">&quot;acronym&quot;</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
            <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURVOLACRONYM&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">ScrapeDescription</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="s2">&quot;voltitle&quot;</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
            <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURVOLTITLE&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">ScrapeDescription</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="s2">&quot;title&quot;</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
            <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURFULLTITLE&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">ScrapeDescription</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="s2">&quot;loctime&quot;</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
            <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURLOCTIME&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">ScrapeDescription</span><span class="p">(</span>
            <span class="n">key</span><span class="o">=</span><span class="s2">&quot;colocated&quot;</span><span class="p">,</span>
            <span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
            <span class="n">attribute</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s2">&quot;CEURCOLOCATED&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span>
    <span class="n">scrapedDict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scrape</span><span class="o">.</span><span class="n">parseWithScrapeDescription</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="n">scrapeDescr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">scrapedDict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volumeparser.VolumeParser.parse_soup" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_soup</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>parse the volume page data from the given soup</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>number(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the volume number</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>soup(BeautifulSoup)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>html parser to extract the content from</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>parsed content</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">:</span> <span class="n">BeautifulSoup</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    parse the volume page data from the given soup</span>

<span class="sd">    Args:</span>
<span class="sd">        number(str): the volume number</span>
<span class="sd">        soup(BeautifulSoup): html parser to extract the content from</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: parsed content</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">soup</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;vol_number&quot;</span><span class="p">:</span> <span class="n">number</span><span class="p">}</span>
    <span class="c1"># first try RDFa annotations</span>
    <span class="n">scrapedDict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parseRDFa</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">scrapedDict</span><span class="p">:</span>
        <span class="n">scrapedDict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">scrapedDict</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>

    <span class="c1"># second part</span>
    <span class="k">for</span> <span class="n">descValue</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;description&quot;</span><span class="p">,</span> <span class="s2">&quot;descripton&quot;</span><span class="p">]:</span>
        <span class="c1"># descripton is a typo in the Volume index files not here!</span>
        <span class="n">firstDesc</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;meta&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">descValue</span><span class="p">})</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">firstDesc</span><span class="p">,</span> <span class="n">Tag</span><span class="p">):</span>
            <span class="n">desc</span> <span class="o">=</span> <span class="n">firstDesc</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">]</span>
            <span class="n">desc</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">desc</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;CEUR Workshop Proceedings &quot;</span><span class="p">])</span>
            <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;desc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">desc</span>
            <span class="k">break</span>

    <span class="c1"># first H1 has title info</span>
    <span class="n">firstH1</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;h1&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">firstH1</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">h1</span> <span class="o">=</span> <span class="n">firstH1</span><span class="o">.</span><span class="n">text</span>
        <span class="n">h1</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">h1</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;&lt;TD bgcolor=&quot;#FFFFFF&quot;&gt;&#39;</span><span class="p">])</span>
        <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;h1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">h1</span>
        <span class="n">link</span> <span class="o">=</span> <span class="n">firstH1</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">link</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="n">Tag</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">text</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">:</span>
            <span class="n">acronym</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">acronym</span><span class="p">:</span>
                <span class="n">acronym</span> <span class="o">=</span> <span class="n">h1</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">h1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">28</span> <span class="k">else</span> <span class="n">h1</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

            <span class="n">eventHomepage</span> <span class="o">=</span> <span class="n">link</span><span class="o">.</span><span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">)</span>
            <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;acronym&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">acronym</span>
            <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;homepage&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">eventHomepage</span>

    <span class="c1"># first h3 has loctime</span>
    <span class="n">firstH3</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;h3&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">firstH3</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">h3</span> <span class="o">=</span> <span class="n">firstH3</span><span class="o">.</span><span class="n">text</span>
        <span class="n">h3</span> <span class="o">=</span> <span class="n">Textparser</span><span class="o">.</span><span class="n">sanitize</span><span class="p">(</span><span class="n">h3</span><span class="p">)</span>
        <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;h3&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">h3</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasValue</span><span class="p">(</span><span class="n">scrapedDict</span><span class="p">,</span> <span class="s2">&quot;desc&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasValue</span><span class="p">(</span><span class="n">scrapedDict</span><span class="p">,</span> <span class="s2">&quot;acronym&quot;</span><span class="p">):</span>
        <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;acronym&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;desc&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasValue</span><span class="p">(</span><span class="n">scrapedDict</span><span class="p">,</span> <span class="s2">&quot;h1&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasValue</span><span class="p">(</span><span class="n">scrapedDict</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">):</span>
        <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;h1&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hasValue</span><span class="p">(</span><span class="n">scrapedDict</span><span class="p">,</span> <span class="s2">&quot;h1&quot;</span><span class="p">)</span>
        <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasValue</span><span class="p">(</span><span class="n">scrapedDict</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">)</span>
        <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasValue</span><span class="p">(</span><span class="n">scrapedDict</span><span class="p">,</span> <span class="s2">&quot;acronym&quot;</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;acronym&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">scrapedDict</span><span class="p">[</span><span class="s2">&quot;h1&quot;</span><span class="p">]</span>
    <span class="c1"># editorsRecords = self.parseEditors(soup)</span>
    <span class="c1"># scrapedDict[&quot;editors&quot;] = editorsRecords</span>
    <span class="k">return</span> <span class="n">scrapedDict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volumeparser.VolumeParser.parse_volume" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parse_volume</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">use_cache</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>parse the given volume
caches the volume pages at ~/.ceurws/volumes</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>number</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>volume number of the volume to parse</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>use_cache</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True use volume page from cache if present otherwise load from web and cache</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code>tuple[dict, <span title="bs4.BeautifulSoup">BeautifulSoup</span> | None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>extracted information</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_volume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">use_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="n">BeautifulSoup</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    parse the given volume</span>
<span class="sd">    caches the volume pages at ~/.ceurws/volumes</span>

<span class="sd">    Args:</span>
<span class="sd">        number: volume number of the volume to parse</span>
<span class="sd">        use_cache: If True use volume page from cache if present otherwise load from web and cache</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: extracted information</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_volume_soup</span><span class="p">(</span><span class="n">number</span><span class="p">,</span> <span class="n">use_cache</span><span class="o">=</span><span class="n">use_cache</span><span class="p">)</span>
    <span class="n">parsed_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_soup</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">number</span><span class="p">),</span> <span class="n">soup</span><span class="o">=</span><span class="n">soup</span><span class="p">)</span> <span class="k">if</span> <span class="n">soup</span> <span class="k">else</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">check_parsed_dict</span><span class="p">(</span><span class="n">parsed_dict</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parsed_dict</span><span class="p">,</span> <span class="n">soup</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.volumeparser.VolumeParser.volumeUrl" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">volumeUrl</span><span class="p">(</span><span class="n">volnumber</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>get the url for the given volume number</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>volnumber(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the volume number</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>url - the url of the volume</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/volumeparser.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">volumeUrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volnumber</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the url for the given volume number</span>

<span class="sd">    Args:</span>
<span class="sd">        volnumber(str): the volume number</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: url - the url of the volume</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># e.g. http://ceur-ws.org/Vol-2635/</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">baseurl</span><span class="si">}</span><span class="s2">/Vol-</span><span class="si">{</span><span class="n">volnumber</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">url</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.webserver" class="doc doc-heading">
            <code>webserver</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 2024-02-22</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.webserver.CeurWsSolution" class="doc doc-heading">
            <code>CeurWsSolution</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="ngwidgets.input_webserver.InputWebSolution">InputWebSolution</span></code></p>


      <p>CEUR-WS Volume browser solution</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/webserver.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CeurWsSolution</span><span class="p">(</span><span class="n">InputWebSolution</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    CEUR-WS Volume browser solution</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">webserver</span><span class="p">:</span> <span class="n">CeurWsWebServer</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">Client</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the solution</span>

<span class="sd">        Calls the constructor of the base solution</span>
<span class="sd">        Args:</span>
<span class="sd">            webserver (CeurWsWebServer): The webserver instance associated with this context.</span>
<span class="sd">            client (Client): The client instance this context is associated with.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">webserver</span><span class="p">,</span> <span class="n">client</span><span class="p">)</span>  <span class="c1"># Call to the superclass constructor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">webserver</span><span class="o">.</span><span class="n">wdSync</span>

    <span class="k">def</span> <span class="nf">configure_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">InputWebSolution</span><span class="o">.</span><span class="n">configure_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">link_button</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;volumes&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;/volumes&quot;</span><span class="p">,</span> <span class="n">new_tab</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">link_button</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;wikidata&quot;</span><span class="p">,</span> <span class="n">icon_name</span><span class="o">=</span><span class="s2">&quot;cloud_sync&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;/wikidatasync&quot;</span><span class="p">,</span> <span class="n">new_tab</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">prepare_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        prepare the user interface</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">InputWebSolution</span><span class="o">.</span><span class="n">prepare_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># does not work as expected ...</span>
        <span class="c1"># self.add_css()</span>

    <span class="k">def</span> <span class="nf">add_css</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Get the correct path to the &#39;css&#39; directory</span>
        <span class="n">css_directory_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;css&quot;</span>
        <span class="c1"># Check if the directory exists before trying to serve it</span>
        <span class="k">if</span> <span class="n">css_directory_path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
            <span class="c1"># Serve files from the &#39;css&#39; directory at the &#39;/css&#39; route</span>
            <span class="n">app</span><span class="o">.</span><span class="n">add_static_files</span><span class="p">(</span><span class="s2">&quot;/css&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">css_directory_path</span><span class="p">))</span>

            <span class="c1"># Iterate over all .css files in the directory</span>
            <span class="k">for</span> <span class="n">css_file</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">css_directory_path</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">css_file</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.css&quot;</span><span class="p">):</span>
                    <span class="c1"># Add the link tag for the css file to the head of the HTML document</span>
                    <span class="n">ui</span><span class="o">.</span><span class="n">add_head_html</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/css/</span><span class="si">{</span><span class="n">css_file</span><span class="si">}</span><span class="s1">&quot;&gt;&#39;</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">wikidatasync</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        show the wikidata sync table</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">show</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wikidata_view</span> <span class="o">=</span> <span class="n">WikidataView</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="p">)</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">setup_content_div</span><span class="p">(</span><span class="n">show</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">volumes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        show the volumes table</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">show</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">volume_list_view</span> <span class="o">=</span> <span class="n">VolumeListView</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="p">)</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">setup_content_div</span><span class="p">(</span><span class="n">show</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">home</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        home page selection</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">show</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
                    <span class="k">with</span> <span class="n">ui</span><span class="o">.</span><span class="n">row</span><span class="p">()</span> <span class="k">as</span> <span class="bp">self</span><span class="o">.</span><span class="n">select_container</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">volume_select</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_select</span><span class="p">(</span>
                            <span class="s2">&quot;Volume&quot;</span><span class="p">,</span>
                            <span class="n">selection</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">volumeOptions</span><span class="p">,</span>
                            <span class="n">with_input</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">on_change</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">volume_selected</span><span class="p">,</span>
                        <span class="p">)</span><span class="o">.</span><span class="n">props</span><span class="p">(</span><span class="s2">&quot;size=120&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">volume_view</span> <span class="o">=</span> <span class="n">VolumeView</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">setup_content_div</span><span class="p">(</span><span class="n">show</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">volume_selected</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">ValueChangeEventArguments</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        when a volume is selected show the details in the Volume View</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">vol_number</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">value</span>
        <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">volumesByNumber</span><span class="p">[</span><span class="n">vol_number</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume_view</span><span class="o">.</span><span class="n">showVolume</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.webserver.CeurWsSolution.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">webserver</span><span class="p">,</span> <span class="n">client</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Initialize the solution</p>
<p>Calls the constructor of the base solution
Args:
    webserver (CeurWsWebServer): The webserver instance associated with this context.
    client (Client): The client instance this context is associated with.</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/webserver.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">webserver</span><span class="p">:</span> <span class="n">CeurWsWebServer</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">Client</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the solution</span>

<span class="sd">    Calls the constructor of the base solution</span>
<span class="sd">    Args:</span>
<span class="sd">        webserver (CeurWsWebServer): The webserver instance associated with this context.</span>
<span class="sd">        client (Client): The client instance this context is associated with.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">webserver</span><span class="p">,</span> <span class="n">client</span><span class="p">)</span>  <span class="c1"># Call to the superclass constructor</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">webserver</span><span class="o">.</span><span class="n">wdSync</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.webserver.CeurWsSolution.home" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">home</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>home page selection</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/webserver.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">home</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    home page selection</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">show</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
                <span class="k">with</span> <span class="n">ui</span><span class="o">.</span><span class="n">row</span><span class="p">()</span> <span class="k">as</span> <span class="bp">self</span><span class="o">.</span><span class="n">select_container</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">volume_select</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_select</span><span class="p">(</span>
                        <span class="s2">&quot;Volume&quot;</span><span class="p">,</span>
                        <span class="n">selection</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">volumeOptions</span><span class="p">,</span>
                        <span class="n">with_input</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                        <span class="n">on_change</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">volume_selected</span><span class="p">,</span>
                    <span class="p">)</span><span class="o">.</span><span class="n">props</span><span class="p">(</span><span class="s2">&quot;size=120&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">volume_view</span> <span class="o">=</span> <span class="n">VolumeView</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">setup_content_div</span><span class="p">(</span><span class="n">show</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.webserver.CeurWsSolution.prepare_ui" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">prepare_ui</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>prepare the user interface</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/webserver.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">prepare_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    prepare the user interface</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">InputWebSolution</span><span class="o">.</span><span class="n">prepare_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.webserver.CeurWsSolution.volume_selected" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">volume_selected</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>when a volume is selected show the details in the Volume View</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/webserver.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">volume_selected</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="n">ValueChangeEventArguments</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    when a volume is selected show the details in the Volume View</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">vol_number</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">value</span>
    <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">volumesByNumber</span><span class="p">[</span><span class="n">vol_number</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">volume_view</span><span class="o">.</span><span class="n">showVolume</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.webserver.CeurWsSolution.volumes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">volumes</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>show the volumes table</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/webserver.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">volumes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    show the volumes table</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">show</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volume_list_view</span> <span class="o">=</span> <span class="n">VolumeListView</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">setup_content_div</span><span class="p">(</span><span class="n">show</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.webserver.CeurWsSolution.wikidatasync" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">wikidatasync</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>show the wikidata sync table</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/webserver.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">wikidatasync</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    show the wikidata sync table</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">show</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wikidata_view</span> <span class="o">=</span> <span class="n">WikidataView</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="p">)</span>

    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">setup_content_div</span><span class="p">(</span><span class="n">show</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="ceurws.webserver.CeurWsWebServer" class="doc doc-heading">
            <code>CeurWsWebServer</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="ngwidgets.input_webserver.InputWebserver">InputWebserver</span></code></p>


      <p>webserver</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/webserver.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CeurWsWebServer</span><span class="p">(</span><span class="n">InputWebserver</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    webserver</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WebserverConfig</span><span class="p">:</span>
        <span class="n">copy_right</span> <span class="o">=</span> <span class="s2">&quot;(c)2023-2024 Wolfgang Fahl&quot;</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">WebserverConfig</span><span class="p">(</span>
            <span class="n">copy_right</span><span class="o">=</span><span class="n">copy_right</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">Version</span><span class="p">(),</span>
            <span class="n">default_port</span><span class="o">=</span><span class="mi">9998</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
            <span class="n">short_name</span><span class="o">=</span><span class="s2">&quot;spf&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">server_config</span> <span class="o">=</span> <span class="n">WebserverConfig</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
        <span class="n">server_config</span><span class="o">.</span><span class="n">solution_class</span> <span class="o">=</span> <span class="n">CeurWsSolution</span>
        <span class="k">return</span> <span class="n">server_config</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        constructor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">InputWebserver</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">CeurWsWebServer</span><span class="o">.</span><span class="n">get_config</span><span class="p">())</span>

        <span class="nd">@ui</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="s2">&quot;/volumes&quot;</span><span class="p">)</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">show_volumes</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="n">Client</span><span class="p">):</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">CeurWsSolution</span><span class="o">.</span><span class="n">volumes</span><span class="p">)</span>

        <span class="nd">@ui</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="s2">&quot;/volume/</span><span class="si">{volnumber}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">show_volume_page</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="n">Client</span><span class="p">,</span> <span class="n">vol_number</span><span class="p">):</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">CeurWsSolution</span><span class="o">.</span><span class="n">volumePage</span><span class="p">,</span> <span class="n">vol_number</span><span class="p">)</span>

        <span class="nd">@ui</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="s2">&quot;/wikidatasync&quot;</span><span class="p">)</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">wikidatasync</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="n">Client</span><span class="p">):</span>
            <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">CeurWsSolution</span><span class="o">.</span><span class="n">wikidatasync</span><span class="p">)</span>

        <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/volumes.json&quot;</span><span class="p">)</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">volumes</span><span class="p">():</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            direct fastapi return of volumes</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">volumeList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">getList</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">volumeList</span>

        <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/proceedings.json&quot;</span><span class="p">)</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">proceedings</span><span class="p">():</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            direct fastapi return of proceedings</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">proceedingsList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">loadProceedingsFromCache</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">ORJSONResponse</span><span class="p">(</span><span class="n">proceedingsList</span><span class="p">)</span>

        <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/papers.json&quot;</span><span class="p">)</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">papers</span><span class="p">():</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            direct fastapi return of papers</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">paperList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">pm</span><span class="o">.</span><span class="n">getList</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">paperList</span>

        <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s2">&quot;/papers_dblp.json&quot;</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp complete dataset&quot;</span><span class="p">],</span>
            <span class="c1"># response_model= List[DblpPaper]</span>
        <span class="p">)</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">papers_dblp</span><span class="p">():</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            direct fastapi return of paper information from dblp</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">dblp_papers</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
            <span class="n">papers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">dblp_papers</span><span class="o">.</span><span class="n">papers</span>
            <span class="n">records</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">papers</span><span class="p">]</span>
            <span class="n">lod</span> <span class="o">=</span> <span class="p">[</span><span class="n">orjson</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span> <span class="k">for</span> <span class="n">json_str</span> <span class="ow">in</span> <span class="n">records</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">ORJSONResponse</span><span class="p">(</span><span class="n">lod</span><span class="p">)</span>

        <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s2">&quot;/authors_dblp.json&quot;</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp complete dataset&quot;</span><span class="p">],</span>
            <span class="c1"># response_model=List[DblpAuthor]</span>
        <span class="p">)</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">authors_papers_dblp</span><span class="p">():</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            direct fastapi return of paper information from dblp</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">authors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_all_ceur_authors</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">ORJSONResponse</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="n">authors</span><span class="p">)</span>

        <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/dblp/papers&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp complete dataset&quot;</span><span class="p">])</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">dblp_papers</span><span class="p">(</span><span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpPaper</span><span class="p">]:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Get ceur-ws volumes form dblp</span>
<span class="sd">            Args:</span>
<span class="sd">                limit: max number of returned papers</span>
<span class="sd">                offset:</span>

<span class="sd">            Returns:</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">papers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_all_ceur_papers</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">papers</span><span class="p">[</span><span class="n">offset</span><span class="p">:</span><span class="n">limit</span><span class="p">]</span>

        <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/dblp/editors&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp complete dataset&quot;</span><span class="p">])</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">dblp_editors</span><span class="p">(</span><span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpScholar</span><span class="p">]:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Get ceur-ws volume editors form dblp</span>
<span class="sd">            Args:</span>
<span class="sd">                limit: max number of returned papers</span>
<span class="sd">                offset:</span>

<span class="sd">            Returns:</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">editors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_all_ceur_editors</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">editors</span><span class="p">[</span><span class="n">offset</span><span class="p">:</span><span class="n">limit</span><span class="p">]</span>

        <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/dblp/volumes&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp complete dataset&quot;</span><span class="p">])</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">dblp_volumes</span><span class="p">(</span><span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpPaper</span><span class="p">]:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Get ceur-ws volumes form dblp</span>
<span class="sd">            Args:</span>
<span class="sd">                limit: max number of returned papers</span>
<span class="sd">                offset:</span>

<span class="sd">            Returns:</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">proceedings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_all_ceur_proceedings</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">proceedings</span><span class="p">[</span><span class="n">offset</span><span class="p">:</span><span class="n">limit</span><span class="p">]</span>

        <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/dblp/volume/</span><span class="si">{volume_number}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp&quot;</span><span class="p">])</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">dblp_volume</span><span class="p">(</span><span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DblpProceeding</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Get ceur-ws volume form dblp</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">proceeding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_ceur_proceeding</span><span class="p">(</span><span class="n">volume_number</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">e</span>
            <span class="k">if</span> <span class="n">proceeding</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">proceeding</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Volume not found&quot;</span><span class="p">)</span>

        <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/dblp/volume/</span><span class="si">{volume_number}</span><span class="s2">/editor&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp&quot;</span><span class="p">])</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">dblp_volume_editors</span><span class="p">(</span><span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpScholar</span><span class="p">]:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Get ceur-ws volume editors form dblp</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">proceeding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_ceur_proceeding</span><span class="p">(</span><span class="n">volume_number</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">e</span>
            <span class="k">if</span> <span class="n">proceeding</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">proceeding</span><span class="o">.</span><span class="n">editors</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Volume not found&quot;</span><span class="p">)</span>

        <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/dblp/volume/</span><span class="si">{volume_number}</span><span class="s2">/paper&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp&quot;</span><span class="p">])</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">dblp_volume_papers</span><span class="p">(</span><span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpPaper</span><span class="p">]:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Get ceur-ws volume papers form dblp</span>
<span class="sd">            Args:</span>
<span class="sd">                volume_number: number of the volume</span>

<span class="sd">            Returns:</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">papers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_ceur_volume_papers</span><span class="p">(</span><span class="n">volume_number</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">papers</span>

        <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/dblp/volume/</span><span class="si">{volume_number}</span><span class="s2">/paper/</span><span class="si">{paper_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp&quot;</span><span class="p">])</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">dblp_paper</span><span class="p">(</span><span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">paper_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DblpPaper</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Get ceur-ws volume paper form dblp</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">papers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_ceur_volume_papers</span><span class="p">(</span><span class="n">volume_number</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">papers</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">paper</span> <span class="ow">in</span> <span class="n">papers</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">paper</span><span class="o">.</span><span class="n">pdf_id</span> <span class="o">==</span> <span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="n">volume_number</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">paper_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span>
                        <span class="k">return</span> <span class="n">paper</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Paper not found&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Volume not found&quot;</span><span class="p">)</span>

        <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="s2">&quot;/dblp/volume/</span><span class="si">{volume_number}</span><span class="s2">/paper/</span><span class="si">{paper_id}</span><span class="s2">/author&quot;</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp&quot;</span><span class="p">],</span>
        <span class="p">)</span>
        <span class="k">async</span> <span class="k">def</span> <span class="nf">dblp_paper_authors</span><span class="p">(</span><span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">paper_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpScholar</span><span class="p">]:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Get ceur-ws volume paper form dblp</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">papers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_ceur_volume_papers</span><span class="p">(</span><span class="n">volume_number</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">papers</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">paper</span> <span class="ow">in</span> <span class="n">papers</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">paper</span><span class="o">.</span><span class="n">pdf_id</span> <span class="o">==</span> <span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="n">volume_number</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">paper_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span>
                        <span class="k">return</span> <span class="n">paper</span><span class="o">.</span><span class="n">authors</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Paper not found&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Volume not found&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">configure_run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        configure command line specific details</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">InputWebserver</span><span class="o">.</span><span class="n">configure_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span> <span class="o">=</span> <span class="n">WikidataSync</span><span class="o">.</span><span class="n">from_args</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.webserver.CeurWsWebServer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>constructor</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/webserver.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    constructor</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">InputWebserver</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">CeurWsWebServer</span><span class="o">.</span><span class="n">get_config</span><span class="p">())</span>

    <span class="nd">@ui</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="s2">&quot;/volumes&quot;</span><span class="p">)</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">show_volumes</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="n">Client</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">CeurWsSolution</span><span class="o">.</span><span class="n">volumes</span><span class="p">)</span>

    <span class="nd">@ui</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="s2">&quot;/volume/</span><span class="si">{volnumber}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">show_volume_page</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="n">Client</span><span class="p">,</span> <span class="n">vol_number</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">CeurWsSolution</span><span class="o">.</span><span class="n">volumePage</span><span class="p">,</span> <span class="n">vol_number</span><span class="p">)</span>

    <span class="nd">@ui</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="s2">&quot;/wikidatasync&quot;</span><span class="p">)</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">wikidatasync</span><span class="p">(</span><span class="n">client</span><span class="p">:</span> <span class="n">Client</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">CeurWsSolution</span><span class="o">.</span><span class="n">wikidatasync</span><span class="p">)</span>

    <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/volumes.json&quot;</span><span class="p">)</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">volumes</span><span class="p">():</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        direct fastapi return of volumes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">volumeList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">getList</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">volumeList</span>

    <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/proceedings.json&quot;</span><span class="p">)</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">proceedings</span><span class="p">():</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        direct fastapi return of proceedings</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">proceedingsList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">loadProceedingsFromCache</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">ORJSONResponse</span><span class="p">(</span><span class="n">proceedingsList</span><span class="p">)</span>

    <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/papers.json&quot;</span><span class="p">)</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">papers</span><span class="p">():</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        direct fastapi return of papers</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">paperList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">pm</span><span class="o">.</span><span class="n">getList</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">paperList</span>

    <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;/papers_dblp.json&quot;</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp complete dataset&quot;</span><span class="p">],</span>
        <span class="c1"># response_model= List[DblpPaper]</span>
    <span class="p">)</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">papers_dblp</span><span class="p">():</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        direct fastapi return of paper information from dblp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">dblp_papers</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
        <span class="n">papers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">dblp_papers</span><span class="o">.</span><span class="n">papers</span>
        <span class="n">records</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">papers</span><span class="p">]</span>
        <span class="n">lod</span> <span class="o">=</span> <span class="p">[</span><span class="n">orjson</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span> <span class="k">for</span> <span class="n">json_str</span> <span class="ow">in</span> <span class="n">records</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">ORJSONResponse</span><span class="p">(</span><span class="n">lod</span><span class="p">)</span>

    <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;/authors_dblp.json&quot;</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp complete dataset&quot;</span><span class="p">],</span>
        <span class="c1"># response_model=List[DblpAuthor]</span>
    <span class="p">)</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">authors_papers_dblp</span><span class="p">():</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        direct fastapi return of paper information from dblp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">authors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_all_ceur_authors</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">ORJSONResponse</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="n">authors</span><span class="p">)</span>

    <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/dblp/papers&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp complete dataset&quot;</span><span class="p">])</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">dblp_papers</span><span class="p">(</span><span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpPaper</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get ceur-ws volumes form dblp</span>
<span class="sd">        Args:</span>
<span class="sd">            limit: max number of returned papers</span>
<span class="sd">            offset:</span>

<span class="sd">        Returns:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">papers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_all_ceur_papers</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">papers</span><span class="p">[</span><span class="n">offset</span><span class="p">:</span><span class="n">limit</span><span class="p">]</span>

    <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/dblp/editors&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp complete dataset&quot;</span><span class="p">])</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">dblp_editors</span><span class="p">(</span><span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpScholar</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get ceur-ws volume editors form dblp</span>
<span class="sd">        Args:</span>
<span class="sd">            limit: max number of returned papers</span>
<span class="sd">            offset:</span>

<span class="sd">        Returns:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">editors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_all_ceur_editors</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">editors</span><span class="p">[</span><span class="n">offset</span><span class="p">:</span><span class="n">limit</span><span class="p">]</span>

    <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/dblp/volumes&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp complete dataset&quot;</span><span class="p">])</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">dblp_volumes</span><span class="p">(</span><span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpPaper</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get ceur-ws volumes form dblp</span>
<span class="sd">        Args:</span>
<span class="sd">            limit: max number of returned papers</span>
<span class="sd">            offset:</span>

<span class="sd">        Returns:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">proceedings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_all_ceur_proceedings</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">proceedings</span><span class="p">[</span><span class="n">offset</span><span class="p">:</span><span class="n">limit</span><span class="p">]</span>

    <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/dblp/volume/</span><span class="si">{volume_number}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp&quot;</span><span class="p">])</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">dblp_volume</span><span class="p">(</span><span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DblpProceeding</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get ceur-ws volume form dblp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">proceeding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_ceur_proceeding</span><span class="p">(</span><span class="n">volume_number</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">e</span>
        <span class="k">if</span> <span class="n">proceeding</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">proceeding</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Volume not found&quot;</span><span class="p">)</span>

    <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/dblp/volume/</span><span class="si">{volume_number}</span><span class="s2">/editor&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp&quot;</span><span class="p">])</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">dblp_volume_editors</span><span class="p">(</span><span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpScholar</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get ceur-ws volume editors form dblp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">proceeding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_ceur_proceeding</span><span class="p">(</span><span class="n">volume_number</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span> <span class="kn">from</span> <span class="nn">e</span>
        <span class="k">if</span> <span class="n">proceeding</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">proceeding</span><span class="o">.</span><span class="n">editors</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Volume not found&quot;</span><span class="p">)</span>

    <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/dblp/volume/</span><span class="si">{volume_number}</span><span class="s2">/paper&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp&quot;</span><span class="p">])</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">dblp_volume_papers</span><span class="p">(</span><span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpPaper</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get ceur-ws volume papers form dblp</span>
<span class="sd">        Args:</span>
<span class="sd">            volume_number: number of the volume</span>

<span class="sd">        Returns:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">papers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_ceur_volume_papers</span><span class="p">(</span><span class="n">volume_number</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">papers</span>

    <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/dblp/volume/</span><span class="si">{volume_number}</span><span class="s2">/paper/</span><span class="si">{paper_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp&quot;</span><span class="p">])</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">dblp_paper</span><span class="p">(</span><span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">paper_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DblpPaper</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get ceur-ws volume paper form dblp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">papers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_ceur_volume_papers</span><span class="p">(</span><span class="n">volume_number</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">papers</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">paper</span> <span class="ow">in</span> <span class="n">papers</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">paper</span><span class="o">.</span><span class="n">pdf_id</span> <span class="o">==</span> <span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="n">volume_number</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">paper_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">paper</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Paper not found&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Volume not found&quot;</span><span class="p">)</span>

    <span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s2">&quot;/dblp/volume/</span><span class="si">{volume_number}</span><span class="s2">/paper/</span><span class="si">{paper_id}</span><span class="s2">/author&quot;</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dblp&quot;</span><span class="p">],</span>
    <span class="p">)</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">dblp_paper_authors</span><span class="p">(</span><span class="n">volume_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">paper_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">DblpScholar</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get ceur-ws volume paper form dblp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">papers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">get_ceur_volume_papers</span><span class="p">(</span><span class="n">volume_number</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">papers</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">paper</span> <span class="ow">in</span> <span class="n">papers</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">paper</span><span class="o">.</span><span class="n">pdf_id</span> <span class="o">==</span> <span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="n">volume_number</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">paper_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">paper</span><span class="o">.</span><span class="n">authors</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Paper not found&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Volume not found&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.webserver.CeurWsWebServer.configure_run" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">configure_run</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>configure command line specific details</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/webserver.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">configure_run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    configure command line specific details</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">InputWebserver</span><span class="o">.</span><span class="n">configure_run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wdSync</span> <span class="o">=</span> <span class="n">WikidataSync</span><span class="o">.</span><span class="n">from_args</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.wikidata_view" class="doc doc-heading">
            <code>wikidata_view</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 2024-02-23</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.wikidata_view.WikidataView" class="doc doc-heading">
            <code>WikidataView</code>


</h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="ceurws.view.View" href="#ceurws.view.View">View</a></code></p>


      <p>Wikidata View</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/wikidata_view.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">WikidataView</span><span class="p">(</span><span class="n">View</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Wikidata View</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">solution</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        constructor</span>

<span class="sd">        Args:</span>
<span class="sd">            solution: the solution</span>
<span class="sd">            parent: the parent UI container</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">solution</span> <span class="o">=</span> <span class="n">solution</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setup_ui</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">update_proceedings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        update the cached proceedings</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">proceedings_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">loadProceedingsFromCache</span><span class="p">()</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
                <span class="n">ui</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">proceedings_records</span><span class="p">)</span><span class="si">}</span><span class="s2"> cached wikidata proceedings records&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">reload_aggrid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">proceedings_records</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">reload_aggrid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">olod</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        reload my aggrid with the list of Volumes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">reverseLod</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="n">olod</span><span class="p">,</span>
            <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sVolume&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">row</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Volume&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">lod</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reverseLod</span><span class="p">:</span>
            <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getRowValue</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s2">&quot;sVolume&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">volume</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">noneValue</span><span class="p">:</span>
                <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getRowValue</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s2">&quot;Volume&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">volume</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">noneValue</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">vol_no</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
                    <span class="n">volumeLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;http://ceur-ws.org/Vol-</span><span class="si">{</span><span class="n">volume</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="n">vol_no</span><span class="si">:</span><span class="s2">04</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">_ex</span><span class="p">:</span>
                    <span class="n">volumeLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">noneValue</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">volumeLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">noneValue</span>
            <span class="n">itemLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createItemLink</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s2">&quot;item&quot;</span><span class="p">)</span>
            <span class="n">eventLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createItemLink</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s2">&quot;event&quot;</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
            <span class="n">eventSeriesLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createItemLink</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s2">&quot;eventSeries&quot;</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
            <span class="n">dblpLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createExternalLink</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s2">&quot;dblpProceedingsId&quot;</span><span class="p">,</span> <span class="s2">&quot;dblp&quot;</span><span class="p">,</span> <span class="n">DblpEndpoint</span><span class="o">.</span><span class="n">DBLP_REC_PREFIX</span><span class="p">)</span>
            <span class="n">k10PlusLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createExternalLink</span><span class="p">(</span>
                <span class="n">row</span><span class="p">,</span> <span class="s2">&quot;ppnId&quot;</span><span class="p">,</span> <span class="s2">&quot;k10plus&quot;</span><span class="p">,</span> <span class="s2">&quot;https://opac.k10plus.de/DB=2.299/PPNSET?PPN=&quot;</span>
            <span class="p">)</span>
            <span class="n">lod</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">&quot;#&quot;</span><span class="p">:</span> <span class="n">volume</span><span class="p">,</span>
                    <span class="s2">&quot;item&quot;</span><span class="p">:</span> <span class="n">itemLink</span><span class="p">,</span>
                    <span class="s2">&quot;volume&quot;</span><span class="p">:</span> <span class="n">volumeLink</span><span class="p">,</span>
                    <span class="s2">&quot;acronym&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getRowValue</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s2">&quot;short_name&quot;</span><span class="p">),</span>
                    <span class="s2">&quot;dblp&quot;</span><span class="p">:</span> <span class="n">dblpLink</span><span class="p">,</span>
                    <span class="s2">&quot;k10plus&quot;</span><span class="p">:</span> <span class="n">k10PlusLink</span><span class="p">,</span>
                    <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="n">eventLink</span><span class="p">,</span>
                    <span class="s2">&quot;series&quot;</span><span class="p">:</span> <span class="n">eventSeriesLink</span><span class="p">,</span>
                    <span class="s2">&quot;ordinal&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getRowValue</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s2">&quot;eventSeriesOrdinal&quot;</span><span class="p">),</span>
                    <span class="c1"># &quot;title&quot;:row.get(&quot;title&quot;,&quot;?&quot;),</span>
                <span class="p">}</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span><span class="o">.</span><span class="n">load_lod</span><span class="p">(</span><span class="n">lod</span><span class="p">)</span>
        <span class="c1"># set max width of Item column</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span><span class="o">.</span><span class="n">set_column_def</span><span class="p">(</span><span class="s2">&quot;item&quot;</span><span class="p">,</span> <span class="s2">&quot;maxWidth&quot;</span><span class="p">,</span> <span class="mi">380</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span><span class="o">.</span><span class="n">set_column_def</span><span class="p">(</span><span class="s2">&quot;event&quot;</span><span class="p">,</span> <span class="s2">&quot;maxWidth&quot;</span><span class="p">,</span> <span class="mi">380</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span><span class="o">.</span><span class="n">sizeColumnsToFit</span><span class="p">()</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">on_refresh_button_click</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        handle the refreshing of the proceedings from wikidata</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">await</span> <span class="n">run</span><span class="o">.</span><span class="n">io_bound</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">refresh_wikidata</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">refresh_wikidata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
                <span class="n">ui</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="s2">&quot;wikidata refresh button clicked&quot;</span><span class="p">)</span>
            <span class="n">wd_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
                <span class="n">ui</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;read </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">wd_records</span><span class="p">)</span><span class="si">}</span><span class="s2"> proceeding records from wikidata&quot;</span><span class="p">)</span>
            <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">reload_aggrid</span><span class="p">(</span><span class="n">wd_records</span><span class="p">)</span>
            <span class="k">pass</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">setup_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        setup my User Interface elements</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">ui</span><span class="o">.</span><span class="n">row</span><span class="p">()</span> <span class="k">as</span> <span class="bp">self</span><span class="o">.</span><span class="n">tool_bar</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">refresh_button</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">ui</span><span class="o">.</span><span class="n">button</span><span class="p">(</span>
                        <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;refresh&quot;</span><span class="p">,</span>
                        <span class="n">on_click</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_refresh_button_click</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="o">.</span><span class="n">classes</span><span class="p">(</span><span class="s2">&quot;btn btn-primary btn-sm col-1&quot;</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">tooltip</span><span class="p">(</span><span class="s2">&quot;Refresh from Wikidata SPARQL endpoint&quot;</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">query_view</span> <span class="o">=</span> <span class="n">QueryView</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="p">,</span>
                    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;CEUR-WS wikidata sync&quot;</span><span class="p">,</span>
                    <span class="n">sparql_endpoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">wikidata_endpoint</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">query_view</span><span class="o">.</span><span class="n">show_query</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">wdQuery</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>

            <span class="c1"># grid_config = GridConfig(</span>
            <span class="c1">#        key_col=&quot;Vol&quot;,</span>
            <span class="c1">#        multiselect=True)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span> <span class="o">=</span> <span class="n">ListOfDictsGrid</span><span class="p">()</span>
            <span class="n">ui</span><span class="o">.</span><span class="n">timer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_proceedings</span><span class="p">,</span> <span class="n">once</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidata_view.WikidataView.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">solution</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>constructor</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>solution</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the solution</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>parent</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the parent UI container</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidata_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">solution</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    constructor</span>

<span class="sd">    Args:</span>
<span class="sd">        solution: the solution</span>
<span class="sd">        parent: the parent UI container</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">solution</span> <span class="o">=</span> <span class="n">solution</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">setup_ui</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidata_view.WikidataView.on_refresh_button_click" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">on_refresh_button_click</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>handle the refreshing of the proceedings from wikidata</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidata_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">on_refresh_button_click</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    handle the refreshing of the proceedings from wikidata</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">await</span> <span class="n">run</span><span class="o">.</span><span class="n">io_bound</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">refresh_wikidata</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidata_view.WikidataView.reload_aggrid" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">reload_aggrid</span><span class="p">(</span><span class="n">olod</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>reload my aggrid with the list of Volumes</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidata_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">reload_aggrid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">olod</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    reload my aggrid with the list of Volumes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">reverseLod</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span>
        <span class="n">olod</span><span class="p">,</span>
        <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sVolume&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">row</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Volume&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">lod</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reverseLod</span><span class="p">:</span>
        <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getRowValue</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s2">&quot;sVolume&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">volume</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">noneValue</span><span class="p">:</span>
            <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getRowValue</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s2">&quot;Volume&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">volume</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">noneValue</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">vol_no</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
                <span class="n">volumeLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createLink</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;http://ceur-ws.org/Vol-</span><span class="si">{</span><span class="n">volume</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="n">vol_no</span><span class="si">:</span><span class="s2">04</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">_ex</span><span class="p">:</span>
                <span class="n">volumeLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">noneValue</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">volumeLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">noneValue</span>
        <span class="n">itemLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createItemLink</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s2">&quot;item&quot;</span><span class="p">)</span>
        <span class="n">eventLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createItemLink</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s2">&quot;event&quot;</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
        <span class="n">eventSeriesLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createItemLink</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s2">&quot;eventSeries&quot;</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
        <span class="n">dblpLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createExternalLink</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s2">&quot;dblpProceedingsId&quot;</span><span class="p">,</span> <span class="s2">&quot;dblp&quot;</span><span class="p">,</span> <span class="n">DblpEndpoint</span><span class="o">.</span><span class="n">DBLP_REC_PREFIX</span><span class="p">)</span>
        <span class="n">k10PlusLink</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">createExternalLink</span><span class="p">(</span>
            <span class="n">row</span><span class="p">,</span> <span class="s2">&quot;ppnId&quot;</span><span class="p">,</span> <span class="s2">&quot;k10plus&quot;</span><span class="p">,</span> <span class="s2">&quot;https://opac.k10plus.de/DB=2.299/PPNSET?PPN=&quot;</span>
        <span class="p">)</span>
        <span class="n">lod</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;#&quot;</span><span class="p">:</span> <span class="n">volume</span><span class="p">,</span>
                <span class="s2">&quot;item&quot;</span><span class="p">:</span> <span class="n">itemLink</span><span class="p">,</span>
                <span class="s2">&quot;volume&quot;</span><span class="p">:</span> <span class="n">volumeLink</span><span class="p">,</span>
                <span class="s2">&quot;acronym&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getRowValue</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s2">&quot;short_name&quot;</span><span class="p">),</span>
                <span class="s2">&quot;dblp&quot;</span><span class="p">:</span> <span class="n">dblpLink</span><span class="p">,</span>
                <span class="s2">&quot;k10plus&quot;</span><span class="p">:</span> <span class="n">k10PlusLink</span><span class="p">,</span>
                <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="n">eventLink</span><span class="p">,</span>
                <span class="s2">&quot;series&quot;</span><span class="p">:</span> <span class="n">eventSeriesLink</span><span class="p">,</span>
                <span class="s2">&quot;ordinal&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">getRowValue</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s2">&quot;eventSeriesOrdinal&quot;</span><span class="p">),</span>
                <span class="c1"># &quot;title&quot;:row.get(&quot;title&quot;,&quot;?&quot;),</span>
            <span class="p">}</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span><span class="o">.</span><span class="n">load_lod</span><span class="p">(</span><span class="n">lod</span><span class="p">)</span>
    <span class="c1"># set max width of Item column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span><span class="o">.</span><span class="n">set_column_def</span><span class="p">(</span><span class="s2">&quot;item&quot;</span><span class="p">,</span> <span class="s2">&quot;maxWidth&quot;</span><span class="p">,</span> <span class="mi">380</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span><span class="o">.</span><span class="n">set_column_def</span><span class="p">(</span><span class="s2">&quot;event&quot;</span><span class="p">,</span> <span class="s2">&quot;maxWidth&quot;</span><span class="p">,</span> <span class="mi">380</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span><span class="o">.</span><span class="n">sizeColumnsToFit</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidata_view.WikidataView.setup_ui" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">setup_ui</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>setup my User Interface elements</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidata_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">setup_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    setup my User Interface elements</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">ui</span><span class="o">.</span><span class="n">row</span><span class="p">()</span> <span class="k">as</span> <span class="bp">self</span><span class="o">.</span><span class="n">tool_bar</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">refresh_button</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">ui</span><span class="o">.</span><span class="n">button</span><span class="p">(</span>
                    <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;refresh&quot;</span><span class="p">,</span>
                    <span class="n">on_click</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_refresh_button_click</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="o">.</span><span class="n">classes</span><span class="p">(</span><span class="s2">&quot;btn btn-primary btn-sm col-1&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">tooltip</span><span class="p">(</span><span class="s2">&quot;Refresh from Wikidata SPARQL endpoint&quot;</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">query_view</span> <span class="o">=</span> <span class="n">QueryView</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;CEUR-WS wikidata sync&quot;</span><span class="p">,</span>
                <span class="n">sparql_endpoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">wikidata_endpoint</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">query_view</span><span class="o">.</span><span class="n">show_query</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">wdQuery</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>

        <span class="c1"># grid_config = GridConfig(</span>
        <span class="c1">#        key_col=&quot;Vol&quot;,</span>
        <span class="c1">#        multiselect=True)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lod_grid</span> <span class="o">=</span> <span class="n">ListOfDictsGrid</span><span class="p">()</span>
        <span class="n">ui</span><span class="o">.</span><span class="n">timer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_proceedings</span><span class="p">,</span> <span class="n">once</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidata_view.WikidataView.update_proceedings" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_proceedings</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>update the cached proceedings</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidata_view.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">update_proceedings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    update the cached proceedings</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">proceedings_records</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">wdSync</span><span class="o">.</span><span class="n">loadProceedingsFromCache</span><span class="p">()</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span>
            <span class="n">ui</span><span class="o">.</span><span class="n">notify</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">proceedings_records</span><span class="p">)</span><span class="si">}</span><span class="s2"> cached wikidata proceedings records&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reload_aggrid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">proceedings_records</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">solution</span><span class="o">.</span><span class="n">handle_exception</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.wikidatasync" class="doc doc-heading">
            <code>wikidatasync</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 2022-08-14</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.wikidatasync.WikidataSync" class="doc doc-heading">
            <code>WikidataSync</code>


</h3>


    <div class="doc doc-contents ">


      <p>synchronize with wikidata</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  25</span>
<span class="normal">  26</span>
<span class="normal">  27</span>
<span class="normal">  28</span>
<span class="normal">  29</span>
<span class="normal">  30</span>
<span class="normal">  31</span>
<span class="normal">  32</span>
<span class="normal">  33</span>
<span class="normal">  34</span>
<span class="normal">  35</span>
<span class="normal">  36</span>
<span class="normal">  37</span>
<span class="normal">  38</span>
<span class="normal">  39</span>
<span class="normal">  40</span>
<span class="normal">  41</span>
<span class="normal">  42</span>
<span class="normal">  43</span>
<span class="normal">  44</span>
<span class="normal">  45</span>
<span class="normal">  46</span>
<span class="normal">  47</span>
<span class="normal">  48</span>
<span class="normal">  49</span>
<span class="normal">  50</span>
<span class="normal">  51</span>
<span class="normal">  52</span>
<span class="normal">  53</span>
<span class="normal">  54</span>
<span class="normal">  55</span>
<span class="normal">  56</span>
<span class="normal">  57</span>
<span class="normal">  58</span>
<span class="normal">  59</span>
<span class="normal">  60</span>
<span class="normal">  61</span>
<span class="normal">  62</span>
<span class="normal">  63</span>
<span class="normal">  64</span>
<span class="normal">  65</span>
<span class="normal">  66</span>
<span class="normal">  67</span>
<span class="normal">  68</span>
<span class="normal">  69</span>
<span class="normal">  70</span>
<span class="normal">  71</span>
<span class="normal">  72</span>
<span class="normal">  73</span>
<span class="normal">  74</span>
<span class="normal">  75</span>
<span class="normal">  76</span>
<span class="normal">  77</span>
<span class="normal">  78</span>
<span class="normal">  79</span>
<span class="normal">  80</span>
<span class="normal">  81</span>
<span class="normal">  82</span>
<span class="normal">  83</span>
<span class="normal">  84</span>
<span class="normal">  85</span>
<span class="normal">  86</span>
<span class="normal">  87</span>
<span class="normal">  88</span>
<span class="normal">  89</span>
<span class="normal">  90</span>
<span class="normal">  91</span>
<span class="normal">  92</span>
<span class="normal">  93</span>
<span class="normal">  94</span>
<span class="normal">  95</span>
<span class="normal">  96</span>
<span class="normal">  97</span>
<span class="normal">  98</span>
<span class="normal">  99</span>
<span class="normal"> 100</span>
<span class="normal"> 101</span>
<span class="normal"> 102</span>
<span class="normal"> 103</span>
<span class="normal"> 104</span>
<span class="normal"> 105</span>
<span class="normal"> 106</span>
<span class="normal"> 107</span>
<span class="normal"> 108</span>
<span class="normal"> 109</span>
<span class="normal"> 110</span>
<span class="normal"> 111</span>
<span class="normal"> 112</span>
<span class="normal"> 113</span>
<span class="normal"> 114</span>
<span class="normal"> 115</span>
<span class="normal"> 116</span>
<span class="normal"> 117</span>
<span class="normal"> 118</span>
<span class="normal"> 119</span>
<span class="normal"> 120</span>
<span class="normal"> 121</span>
<span class="normal"> 122</span>
<span class="normal"> 123</span>
<span class="normal"> 124</span>
<span class="normal"> 125</span>
<span class="normal"> 126</span>
<span class="normal"> 127</span>
<span class="normal"> 128</span>
<span class="normal"> 129</span>
<span class="normal"> 130</span>
<span class="normal"> 131</span>
<span class="normal"> 132</span>
<span class="normal"> 133</span>
<span class="normal"> 134</span>
<span class="normal"> 135</span>
<span class="normal"> 136</span>
<span class="normal"> 137</span>
<span class="normal"> 138</span>
<span class="normal"> 139</span>
<span class="normal"> 140</span>
<span class="normal"> 141</span>
<span class="normal"> 142</span>
<span class="normal"> 143</span>
<span class="normal"> 144</span>
<span class="normal"> 145</span>
<span class="normal"> 146</span>
<span class="normal"> 147</span>
<span class="normal"> 148</span>
<span class="normal"> 149</span>
<span class="normal"> 150</span>
<span class="normal"> 151</span>
<span class="normal"> 152</span>
<span class="normal"> 153</span>
<span class="normal"> 154</span>
<span class="normal"> 155</span>
<span class="normal"> 156</span>
<span class="normal"> 157</span>
<span class="normal"> 158</span>
<span class="normal"> 159</span>
<span class="normal"> 160</span>
<span class="normal"> 161</span>
<span class="normal"> 162</span>
<span class="normal"> 163</span>
<span class="normal"> 164</span>
<span class="normal"> 165</span>
<span class="normal"> 166</span>
<span class="normal"> 167</span>
<span class="normal"> 168</span>
<span class="normal"> 169</span>
<span class="normal"> 170</span>
<span class="normal"> 171</span>
<span class="normal"> 172</span>
<span class="normal"> 173</span>
<span class="normal"> 174</span>
<span class="normal"> 175</span>
<span class="normal"> 176</span>
<span class="normal"> 177</span>
<span class="normal"> 178</span>
<span class="normal"> 179</span>
<span class="normal"> 180</span>
<span class="normal"> 181</span>
<span class="normal"> 182</span>
<span class="normal"> 183</span>
<span class="normal"> 184</span>
<span class="normal"> 185</span>
<span class="normal"> 186</span>
<span class="normal"> 187</span>
<span class="normal"> 188</span>
<span class="normal"> 189</span>
<span class="normal"> 190</span>
<span class="normal"> 191</span>
<span class="normal"> 192</span>
<span class="normal"> 193</span>
<span class="normal"> 194</span>
<span class="normal"> 195</span>
<span class="normal"> 196</span>
<span class="normal"> 197</span>
<span class="normal"> 198</span>
<span class="normal"> 199</span>
<span class="normal"> 200</span>
<span class="normal"> 201</span>
<span class="normal"> 202</span>
<span class="normal"> 203</span>
<span class="normal"> 204</span>
<span class="normal"> 205</span>
<span class="normal"> 206</span>
<span class="normal"> 207</span>
<span class="normal"> 208</span>
<span class="normal"> 209</span>
<span class="normal"> 210</span>
<span class="normal"> 211</span>
<span class="normal"> 212</span>
<span class="normal"> 213</span>
<span class="normal"> 214</span>
<span class="normal"> 215</span>
<span class="normal"> 216</span>
<span class="normal"> 217</span>
<span class="normal"> 218</span>
<span class="normal"> 219</span>
<span class="normal"> 220</span>
<span class="normal"> 221</span>
<span class="normal"> 222</span>
<span class="normal"> 223</span>
<span class="normal"> 224</span>
<span class="normal"> 225</span>
<span class="normal"> 226</span>
<span class="normal"> 227</span>
<span class="normal"> 228</span>
<span class="normal"> 229</span>
<span class="normal"> 230</span>
<span class="normal"> 231</span>
<span class="normal"> 232</span>
<span class="normal"> 233</span>
<span class="normal"> 234</span>
<span class="normal"> 235</span>
<span class="normal"> 236</span>
<span class="normal"> 237</span>
<span class="normal"> 238</span>
<span class="normal"> 239</span>
<span class="normal"> 240</span>
<span class="normal"> 241</span>
<span class="normal"> 242</span>
<span class="normal"> 243</span>
<span class="normal"> 244</span>
<span class="normal"> 245</span>
<span class="normal"> 246</span>
<span class="normal"> 247</span>
<span class="normal"> 248</span>
<span class="normal"> 249</span>
<span class="normal"> 250</span>
<span class="normal"> 251</span>
<span class="normal"> 252</span>
<span class="normal"> 253</span>
<span class="normal"> 254</span>
<span class="normal"> 255</span>
<span class="normal"> 256</span>
<span class="normal"> 257</span>
<span class="normal"> 258</span>
<span class="normal"> 259</span>
<span class="normal"> 260</span>
<span class="normal"> 261</span>
<span class="normal"> 262</span>
<span class="normal"> 263</span>
<span class="normal"> 264</span>
<span class="normal"> 265</span>
<span class="normal"> 266</span>
<span class="normal"> 267</span>
<span class="normal"> 268</span>
<span class="normal"> 269</span>
<span class="normal"> 270</span>
<span class="normal"> 271</span>
<span class="normal"> 272</span>
<span class="normal"> 273</span>
<span class="normal"> 274</span>
<span class="normal"> 275</span>
<span class="normal"> 276</span>
<span class="normal"> 277</span>
<span class="normal"> 278</span>
<span class="normal"> 279</span>
<span class="normal"> 280</span>
<span class="normal"> 281</span>
<span class="normal"> 282</span>
<span class="normal"> 283</span>
<span class="normal"> 284</span>
<span class="normal"> 285</span>
<span class="normal"> 286</span>
<span class="normal"> 287</span>
<span class="normal"> 288</span>
<span class="normal"> 289</span>
<span class="normal"> 290</span>
<span class="normal"> 291</span>
<span class="normal"> 292</span>
<span class="normal"> 293</span>
<span class="normal"> 294</span>
<span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">WikidataSync</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    synchronize with wikidata</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">baseurl</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;https://www.wikidata.org&quot;</span><span class="p">,</span>
        <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">dblp_endpoint_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor</span>

<span class="sd">        Args:</span>
<span class="sd">            baseurl(str): the baseurl of the wikidata endpoint</span>
<span class="sd">            debug(bool): if True switch on debugging</span>
<span class="sd">            dblp_endpoint_url: sparql endpoint url of dblp</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">dblp_endpoint_url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">dblp_endpoint_url</span> <span class="o">=</span> <span class="n">DBLP_ENDPOINT</span><span class="o">.</span><span class="n">endpoint</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prepareVolumeManager</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">preparePaperManager</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prepareRDF</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wdQuery</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">qm</span><span class="o">.</span><span class="n">queriesByName</span><span class="p">[</span><span class="s2">&quot;Proceedings&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baseurl</span> <span class="o">=</span> <span class="n">baseurl</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wd</span> <span class="o">=</span> <span class="n">Wikidata</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sqldb</span> <span class="o">=</span> <span class="n">SQLDB</span><span class="p">(</span><span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_FILE</span><span class="p">,</span> <span class="n">check_same_thread</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">procRecords</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">procsByVolnumber</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span> <span class="o">=</span> <span class="n">DblpEndpoint</span><span class="p">(</span><span class="n">endpoint</span><span class="o">=</span><span class="n">dblp_endpoint_url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wikidata_endpoint</span><span class="p">:</span> <span class="n">Endpoint</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_args</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;WikidataSync&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        create a WikidataSync object from the given command line arguments</span>

<span class="sd">        Args:</span>
<span class="sd">            args(Namespace): the command line arguments</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">wd_en</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">wikidata_endpoint_name</span>
        <span class="n">dblp_en</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">dblp_endpoint_name</span>
        <span class="n">wd_sync</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_endpoint_names</span><span class="p">(</span><span class="n">wd_en</span><span class="p">,</span> <span class="n">dblp_en</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wd_sync</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_endpoint_names</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">wd_en</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">dblp_en</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;WikidataSync&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        create a WikidataSync object from the given endpoint names</span>

<span class="sd">        Args:</span>
<span class="sd">            wd_en(str): wikidata endpoint name</span>
<span class="sd">            dblp_en(str): dblp endpoint name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">endpoints</span> <span class="o">=</span> <span class="n">EndpointManager</span><span class="o">.</span><span class="n">getEndpoints</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">wd_en</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">endpoints</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;invalid wikidata endpoint name </span><span class="si">{</span><span class="n">wd_en</span><span class="si">}</span><span class="se">\n</span><span class="s2">see sparqlquery -le &quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dblp_en</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">endpoints</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;invalid dblp endpoint name </span><span class="si">{</span><span class="n">dblp_en</span><span class="si">}</span><span class="se">\n</span><span class="s2">see sparqlquery -le &quot;</span><span class="p">)</span>
        <span class="n">dblp_ep</span> <span class="o">=</span> <span class="n">endpoints</span><span class="p">[</span><span class="n">dblp_en</span><span class="p">]</span>
        <span class="n">wd_ep</span> <span class="o">=</span> <span class="n">endpoints</span><span class="p">[</span><span class="n">wd_en</span><span class="p">]</span>
        <span class="n">wd_sync</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">baseurl</span><span class="o">=</span><span class="n">wd_ep</span><span class="o">.</span><span class="n">endpoint</span><span class="p">,</span>
            <span class="n">dblp_endpoint_url</span><span class="o">=</span><span class="n">dblp_ep</span><span class="o">.</span><span class="n">endpoint</span><span class="p">,</span>
            <span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">wd_sync</span><span class="o">.</span><span class="n">wikidata_endpoint</span> <span class="o">=</span> <span class="n">wd_ep</span>
        <span class="k">return</span> <span class="n">wd_sync</span>

    <span class="k">def</span> <span class="nf">login</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="o">.</span><span class="n">loginWithCredentials</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">logout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">itemUrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qId</span><span class="p">):</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">baseurl</span><span class="si">}</span><span class="s2">/wiki/</span><span class="si">{</span><span class="n">qId</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">url</span>

    <span class="k">def</span> <span class="nf">prepareRDF</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># SPARQL setup</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">endpoints</span> <span class="o">=</span> <span class="n">EndpointManager</span><span class="o">.</span><span class="n">getEndpoints</span><span class="p">(</span><span class="n">lang</span><span class="o">=</span><span class="s2">&quot;sparql&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">endpointConf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">endpoints</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;wikidata&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span> <span class="o">=</span> <span class="n">SPARQL</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">endpointConf</span><span class="o">.</span><span class="n">endpoint</span><span class="p">)</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
        <span class="n">qYamlFile</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">/resources/queries/ceurws.yaml&quot;</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">qYamlFile</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">qm</span> <span class="o">=</span> <span class="n">QueryManager</span><span class="p">(</span><span class="n">lang</span><span class="o">=</span><span class="s2">&quot;sparql&quot;</span><span class="p">,</span> <span class="n">queriesPath</span><span class="o">=</span><span class="n">qYamlFile</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">preparePaperManager</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        prepare my paper Manager</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pm</span> <span class="o">=</span> <span class="n">PaperManager</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pm</span><span class="o">.</span><span class="n">isCached</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pm</span><span class="o">.</span><span class="n">fromStore</span><span class="p">(</span><span class="n">cacheFile</span><span class="o">=</span><span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_FILE</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span>
                <span class="s2">&quot;PaperManager not cached you might want to run ceur-ws --recreate&quot;</span><span class="p">,</span>
                <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">prepareVolumeManager</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        prepare my volume manager</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vm</span> <span class="o">=</span> <span class="n">VolumeManager</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volumesByNumber</span><span class="p">,</span> <span class="n">_duplicates</span> <span class="o">=</span> <span class="n">LOD</span><span class="o">.</span><span class="n">getLookup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">getList</span><span class="p">(),</span> <span class="s2">&quot;number&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volumeList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">getList</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volumeCount</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volumeList</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volumeOptions</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">reverse_keys</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volumesByNumber</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">volume_number</span> <span class="ow">in</span> <span class="n">reverse_keys</span><span class="p">:</span>
            <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">volumesByNumber</span><span class="p">[</span><span class="n">volume_number</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">volumeOptions</span><span class="p">[</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">title</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">addVolume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">Volume</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        add the given volume</span>

<span class="sd">        Args:</span>
<span class="sd">            volume(Volume): the volume to add</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volumeList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volumesByNumber</span><span class="p">[</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="p">]</span> <span class="o">=</span> <span class="n">volume</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volumeCount</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">getRecentlyAddedVolumeList</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">dict</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the list of volumes that have recently been added</span>
<span class="sd">        we do not expect deletions</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[int]: list of volume numbers recently added</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prepareVolumeManager</span><span class="p">()</span>
        <span class="n">refreshVm</span> <span class="o">=</span> <span class="n">VolumeManager</span><span class="p">()</span>
        <span class="n">parser_config</span> <span class="o">=</span> <span class="n">ParserConfig</span><span class="p">()</span>
        <span class="n">parser_config</span><span class="o">.</span><span class="n">force_download</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">set_down_to_volume</span><span class="p">(</span><span class="n">parser_config</span><span class="p">)</span>
        <span class="n">refreshVm</span><span class="o">.</span><span class="n">loadFromIndexHtml</span><span class="p">(</span><span class="n">parser_config</span><span class="o">=</span><span class="n">parser_config</span><span class="p">)</span>
        <span class="n">refreshVolumesByNumber</span><span class="p">,</span> <span class="n">_duplicates</span> <span class="o">=</span> <span class="n">LOD</span><span class="o">.</span><span class="n">getLookup</span><span class="p">(</span><span class="n">refreshVm</span><span class="o">.</span><span class="n">getList</span><span class="p">(),</span> <span class="s2">&quot;number&quot;</span><span class="p">)</span>
        <span class="c1"># https://stackoverflow.com/questions/3462143/get-difference-between-two-lists</span>
        <span class="n">newVolumes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">refreshVolumesByNumber</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volumesByNumber</span><span class="o">.</span><span class="n">keys</span><span class="p">())))</span>
        <span class="k">return</span> <span class="n">refreshVolumesByNumber</span><span class="p">,</span> <span class="n">newVolumes</span>

    <span class="k">def</span> <span class="nf">storeVolumes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        store my volumes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">store</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">getWikidataProceedingsRecord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the wikidata Record for the given volume</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">record</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Proceedings of </span><span class="si">{</span><span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;acronym&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">None</span><span class="p">)</span><span class="si">}</span><span class="s2"> workshop&quot;</span><span class="p">,</span>
            <span class="s2">&quot;urn&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;urn&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="s2">&quot;short name&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;acronym&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="s2">&quot;volume&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;number&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="s2">&quot;pubDate&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;pubDate&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="s2">&quot;ceurwsUrl&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;url&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
            <span class="s2">&quot;language of work or name&quot;</span><span class="p">:</span> <span class="s2">&quot;Q1860&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fullWorkUrl&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;url&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pubDate&quot;</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">):</span>
            <span class="n">record</span><span class="p">[</span><span class="s2">&quot;pubDate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">record</span><span class="p">[</span><span class="s2">&quot;pubDate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">record</span>

    <span class="k">def</span> <span class="nf">getWikidataEventRecord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">Volume</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the wikidata Record for the given volume</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">volumeTitle</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">title</span>
        <span class="n">volumeNumber</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">number</span>
        <span class="n">dblpEntityIds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">getDblpIdByVolumeNumber</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="n">volumeNumber</span><span class="p">)</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">label</span> <span class="o">=</span> <span class="n">instanceOf</span> <span class="o">=</span> <span class="n">description</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">volumeTitle</span><span class="p">:</span>
            <span class="n">instanceOf</span><span class="p">,</span> <span class="n">description</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getEventTypeFromTitle</span><span class="p">(</span><span class="n">volumeTitle</span><span class="p">)</span>
            <span class="n">title</span> <span class="o">=</span> <span class="n">label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getEventNameFromTitle</span><span class="p">(</span><span class="n">volumeTitle</span><span class="p">)</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">dateFrom</span>
        <span class="n">end_time</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">dateTo</span>
        <span class="n">record</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
            <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">label</span><span class="p">,</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">description</span><span class="p">,</span>
            <span class="s2">&quot;instanceOf&quot;</span><span class="p">:</span> <span class="n">instanceOf</span><span class="p">,</span>
            <span class="s2">&quot;short name&quot;</span><span class="p">:</span> <span class="n">volume</span><span class="o">.</span><span class="n">acronym</span><span class="p">,</span>
            <span class="s2">&quot;locationWikidataId&quot;</span><span class="p">:</span> <span class="n">volume</span><span class="o">.</span><span class="n">cityWikidataId</span><span class="p">,</span>
            <span class="s2">&quot;countryWikidataId&quot;</span><span class="p">:</span> <span class="n">volume</span><span class="o">.</span><span class="n">countryWikidataId</span><span class="p">,</span>
            <span class="s2">&quot;start time&quot;</span><span class="p">:</span> <span class="n">start_time</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">start_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">start_time</span><span class="p">,</span>
            <span class="s2">&quot;end time&quot;</span><span class="p">:</span> <span class="n">end_time</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">end_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">end_time</span><span class="p">,</span>
            <span class="s2">&quot;referenceUrl&quot;</span><span class="p">:</span> <span class="n">volume</span><span class="o">.</span><span class="n">getVolumeUrl</span><span class="p">(),</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">dblpEntityIds</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">dblpEntityIds</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">dblpEntityId</span> <span class="o">=</span> <span class="n">dblpEntityIds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">record</span><span class="p">[</span><span class="s2">&quot;describedAt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">toDblpUrl</span><span class="p">(</span><span class="n">dblpEntityId</span><span class="p">)</span>
            <span class="n">record</span><span class="p">[</span><span class="s2">&quot;language of work or name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Q1860&quot;</span>
            <span class="n">record</span><span class="p">[</span><span class="s2">&quot;dblpEventId&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">convertEntityIdToUrlId</span><span class="p">(</span><span class="n">entityId</span><span class="o">=</span><span class="n">dblpEntityId</span><span class="p">)</span>
        <span class="c1"># the modeling of virtual events has changed in wikidata</span>
        <span class="c1"># virtual event (Q7935096) is discontinued for conferences</span>
        <span class="c1"># if volume.isVirtualEvent():</span>
        <span class="c1">#     record[&quot;instanceOf&quot;] = [instanceOf, &quot;Q7935096&quot;]</span>
        <span class="k">return</span> <span class="n">record</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">withStore</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        update my table from the Wikidata Proceedings SPARQL query</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Querying proceedings from </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">baseurl</span><span class="si">}</span><span class="s2"> ...&quot;</span><span class="p">)</span>
        <span class="c1"># query proceedings</span>
        <span class="n">wd_proceedings_records</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wdQuery</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
        <span class="c1"># query events</span>
        <span class="n">event_query</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">qm</span><span class="o">.</span><span class="n">queriesByName</span><span class="p">[</span><span class="s2">&quot;EventsByProceeding&quot;</span><span class="p">]</span>
        <span class="n">wd_event_records</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">event_query</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
        <span class="c1"># add events to proceeding records</span>
        <span class="n">proceedings_event_map</span><span class="p">,</span> <span class="n">_duplicates</span> <span class="o">=</span> <span class="n">LOD</span><span class="o">.</span><span class="n">getLookup</span><span class="p">(</span><span class="n">wd_event_records</span><span class="p">,</span> <span class="s2">&quot;item&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">proceedings_record</span> <span class="ow">in</span> <span class="n">wd_proceedings_records</span><span class="p">:</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">proceedings_record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;item&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">proceedings_event_map</span><span class="p">:</span>
                <span class="n">event_record</span> <span class="o">=</span> <span class="n">proceedings_event_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                <span class="n">proceedings_record</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">event_record</span><span class="p">)</span>
        <span class="n">primaryKey</span> <span class="o">=</span> <span class="s2">&quot;URN_NBN&quot;</span>
        <span class="n">withCreate</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">withDrop</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">entityInfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sqldb</span><span class="o">.</span><span class="n">createTable</span><span class="p">(</span>
            <span class="n">wd_proceedings_records</span><span class="p">,</span>
            <span class="s2">&quot;Proceedings&quot;</span><span class="p">,</span>
            <span class="n">primaryKey</span><span class="p">,</span>
            <span class="n">withCreate</span><span class="p">,</span>
            <span class="n">withDrop</span><span class="p">,</span>
            <span class="n">sampleRecordCount</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span>
            <span class="n">failIfTooFew</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">procsByURN</span><span class="p">,</span> <span class="n">duplicates</span> <span class="o">=</span> <span class="n">LOD</span><span class="o">.</span><span class="n">getLookup</span><span class="p">(</span><span class="n">wd_proceedings_records</span><span class="p">,</span> <span class="s2">&quot;URN_NBN&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">withStore</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sqldb</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="n">procsByURN</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span> <span class="n">entityInfo</span><span class="p">,</span> <span class="n">executeMany</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fixNone</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;stored </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">procsByURN</span><span class="o">.</span><span class="n">values</span><span class="p">())</span><span class="si">}</span><span class="s2"> proceedings records&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">duplicates</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">duplicates</span><span class="p">)</span><span class="si">}</span><span class="s2"> duplicates URN entries&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">duplicates</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">duplicates</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">wd_proceedings_records</span>

    <span class="k">def</span> <span class="nf">loadProceedingsFromCache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        load the proceedings records from the cache</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sqlQuery</span> <span class="o">=</span> <span class="s2">&quot;SELECT * from Proceedings&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">procRecords</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sqldb</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">sqlQuery</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">procRecords</span>

    <span class="k">def</span> <span class="nf">getProceedingsForVolume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">searchVolnumber</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the proceedings record for the given searchVolnumber</span>

<span class="sd">        Args:</span>
<span class="sd">            searchVolnumber(int): the number of the volume to search</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: the record for the proceedings in wikidata</span>
<span class="sd">            None: if the proceeding record in not found for the given searchVolnumber</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">procRecords</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">loadProceedingsFromCache</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">procsByVolnumber</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">procsByVolnumber</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">procRecords</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">procRecord</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">procRecords</span><span class="p">:</span>
                    <span class="n">volnumber</span> <span class="o">=</span> <span class="n">procRecord</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sVolume&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">volnumber</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">procRecord</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Volume&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">volnumber</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">procsByVolnumber</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">volnumber</span><span class="p">)]</span> <span class="o">=</span> <span class="n">procRecord</span>
        <span class="n">volProcRecord</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">procsByVolnumber</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">searchVolnumber</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">volProcRecord</span>

    <span class="k">def</span> <span class="nf">getProceedingWdItemsByUrn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">urn</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        queries the wikidata items that have the given urn for the property P4109</span>
<span class="sd">        Args:</span>
<span class="sd">            urn: URN id to query for</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of corresponding wikidata item ids or empty list of no matching item is found</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;SELECT ?proceeding WHERE</span><span class="se">{{</span><span class="s2"> ?proceeding wdt:P4109 &quot;</span><span class="si">{</span><span class="n">urn</span><span class="si">}</span><span class="s2">&quot;</span><span class="se">}}</span><span class="s2">&quot;&quot;&quot;</span>
        <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="n">wdItems</span> <span class="o">=</span> <span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proceeding&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">wdItems</span>

    <span class="k">def</span> <span class="nf">getEventWdItemsByUrn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">urn</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        queries the wikidata proceedings that have the given urn assigned to P4109 and returns the assigned event</span>
<span class="sd">        Args:</span>
<span class="sd">            urn: URN id to query for</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of corresponding wikidata item ids or empty list of no matching item is found</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;SELECT ?event WHERE</span><span class="se">{{</span><span class="s2"> ?proceeding wdt:P4109 &quot;</span><span class="si">{</span><span class="n">urn</span><span class="si">}</span><span class="s2">&quot;; wdt:P4745 ?event .</span><span class="se">}}</span><span class="s2">&quot;&quot;&quot;</span>
        <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="n">wdItems</span> <span class="o">=</span> <span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;event&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">wdItems</span>

    <span class="k">def</span> <span class="nf">getEventsOfProceedings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">itemId</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the item ids of the events the given proceedings ids is the proceedings from</span>
<span class="sd">        Args:</span>
<span class="sd">            itemId: Qid of the proceedings</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of the events</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;SELECT ?event WHERE </span><span class="se">{{</span><span class="s2"> wd:</span><span class="si">{</span><span class="n">itemId</span><span class="si">}</span><span class="s2"> wdt:P4745 ?event.</span><span class="se">}}</span><span class="s2">&quot;&quot;&quot;</span>
        <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="n">wdItems</span> <span class="o">=</span> <span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;event&quot;</span><span class="p">)[</span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;http://www.wikidata.org/entity/&quot;</span><span class="p">)</span> <span class="p">:]</span> <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">wdItems</span>

    <span class="k">def</span> <span class="nf">getEventsOfProceedingsByVolnumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volnumber</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the item ids of the events the given proceedings ids is the proceedings from</span>
<span class="sd">        Args:</span>
<span class="sd">            volnumber: Volume number of the proceedings</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of the events</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;SELECT ?event </span>
<span class="s2">                    WHERE </span><span class="se">{{</span>
<span class="s2">                    ?proceeding wdt:P31 wd:Q1143604; </span>
<span class="s2">                                p:P179 [ps:P179 wd:Q27230297; pq:P478 &quot;</span><span class="si">{</span><span class="n">volnumber</span><span class="si">}</span><span class="s2">&quot;]; </span>
<span class="s2">                                wdt:P4745 ?event.</span><span class="se">}}</span>
<span class="s2">        &quot;&quot;&quot;</span>
        <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="n">wdItems</span> <span class="o">=</span> <span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;event&quot;</span><span class="p">)[</span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;http://www.wikidata.org/entity/&quot;</span><span class="p">)</span> <span class="p">:]</span> <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">wdItems</span>

    <span class="k">def</span> <span class="nf">addProceedingsToWikidata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a wikidata entry for the given record</span>

<span class="sd">        Args:</span>
<span class="sd">            record(dict): the data to add</span>
<span class="sd">            write(bool): if True actually write</span>
<span class="sd">            ignoreErrors(bool): if True ignore errors</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">write</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">()</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">doAddProceedingsToWikidata</span><span class="p">(</span><span class="n">record</span><span class="p">,</span> <span class="n">write</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">write</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">doAddProceedingsToWikidata</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WikidataResult</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a wikidata proceedings entry for the given record</span>

<span class="sd">        Args:</span>
<span class="sd">            record(dict): the data to add</span>
<span class="sd">            write(bool): if True actually write</span>
<span class="sd">            ignoreErrors(bool): if True ignore errors</span>
<span class="sd">        Returns:</span>
<span class="sd">            WikidataResult: the result of the add operation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mappings</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;instanceof&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;instanceof&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P31&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Q1143604&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;part of the series&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;part of the series&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P179&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Q27230297&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;volume&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;volume&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P478&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">string</span><span class="p">,</span>
                <span class="n">qualifierOf</span><span class="o">=</span><span class="s2">&quot;part of the series&quot;</span><span class="p">,</span>
            <span class="p">),</span>  <span class="c1"># ToDo: refactor qualifier of anchor column or property name?</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;short name&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;short name&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P1813&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;pubDate&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;publication date&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P577&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;title&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;title&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P1476&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;ceurwsUrl&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;described at URL&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P973&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;language of work or name&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;language of work or name&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P407&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
                <span class="n">qualifierOf</span><span class="o">=</span><span class="s2">&quot;ceurwsUrl&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;fullWorkUrl&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;full work available at URL&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P953&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;urn&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;URN-NBN&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P4109&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">extid</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">]</span>
        <span class="n">reference</span> <span class="o">=</span> <span class="n">UrlReference</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ceurwsUrl&quot;</span><span class="p">))</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="o">.</span><span class="n">add_record</span><span class="p">(</span>
            <span class="n">record</span><span class="o">=</span><span class="n">record</span><span class="p">,</span>
            <span class="n">property_mappings</span><span class="o">=</span><span class="n">mappings</span><span class="p">,</span>
            <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">,</span>
            <span class="n">ignore_errors</span><span class="o">=</span><span class="n">ignoreErrors</span><span class="p">,</span>
            <span class="n">reference</span><span class="o">=</span><span class="n">reference</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">askWikidata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">askQuery</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">rawQuery</span><span class="p">(</span><span class="n">askQuery</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">qres</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;boolean&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">checkIfProceedingsFromExists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volumeNumber</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">eventItemQid</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns True if the is proceedings from relation already exists between the given proceedings and event&quot;&quot;&quot;</span>
        <span class="n">eventVar</span> <span class="o">=</span> <span class="s2">&quot;?event&quot;</span>
        <span class="k">if</span> <span class="n">eventItemQid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">eventVar</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;wd:</span><span class="si">{</span><span class="n">eventItemQid</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">proceedingsWikidataId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getWikidataIdByVolumeNumber</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="n">volumeNumber</span><span class="p">)</span>
        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;ASK</span><span class="se">{{</span><span class="s2"> wd:</span><span class="si">{</span><span class="n">proceedingsWikidataId</span><span class="si">}</span><span class="s2"> wdt:P4745 </span><span class="si">{</span><span class="n">eventVar</span><span class="si">}</span><span class="s2">.</span><span class="se">}}</span><span class="s2">&quot;&quot;&quot;</span>
        <span class="n">proceedingExists</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">askWikidata</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">proceedingExists</span>

    <span class="k">def</span> <span class="nf">hasItemPropertyValueFor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">propertyId</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        ask wikidata if the given item has a value for the given property</span>
<span class="sd">        Args:</span>
<span class="sd">            item: item Qid</span>
<span class="sd">            propertyId: property Pid</span>
<span class="sd">        Returns:</span>
<span class="sd">            True if the item has the property else False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;ASK</span><span class="se">{{</span><span class="s2"> wd:</span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2"> wdt:</span><span class="si">{</span><span class="n">propertyId</span><span class="si">}</span><span class="s2"> ?value.</span><span class="se">}}</span><span class="s2">&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">askWikidata</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">addLinkBetweenProceedingsAndEvent</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">eventItemQid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">volumeNumber</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">proceedingsWikidataId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">ignoreErrors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WikidataResult</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        add the link between the wikidata proceedings item and the given event wikidata item</span>
<span class="sd">        Args:</span>
<span class="sd">            volumeNumber: ceurws volume number of the proceedings</span>
<span class="sd">            eventItemQid: wikidata Qid of the event</span>
<span class="sd">            proceedingsWikidataId: wikidata id of the proceedings item</span>
<span class="sd">            write(bool): if True actually write</span>
<span class="sd">            ignoreErrors(bool): if True ignore errors</span>

<span class="sd">        Returns:</span>
<span class="sd">            WikidataResult: the result of the add operation</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if the volume number is not provided or the volume is not unique in Wikidata</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">proceedingsWikidataId</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">proceedingsWikidataId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getWikidataIdByVolumeNumber</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="n">volumeNumber</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">proceedingsWikidataId</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Volume is not unique → Proceedings item can not be determined&quot;</span><span class="p">)</span>
        <span class="n">mappings</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;isProceedingsFrom&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;is proceedings from&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P4745&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>
        <span class="n">reference</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">volumeNumber</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">volume_url</span> <span class="o">=</span> <span class="n">Volume</span><span class="o">.</span><span class="n">getVolumeUrlOf</span><span class="p">(</span><span class="n">volumeNumber</span><span class="p">)</span>
            <span class="n">reference</span> <span class="o">=</span> <span class="n">UrlReference</span><span class="p">(</span><span class="n">volume_url</span><span class="p">)</span>
        <span class="n">record</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;isProceedingsFrom&quot;</span><span class="p">:</span> <span class="n">eventItemQid</span><span class="p">}</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="o">.</span><span class="n">add_record</span><span class="p">(</span>
            <span class="n">item_id</span><span class="o">=</span><span class="n">proceedingsWikidataId</span><span class="p">,</span>
            <span class="n">record</span><span class="o">=</span><span class="n">record</span><span class="p">,</span>
            <span class="n">property_mappings</span><span class="o">=</span><span class="n">mappings</span><span class="p">,</span>
            <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">,</span>
            <span class="n">ignore_errors</span><span class="o">=</span><span class="n">ignoreErrors</span><span class="p">,</span>
            <span class="n">reference</span><span class="o">=</span><span class="n">reference</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">doAddEventToWikidata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a wikidata event entry for the given record</span>
<span class="sd">        Args:</span>
<span class="sd">            record(dict): the data to add</span>
<span class="sd">            write(bool): if True actually write</span>
<span class="sd">            ignoreErrors(bool): if True ignore errors</span>

<span class="sd">        Returns:</span>
<span class="sd">            WikidataResult: the result of the add operation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">entityQid</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;instanceOf&quot;</span><span class="p">)</span>
        <span class="c1"># entity = record.get(&quot;description&quot;)</span>
        <span class="n">mappings</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;instanceof&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;instanceof&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P31&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="n">entityQid</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;short name&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;short name&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P1813&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;describedAt&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;described at URL&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P973&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;language of work or name&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;language of work or name&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P407&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
                <span class="n">qualifierOf</span><span class="o">=</span><span class="s2">&quot;describedAt&quot;</span><span class="p">,</span>
                <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Q1860&quot;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;title&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;title&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P1476&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;describedAt&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;described at URL&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P973&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;dblpEventId&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;DBLP event ID&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P10692&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">extid</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;start time&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;start time&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P580&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;end time&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;end time&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P582&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;locationWikidataId&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;location&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P276&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;countryWikidataId&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;country&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P17&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">]</span>
        <span class="n">reference_url</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;referenceUrl&quot;</span><span class="p">)</span>
        <span class="n">reference</span> <span class="o">=</span> <span class="n">UrlReference</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">reference_url</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="o">.</span><span class="n">add_record</span><span class="p">(</span>
            <span class="n">record</span><span class="o">=</span><span class="n">record</span><span class="p">,</span>
            <span class="n">property_mappings</span><span class="o">=</span><span class="n">mappings</span><span class="p">,</span>
            <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">,</span>
            <span class="n">ignore_errors</span><span class="o">=</span><span class="n">ignoreErrors</span><span class="p">,</span>
            <span class="n">reference</span><span class="o">=</span><span class="n">reference</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">addDblpPublicationId</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">volumeNumber</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">dblpRecordId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">ignoreErrors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WikidataResult</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        try to add the dblp publication id (P8978) to the proceedings record</span>
<span class="sd">        Args:</span>
<span class="sd">            volumeNumber: ceurws volumenumber of the proceedings</span>
<span class="sd">            dblpRecordId: dblp record id to add to the proceedings item. If None query dblp for the record id</span>
<span class="sd">            write: if True actually write</span>
<span class="sd">            ignoreErrors(bool): if True ignore errors</span>

<span class="sd">        Returns:</span>
<span class="sd">            WikidataResult: the result of the add operation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">proceedingsWikidataId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getWikidataIdByVolumeNumber</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="n">volumeNumber</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">proceedingsWikidataId</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Proceedings item can not be determined&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasItemPropertyValueFor</span><span class="p">(</span><span class="n">item</span><span class="o">=</span><span class="n">proceedingsWikidataId</span><span class="p">,</span> <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P8978&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;dblp publication id is already assigned to the proceedings item&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">dblpRecordId</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">dblpRecordIds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">getDblpIdByVolumeNumber</span><span class="p">(</span><span class="n">volumeNumber</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dblpRecordIds</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">dblpRecordId</span> <span class="o">=</span> <span class="n">dblpRecordIds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">dblpRecordIds</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="kc">False</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s2">&quot;More than one proceedings record found (</span><span class="si">{</span><span class="n">dblpRecordIds</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span>
                    <span class="kc">False</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s2">&quot;Proceedings of volume </span><span class="si">{</span><span class="n">volumeNumber</span><span class="si">}</span><span class="s2"> are not in dblp&quot;</span><span class="p">,</span>
                <span class="p">)</span>
        <span class="n">mappings</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;DBLP publication ID&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;DBLP publication ID&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P8978&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">extid</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">]</span>
        <span class="n">wdMetadata</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;Entity&quot;</span><span class="p">:</span> <span class="s2">&quot;proceedings&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Column&quot;</span><span class="p">:</span> <span class="s2">&quot;DBLP publication ID&quot;</span><span class="p">,</span>
                <span class="s2">&quot;PropertyName&quot;</span><span class="p">:</span> <span class="s2">&quot;DBLP publication ID&quot;</span><span class="p">,</span>
                <span class="s2">&quot;PropertyId&quot;</span><span class="p">:</span> <span class="s2">&quot;P8978&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;extid&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Qualifier&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;Lookup&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">]</span>
        <span class="n">mapDict</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">LOD</span><span class="o">.</span><span class="n">getLookup</span><span class="p">(</span><span class="n">wdMetadata</span><span class="p">,</span> <span class="s2">&quot;PropertyId&quot;</span><span class="p">)</span>
        <span class="n">volume_url</span> <span class="o">=</span> <span class="n">Volume</span><span class="o">.</span><span class="n">getVolumeUrlOf</span><span class="p">(</span><span class="n">volumeNumber</span><span class="p">)</span>
        <span class="n">reference</span> <span class="o">=</span> <span class="n">UrlReference</span><span class="p">(</span><span class="n">volume_url</span><span class="p">)</span>
        <span class="n">record</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;DBLP publication ID&quot;</span><span class="p">:</span> <span class="n">dblpRecordId</span><span class="p">}</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="o">.</span><span class="n">add_record</span><span class="p">(</span>
            <span class="n">item_id</span><span class="o">=</span><span class="n">proceedingsWikidataId</span><span class="p">,</span>
            <span class="n">record</span><span class="o">=</span><span class="n">record</span><span class="p">,</span>
            <span class="n">property_mappings</span><span class="o">=</span><span class="n">mappings</span><span class="p">,</span>
            <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">,</span>
            <span class="n">ignore_errors</span><span class="o">=</span><span class="n">ignoreErrors</span><span class="p">,</span>
            <span class="n">reference</span><span class="o">=</span><span class="n">reference</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">addAcronymToItem</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">itemId</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">acronym</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">desc</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">ignoreErrors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        add the acronym to the given item</span>
<span class="sd">        Args:</span>
<span class="sd">            itemId: item to add the acronym to</span>
<span class="sd">            acronym(str): acronym of the item</span>
<span class="sd">            write(bool): if True actually write</span>
<span class="sd">            ignoreErrors(bool): if True ignore errors</span>

<span class="sd">        Returns:</span>
<span class="sd">            (qid, errors) id of the created entry and occurred errors</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">wdMetadata</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">&quot;Column&quot;</span><span class="p">:</span> <span class="s2">&quot;short name&quot;</span><span class="p">,</span>
                <span class="s2">&quot;PropertyName&quot;</span><span class="p">:</span> <span class="s2">&quot;short name&quot;</span><span class="p">,</span>
                <span class="s2">&quot;PropertyId&quot;</span><span class="p">:</span> <span class="s2">&quot;P1813&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Lookup&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">]</span>
        <span class="n">record</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;short name&quot;</span><span class="p">:</span> <span class="n">acronym</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">desc</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">label</span><span class="p">}</span>
        <span class="n">map_dict</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">LOD</span><span class="o">.</span><span class="n">getLookup</span><span class="p">(</span><span class="n">wdMetadata</span><span class="p">,</span> <span class="s2">&quot;PropertyId&quot;</span><span class="p">)</span>
        <span class="n">qId</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="o">.</span><span class="n">addDict</span><span class="p">(</span>
            <span class="n">itemId</span><span class="o">=</span><span class="n">itemId</span><span class="p">,</span>
            <span class="n">row</span><span class="o">=</span><span class="n">record</span><span class="p">,</span>
            <span class="n">mapDict</span><span class="o">=</span><span class="n">map_dict</span><span class="p">,</span>
            <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">,</span>
            <span class="n">ignoreErrors</span><span class="o">=</span><span class="n">ignoreErrors</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">qId</span><span class="p">,</span> <span class="n">errors</span>

    <span class="k">def</span> <span class="nf">addOfficialWebsiteToItem</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">itemId</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">officialWebsite</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">ignoreErrors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        add the official website to the given item</span>
<span class="sd">        Args:</span>
<span class="sd">            itemId: item to add the acronym to</span>
<span class="sd">            officialWebsite(str): officialWebsite of the item</span>
<span class="sd">            write(bool): if True actually write</span>
<span class="sd">            ignoreErrors(bool): if True ignore errors</span>

<span class="sd">        Returns:</span>
<span class="sd">            WikidataResult: the result of the add operation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mappings</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;official website&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;official website&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P856&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">PropertyMapping</span><span class="p">(</span>
                <span class="n">column</span><span class="o">=</span><span class="s2">&quot;language of work or name&quot;</span><span class="p">,</span>
                <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;language of work or name&quot;</span><span class="p">,</span>
                <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P407&quot;</span><span class="p">,</span>
                <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">]</span>
        <span class="n">record</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;official website&quot;</span><span class="p">:</span> <span class="n">officialWebsite</span><span class="p">,</span>
            <span class="s2">&quot;language of work or name&quot;</span><span class="p">:</span> <span class="s2">&quot;Q1860&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">qId</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="o">.</span><span class="n">add_record</span><span class="p">(</span>
            <span class="n">item_id</span><span class="o">=</span><span class="n">itemId</span><span class="p">,</span>
            <span class="n">record</span><span class="o">=</span><span class="n">record</span><span class="p">,</span>
            <span class="n">property_mappings</span><span class="o">=</span><span class="n">mappings</span><span class="p">,</span>
            <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">,</span>
            <span class="n">ignore_errors</span><span class="o">=</span><span class="n">ignoreErrors</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">qId</span><span class="p">,</span> <span class="n">errors</span>

    <span class="k">def</span> <span class="nf">getWikidataIdByVolumeNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        query wikidata for the qId of the proceedings of the given volume number</span>
<span class="sd">        Args:</span>
<span class="sd">            number: volume number</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: wikidata id corresponding to the given volume number</span>
<span class="sd">            None: if the corresponding wikidata id was not found</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">number</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;SELECT * WHERE</span><span class="se">{{</span><span class="s2"> ?proceeding p:P179 [ps:P179 wd:Q27230297; pq:P478 &quot;</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">&quot;].</span><span class="se">}}</span><span class="s2">&quot;&quot;&quot;</span>
        <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="n">qid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">qres</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">qres</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">qids</span> <span class="o">=</span> <span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proceeding&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">qids</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CEUR-WS volume number is not unique&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">qid</span> <span class="o">=</span> <span class="n">qids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">qid</span>

    <span class="k">def</span> <span class="nf">getWikidataIdByDblpEventId</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entityId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">volumeNumber</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        query wikidata for the qId of items that correspond to the given dblpEventId</span>
<span class="sd">        Args:</span>
<span class="sd">            entityId: id of a dblp event</span>
<span class="sd">            volumeNumber: volume number</span>

<span class="sd">        Returns:</span>
<span class="sd">            list of matching wikidata items</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dblpEventId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">convertEntityIdToUrlId</span><span class="p">(</span><span class="n">entityId</span><span class="o">=</span><span class="n">entityId</span><span class="p">)</span>
        <span class="n">dblpIds</span> <span class="o">=</span> <span class="p">[</span><span class="n">entityId</span><span class="p">,</span> <span class="n">dblpEventId</span><span class="p">]</span>
        <span class="n">dblpIdsStr</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">dblpId</span><span class="si">}</span><span class="s1">&quot;&#39;</span> <span class="k">for</span> <span class="n">dblpId</span> <span class="ow">in</span> <span class="n">dblpIds</span><span class="p">])</span>
        <span class="n">urls</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="n">entityId</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">urls</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="sa">f</span><span class="s2">&quot;&lt;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">toDblpUrl</span><span class="p">(</span><span class="n">entityId</span><span class="p">)</span><span class="si">}</span><span class="s2">&gt;&quot;</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s2">&quot;&lt;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">toDblpUrl</span><span class="p">(</span><span class="n">entityId</span><span class="p">,</span><span class="w"> </span><span class="kc">True</span><span class="p">)</span><span class="si">}</span><span class="s2">&gt;&quot;</span><span class="p">,</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="n">volumeQuery</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="n">volumeNumber</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">volumeQuery</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">            UNION</span>
<span class="s2">                  </span><span class="se">{{</span>
<span class="s2">                  ?proceeding p:P179 [ps:P179 wd:Q27230297; pq:P478 &quot;</span><span class="si">{</span><span class="n">volumeNumber</span><span class="si">}</span><span class="s2">&quot;].</span>
<span class="s2">                  ?proceeding wdt:P4745 ?qid.</span>
<span class="s2">                  </span><span class="se">}}</span>
<span class="s2">            &quot;&quot;&quot;</span>
        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;SELECT DISTINCT ?qid</span>
<span class="s2">            WHERE</span><span class="se">{{</span>
<span class="s2">              VALUES ?url </span><span class="se">{{</span><span class="s2"> </span><span class="si">{</span><span class="n">urls</span><span class="si">}</span><span class="s2"> </span><span class="se">}}</span>
<span class="s2">              VALUES ?dblpEventId </span><span class="se">{{</span><span class="s2"> </span><span class="si">{</span><span class="n">dblpIdsStr</span><span class="si">}</span><span class="s2"> </span><span class="se">}}</span>
<span class="s2">              VALUES ?eventType </span><span class="se">{{</span><span class="s2">wd:Q2020153 wd:Q40444998</span><span class="se">}}</span>
<span class="s2">              </span><span class="se">{{</span><span class="s2">?qid wdt:P31 ?eventType; wdt:P973 ?url</span><span class="se">}}</span>
<span class="s2">              UNION</span>
<span class="s2">              </span><span class="se">{{</span><span class="s2">?qid wdt:P31 ?eventType; wdt:P10692 ?dblpEventId</span><span class="se">}}</span>
<span class="s2">              </span><span class="si">{</span><span class="n">volumeQuery</span><span class="si">}</span>
<span class="s2">            </span><span class="se">}}</span>
<span class="s2">        &quot;&quot;&quot;</span>
        <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="n">qIds</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">qres</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">qres</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">qIds</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">removeWdPrefix</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;qid&quot;</span><span class="p">))</span> <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">qIds</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">getEventNameFromTitle</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the event name from the given proceedings title</span>
<span class="sd">        Args:</span>
<span class="sd">            title: title of the proceeding</span>

<span class="sd">        Returns:</span>
<span class="sd">            name of the event</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">prefixes</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;Proceedings of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Proceedings of&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Joint Proceedings of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Joint Proceedings of&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Joint Proceedings&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Joint Proceeding of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Joint Proceeding of&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Selected Papers of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Selected Contributions of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Workshops Proceedings for the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Supplementary Proceedings of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Short Paper Proceedings of&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Short Paper Proceedings of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Working Notes Proceedings of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Working Notes of&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Working Notes for&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Joint Workshop Proceedings of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Joint Workshop Proceedings of&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Workshop Proceedings from&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Workshop and Poster Proceedings of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Workshops Proceedings and Tutorials of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Extended Papers of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Short Papers Proceedings of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Short Papers Proceedings of&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Proceedings of the Selected Papers of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Proceedings of the Working Notes of&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Proceedings of the Doctoral Consortium Papers Presented at the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Selected Contributions to the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Selected and Revised Papers of&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Selected Papers of&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Up-and-Coming and Short Papers of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Academic Papers at&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Poster Track of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Actes de la&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Post-proceedings of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Late Breaking Papers of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Anais do&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Proceedings del&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Proceedings&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Gemeinsamer Tagungsband der&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Local Proceedings of the&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Local Proceedings and Materials of&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">postfixes</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;Workshop Proceedings&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Proceedings&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Conference Proceedings&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Workshops Proceedings&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Adjunct Proceedings&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Poster and Demo Proceedings&quot;</span><span class="p">,</span>
            <span class="s2">&quot;(full papers)&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">prefixes</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">prefix</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="n">prefixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">title</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="o">.</span><span class="n">lower</span><span class="p">()):</span>
                    <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="p">:]</span>
                    <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                    <span class="k">break</span>
            <span class="n">postfixes</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">postfix</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">postfix</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">postfix</span> <span class="ow">in</span> <span class="n">postfixes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">title</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">postfix</span><span class="o">.</span><span class="n">lower</span><span class="p">()):</span>
                    <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">postfix</span><span class="p">)]</span>
                    <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot; .,&quot;</span><span class="p">)</span>
                    <span class="k">break</span>
        <span class="k">return</span> <span class="n">title</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">getEventTypeFromTitle</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Extract the event type from the given title</span>
<span class="sd">        Assumption: lowest mentioned type is the correct one</span>
<span class="sd">        Args:</span>
<span class="sd">            title: title of the event</span>

<span class="sd">        Returns:</span>
<span class="sd">            wikidata id and label of the event type</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">title</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
        <span class="n">academicConference</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Q2020153&quot;</span><span class="p">,</span> <span class="s2">&quot;academic conference&quot;</span><span class="p">)</span>
        <span class="n">academicWorkshop</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Q40444998&quot;</span><span class="p">,</span> <span class="s2">&quot;academic workshop&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;workshop&quot;</span> <span class="ow">in</span> <span class="n">title</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">academicWorkshop</span>
        <span class="k">elif</span> <span class="s2">&quot;conference&quot;</span> <span class="ow">in</span> <span class="n">title</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">or</span> <span class="s2">&quot;symposium&quot;</span> <span class="ow">in</span> <span class="n">title</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">academicConference</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">academicWorkshop</span>

    <span class="k">def</span> <span class="nf">doCreateEventItemAndLinkProceedings</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">volume</span><span class="p">:</span> <span class="n">Volume</span><span class="p">,</span>
        <span class="n">proceedingsWikidataId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">WikidataResult</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create event  wikidata item for given volume and link the proceedings with the event</span>
<span class="sd">        Args:</span>
<span class="sd">            volume: volume to create the event for</span>
<span class="sd">            proceedingsWikidataId: proceedings wikidata id of the event</span>
<span class="sd">            write: If True actually write</span>

<span class="sd">        Returns:</span>
<span class="sd">            proceedingsQId, eventQId, msg</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">vol_number</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">number</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">proceedingsWikidataId</span> <span class="ow">is</span> <span class="kc">None</span>
            <span class="ow">and</span> <span class="n">vol_number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">checkIfProceedingsFromExists</span><span class="p">(</span><span class="n">vol_number</span><span class="p">,</span> <span class="n">eventItemQid</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="c1"># link between proceedings and event already exists</span>
            <span class="n">proceedingsWikidataId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getWikidataIdByVolumeNumber</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="n">vol_number</span><span class="p">)</span>
            <span class="n">results</span><span class="p">[</span><span class="s2">&quot;Proceedings&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">WikidataResult</span><span class="p">(</span>
                <span class="n">qid</span><span class="o">=</span><span class="n">proceedingsWikidataId</span><span class="p">,</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Proceedings for Vol-</span><span class="si">{</span><span class="n">vol_number</span><span class="si">}</span><span class="s2"> already exists&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">dblpEntityIds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">getDblpIdByVolumeNumber</span><span class="p">(</span><span class="n">vol_number</span><span class="p">)</span>
        <span class="n">dblpEntityId</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dblpEntityIds</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Multiple dblpEventIds found for Vol-</span><span class="si">{</span><span class="n">vol_number</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dblpEntityIds</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">dblpEntityIds</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">dblpEntityId</span> <span class="o">=</span> <span class="n">dblpEntityIds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dblpEntityId</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;dblp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">WikidataResult</span><span class="p">(</span><span class="n">qid</span><span class="o">=</span><span class="n">dblpEntityId</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
        <span class="n">wdItems</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getWikidataIdByDblpEventId</span><span class="p">(</span><span class="n">dblpEntityId</span><span class="p">,</span> <span class="n">vol_number</span><span class="p">)</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">eventQid</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">wdItems</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># event item does not exist → create a new one</span>
            <span class="n">volume</span><span class="o">.</span><span class="n">resolveLoctime</span><span class="p">()</span>
            <span class="n">eventRecord</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getWikidataEventRecord</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
            <span class="n">event_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">doAddEventToWikidata</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="n">eventRecord</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">)</span>
            <span class="n">eventQid</span> <span class="o">=</span> <span class="n">event_result</span><span class="o">.</span><span class="n">qid</span>
            <span class="n">results</span><span class="p">[</span><span class="s2">&quot;Event&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">event_result</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">wdItems</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">results</span><span class="p">[</span><span class="s2">&quot;Event&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">WikidataResult</span><span class="p">(</span>
                <span class="c1"># the event item already exists</span>
                <span class="n">qid</span><span class="o">=</span><span class="n">wdItems</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Event item already exists;&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">results</span><span class="p">[</span><span class="s2">&quot;Event&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">WikidataResult</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Multiple event entries exist: </span><span class="si">{</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">wdItems</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">eventQid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># add link between Proceedings and the event item</span>
            <span class="n">link_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">addLinkBetweenProceedingsAndEvent</span><span class="p">(</span>
                <span class="n">volumeNumber</span><span class="o">=</span><span class="n">vol_number</span><span class="p">,</span>
                <span class="n">eventItemQid</span><span class="o">=</span><span class="n">eventQid</span><span class="p">,</span>
                <span class="n">proceedingsWikidataId</span><span class="o">=</span><span class="n">proceedingsWikidataId</span><span class="p">,</span>
                <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">link_result</span><span class="o">.</span><span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Added Link between Proceedings and Event item;&quot;</span>
            <span class="n">results</span><span class="p">[</span><span class="s2">&quot;link&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">link_result</span>
        <span class="k">return</span> <span class="n">results</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">removeWdPrefix</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        removes the wikidata entity prefix</span>
<span class="sd">        Args:</span>
<span class="sd">            value: wikidata entity url</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">wd_prefix</span> <span class="o">=</span> <span class="s2">&quot;http://www.wikidata.org/entity/&quot;</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">wd_prefix</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;http://www.wikidata.org/entity/&quot;</span><span class="p">)</span> <span class="p">:]</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">getAuthorByIds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifiers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Based on the given identifiers get potential author items</span>
<span class="sd">        the names of the identifiers must be according to DblpAuthorIdentifier</span>
<span class="sd">        Args:</span>
<span class="sd">            identifiers: known identifiers of the author</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">identifiers</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">identifiers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="n">id_map</span> <span class="o">=</span> <span class="n">DblpAuthorIdentifier</span><span class="o">.</span><span class="n">getAllAsMap</span><span class="p">()</span>
        <span class="n">optional_clauses</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">id_name</span><span class="p">,</span> <span class="n">id_value</span> <span class="ow">in</span> <span class="n">identifiers</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">id_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">id_value</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="n">id_query</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="n">id_name</span> <span class="ow">in</span> <span class="n">id_map</span><span class="p">:</span>
                    <span class="n">id_query</span> <span class="o">=</span> <span class="n">DblpAuthorIdentifier</span><span class="o">.</span><span class="n">getWikidataIdQueryPart</span><span class="p">(</span><span class="n">id_name</span><span class="p">,</span> <span class="n">id_value</span><span class="p">,</span> <span class="s2">&quot;?person&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">id_name</span> <span class="o">==</span> <span class="s2">&quot;homepage&quot;</span><span class="p">:</span>
                        <span class="n">id_query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">{{</span><span class="s2"> ?person wdt:P856 &lt;</span><span class="si">{</span><span class="n">id_value</span><span class="si">}</span><span class="s2">&gt;. </span><span class="se">}}</span><span class="s2">&quot;</span>
                <span class="k">if</span> <span class="n">id_query</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">optional_clauses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">id_query</span><span class="p">)</span>
        <span class="n">id_queries</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">UNION</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">optional_clauses</span><span class="p">)</span>
        <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;SELECT DISTINCT ?person ?personLabel</span>
<span class="s2">                    WHERE</span>
<span class="s2">                    </span><span class="se">{{</span>
<span class="s2">                        </span><span class="si">{</span><span class="n">id_queries</span><span class="si">}</span>
<span class="s2">                        ?person rdfs:label ?personLabel. FILTER(lang(?personLabel)=&quot;en&quot;).</span>
<span class="s2">                    </span><span class="se">}}</span><span class="s2">&quot;&quot;&quot;</span>
        <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">record</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">record</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">item_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">removeWdPrefix</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;person&quot;</span><span class="p">))</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;personLabel&quot;</span><span class="p">)</span>
            <span class="n">res</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">return</span> <span class="n">res</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">baseurl</span><span class="o">=</span><span class="s1">&#39;https://www.wikidata.org&#39;</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dblp_endpoint_url</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Constructor</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>baseurl(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the baseurl of the wikidata endpoint</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>debug(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True switch on debugging</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>dblp_endpoint_url</code></td>
            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>sparql endpoint url of dblp</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">baseurl</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;https://www.wikidata.org&quot;</span><span class="p">,</span>
    <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">dblp_endpoint_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor</span>

<span class="sd">    Args:</span>
<span class="sd">        baseurl(str): the baseurl of the wikidata endpoint</span>
<span class="sd">        debug(bool): if True switch on debugging</span>
<span class="sd">        dblp_endpoint_url: sparql endpoint url of dblp</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">dblp_endpoint_url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">dblp_endpoint_url</span> <span class="o">=</span> <span class="n">DBLP_ENDPOINT</span><span class="o">.</span><span class="n">endpoint</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prepareVolumeManager</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">preparePaperManager</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prepareRDF</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wdQuery</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">qm</span><span class="o">.</span><span class="n">queriesByName</span><span class="p">[</span><span class="s2">&quot;Proceedings&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">baseurl</span> <span class="o">=</span> <span class="n">baseurl</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wd</span> <span class="o">=</span> <span class="n">Wikidata</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sqldb</span> <span class="o">=</span> <span class="n">SQLDB</span><span class="p">(</span><span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_FILE</span><span class="p">,</span> <span class="n">check_same_thread</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">procRecords</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">procsByVolnumber</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span> <span class="o">=</span> <span class="n">DblpEndpoint</span><span class="p">(</span><span class="n">endpoint</span><span class="o">=</span><span class="n">dblp_endpoint_url</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">wikidata_endpoint</span><span class="p">:</span> <span class="n">Endpoint</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.addAcronymToItem" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">addAcronymToItem</span><span class="p">(</span><span class="n">itemId</span><span class="p">,</span> <span class="n">acronym</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>add the acronym to the given item
Args:
    itemId: item to add the acronym to
    acronym(str): acronym of the item
    write(bool): if True actually write
    ignoreErrors(bool): if True ignore errors</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(qid, errors) id of the created entry and occurred errors</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">addAcronymToItem</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">itemId</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">acronym</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">desc</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">ignoreErrors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    add the acronym to the given item</span>
<span class="sd">    Args:</span>
<span class="sd">        itemId: item to add the acronym to</span>
<span class="sd">        acronym(str): acronym of the item</span>
<span class="sd">        write(bool): if True actually write</span>
<span class="sd">        ignoreErrors(bool): if True ignore errors</span>

<span class="sd">    Returns:</span>
<span class="sd">        (qid, errors) id of the created entry and occurred errors</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">wdMetadata</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;Column&quot;</span><span class="p">:</span> <span class="s2">&quot;short name&quot;</span><span class="p">,</span>
            <span class="s2">&quot;PropertyName&quot;</span><span class="p">:</span> <span class="s2">&quot;short name&quot;</span><span class="p">,</span>
            <span class="s2">&quot;PropertyId&quot;</span><span class="p">:</span> <span class="s2">&quot;P1813&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Lookup&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">]</span>
    <span class="n">record</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;short name&quot;</span><span class="p">:</span> <span class="n">acronym</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">desc</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">label</span><span class="p">}</span>
    <span class="n">map_dict</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">LOD</span><span class="o">.</span><span class="n">getLookup</span><span class="p">(</span><span class="n">wdMetadata</span><span class="p">,</span> <span class="s2">&quot;PropertyId&quot;</span><span class="p">)</span>
    <span class="n">qId</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="o">.</span><span class="n">addDict</span><span class="p">(</span>
        <span class="n">itemId</span><span class="o">=</span><span class="n">itemId</span><span class="p">,</span>
        <span class="n">row</span><span class="o">=</span><span class="n">record</span><span class="p">,</span>
        <span class="n">mapDict</span><span class="o">=</span><span class="n">map_dict</span><span class="p">,</span>
        <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">,</span>
        <span class="n">ignoreErrors</span><span class="o">=</span><span class="n">ignoreErrors</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">qId</span><span class="p">,</span> <span class="n">errors</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.addDblpPublicationId" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">addDblpPublicationId</span><span class="p">(</span><span class="n">volumeNumber</span><span class="p">,</span> <span class="n">dblpRecordId</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>try to add the dblp publication id (P8978) to the proceedings record
Args:
    volumeNumber: ceurws volumenumber of the proceedings
    dblpRecordId: dblp record id to add to the proceedings item. If None query dblp for the record id
    write: if True actually write
    ignoreErrors(bool): if True ignore errors</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>WikidataResult</code></td>            <td>
                  <code><span title="ez_wikidata.wikidata.WikidataResult">WikidataResult</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the result of the add operation</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">addDblpPublicationId</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">volumeNumber</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">dblpRecordId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">ignoreErrors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WikidataResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    try to add the dblp publication id (P8978) to the proceedings record</span>
<span class="sd">    Args:</span>
<span class="sd">        volumeNumber: ceurws volumenumber of the proceedings</span>
<span class="sd">        dblpRecordId: dblp record id to add to the proceedings item. If None query dblp for the record id</span>
<span class="sd">        write: if True actually write</span>
<span class="sd">        ignoreErrors(bool): if True ignore errors</span>

<span class="sd">    Returns:</span>
<span class="sd">        WikidataResult: the result of the add operation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">proceedingsWikidataId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getWikidataIdByVolumeNumber</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="n">volumeNumber</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">proceedingsWikidataId</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;Proceedings item can not be determined&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasItemPropertyValueFor</span><span class="p">(</span><span class="n">item</span><span class="o">=</span><span class="n">proceedingsWikidataId</span><span class="p">,</span> <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P8978&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;dblp publication id is already assigned to the proceedings item&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">dblpRecordId</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">dblpRecordIds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">getDblpIdByVolumeNumber</span><span class="p">(</span><span class="n">volumeNumber</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dblpRecordIds</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">dblpRecordId</span> <span class="o">=</span> <span class="n">dblpRecordIds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">dblpRecordIds</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="kc">False</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;More than one proceedings record found (</span><span class="si">{</span><span class="n">dblpRecordIds</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span>
                <span class="kc">False</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;Proceedings of volume </span><span class="si">{</span><span class="n">volumeNumber</span><span class="si">}</span><span class="s2"> are not in dblp&quot;</span><span class="p">,</span>
            <span class="p">)</span>
    <span class="n">mappings</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;DBLP publication ID&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;DBLP publication ID&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P8978&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">extid</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">]</span>
    <span class="n">wdMetadata</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;Entity&quot;</span><span class="p">:</span> <span class="s2">&quot;proceedings&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Column&quot;</span><span class="p">:</span> <span class="s2">&quot;DBLP publication ID&quot;</span><span class="p">,</span>
            <span class="s2">&quot;PropertyName&quot;</span><span class="p">:</span> <span class="s2">&quot;DBLP publication ID&quot;</span><span class="p">,</span>
            <span class="s2">&quot;PropertyId&quot;</span><span class="p">:</span> <span class="s2">&quot;P8978&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="s2">&quot;extid&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Qualifier&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;Lookup&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">]</span>
    <span class="n">mapDict</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">LOD</span><span class="o">.</span><span class="n">getLookup</span><span class="p">(</span><span class="n">wdMetadata</span><span class="p">,</span> <span class="s2">&quot;PropertyId&quot;</span><span class="p">)</span>
    <span class="n">volume_url</span> <span class="o">=</span> <span class="n">Volume</span><span class="o">.</span><span class="n">getVolumeUrlOf</span><span class="p">(</span><span class="n">volumeNumber</span><span class="p">)</span>
    <span class="n">reference</span> <span class="o">=</span> <span class="n">UrlReference</span><span class="p">(</span><span class="n">volume_url</span><span class="p">)</span>
    <span class="n">record</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;DBLP publication ID&quot;</span><span class="p">:</span> <span class="n">dblpRecordId</span><span class="p">}</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="o">.</span><span class="n">add_record</span><span class="p">(</span>
        <span class="n">item_id</span><span class="o">=</span><span class="n">proceedingsWikidataId</span><span class="p">,</span>
        <span class="n">record</span><span class="o">=</span><span class="n">record</span><span class="p">,</span>
        <span class="n">property_mappings</span><span class="o">=</span><span class="n">mappings</span><span class="p">,</span>
        <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">,</span>
        <span class="n">ignore_errors</span><span class="o">=</span><span class="n">ignoreErrors</span><span class="p">,</span>
        <span class="n">reference</span><span class="o">=</span><span class="n">reference</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.addLinkBetweenProceedingsAndEvent" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">addLinkBetweenProceedingsAndEvent</span><span class="p">(</span><span class="n">eventItemQid</span><span class="p">,</span> <span class="n">volumeNumber</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">proceedingsWikidataId</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>add the link between the wikidata proceedings item and the given event wikidata item
Args:
    volumeNumber: ceurws volume number of the proceedings
    eventItemQid: wikidata Qid of the event
    proceedingsWikidataId: wikidata id of the proceedings item
    write(bool): if True actually write
    ignoreErrors(bool): if True ignore errors</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>WikidataResult</code></td>            <td>
                  <code><span title="ez_wikidata.wikidata.WikidataResult">WikidataResult</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the result of the add operation</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the volume number is not provided or the volume is not unique in Wikidata</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">addLinkBetweenProceedingsAndEvent</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">eventItemQid</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">volumeNumber</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">proceedingsWikidataId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">ignoreErrors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WikidataResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    add the link between the wikidata proceedings item and the given event wikidata item</span>
<span class="sd">    Args:</span>
<span class="sd">        volumeNumber: ceurws volume number of the proceedings</span>
<span class="sd">        eventItemQid: wikidata Qid of the event</span>
<span class="sd">        proceedingsWikidataId: wikidata id of the proceedings item</span>
<span class="sd">        write(bool): if True actually write</span>
<span class="sd">        ignoreErrors(bool): if True ignore errors</span>

<span class="sd">    Returns:</span>
<span class="sd">        WikidataResult: the result of the add operation</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if the volume number is not provided or the volume is not unique in Wikidata</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">proceedingsWikidataId</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">proceedingsWikidataId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getWikidataIdByVolumeNumber</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="n">volumeNumber</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">proceedingsWikidataId</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Volume is not unique → Proceedings item can not be determined&quot;</span><span class="p">)</span>
    <span class="n">mappings</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;isProceedingsFrom&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;is proceedings from&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P4745&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">]</span>
    <span class="n">reference</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">volumeNumber</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">volume_url</span> <span class="o">=</span> <span class="n">Volume</span><span class="o">.</span><span class="n">getVolumeUrlOf</span><span class="p">(</span><span class="n">volumeNumber</span><span class="p">)</span>
        <span class="n">reference</span> <span class="o">=</span> <span class="n">UrlReference</span><span class="p">(</span><span class="n">volume_url</span><span class="p">)</span>
    <span class="n">record</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;isProceedingsFrom&quot;</span><span class="p">:</span> <span class="n">eventItemQid</span><span class="p">}</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="o">.</span><span class="n">add_record</span><span class="p">(</span>
        <span class="n">item_id</span><span class="o">=</span><span class="n">proceedingsWikidataId</span><span class="p">,</span>
        <span class="n">record</span><span class="o">=</span><span class="n">record</span><span class="p">,</span>
        <span class="n">property_mappings</span><span class="o">=</span><span class="n">mappings</span><span class="p">,</span>
        <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">,</span>
        <span class="n">ignore_errors</span><span class="o">=</span><span class="n">ignoreErrors</span><span class="p">,</span>
        <span class="n">reference</span><span class="o">=</span><span class="n">reference</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.addOfficialWebsiteToItem" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">addOfficialWebsiteToItem</span><span class="p">(</span><span class="n">itemId</span><span class="p">,</span> <span class="n">officialWebsite</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>add the official website to the given item
Args:
    itemId: item to add the acronym to
    officialWebsite(str): officialWebsite of the item
    write(bool): if True actually write
    ignoreErrors(bool): if True ignore errors</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>WikidataResult</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the result of the add operation</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">addOfficialWebsiteToItem</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">itemId</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">officialWebsite</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">ignoreErrors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    add the official website to the given item</span>
<span class="sd">    Args:</span>
<span class="sd">        itemId: item to add the acronym to</span>
<span class="sd">        officialWebsite(str): officialWebsite of the item</span>
<span class="sd">        write(bool): if True actually write</span>
<span class="sd">        ignoreErrors(bool): if True ignore errors</span>

<span class="sd">    Returns:</span>
<span class="sd">        WikidataResult: the result of the add operation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mappings</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;official website&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;official website&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P856&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;language of work or name&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;language of work or name&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P407&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span>
    <span class="n">record</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;official website&quot;</span><span class="p">:</span> <span class="n">officialWebsite</span><span class="p">,</span>
        <span class="s2">&quot;language of work or name&quot;</span><span class="p">:</span> <span class="s2">&quot;Q1860&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">qId</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="o">.</span><span class="n">add_record</span><span class="p">(</span>
        <span class="n">item_id</span><span class="o">=</span><span class="n">itemId</span><span class="p">,</span>
        <span class="n">record</span><span class="o">=</span><span class="n">record</span><span class="p">,</span>
        <span class="n">property_mappings</span><span class="o">=</span><span class="n">mappings</span><span class="p">,</span>
        <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">,</span>
        <span class="n">ignore_errors</span><span class="o">=</span><span class="n">ignoreErrors</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">qId</span><span class="p">,</span> <span class="n">errors</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.addProceedingsToWikidata" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">addProceedingsToWikidata</span><span class="p">(</span><span class="n">record</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Creates a wikidata entry for the given record</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>record(dict)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the data to add</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>write(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True actually write</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>ignoreErrors(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True ignore errors</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">addProceedingsToWikidata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a wikidata entry for the given record</span>

<span class="sd">    Args:</span>
<span class="sd">        record(dict): the data to add</span>
<span class="sd">        write(bool): if True actually write</span>
<span class="sd">        ignoreErrors(bool): if True ignore errors</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">write</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">login</span><span class="p">()</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">doAddProceedingsToWikidata</span><span class="p">(</span><span class="n">record</span><span class="p">,</span> <span class="n">write</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">write</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.addVolume" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">addVolume</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>add the given volume</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>volume(Volume)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the volume to add</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">addVolume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">Volume</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    add the given volume</span>

<span class="sd">    Args:</span>
<span class="sd">        volume(Volume): the volume to add</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">volumeList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">volumesByNumber</span><span class="p">[</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="p">]</span> <span class="o">=</span> <span class="n">volume</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">volumeCount</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.checkIfProceedingsFromExists" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">checkIfProceedingsFromExists</span><span class="p">(</span><span class="n">volumeNumber</span><span class="p">,</span> <span class="n">eventItemQid</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Returns True if the is proceedings from relation already exists between the given proceedings and event</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">checkIfProceedingsFromExists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volumeNumber</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">eventItemQid</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns True if the is proceedings from relation already exists between the given proceedings and event&quot;&quot;&quot;</span>
    <span class="n">eventVar</span> <span class="o">=</span> <span class="s2">&quot;?event&quot;</span>
    <span class="k">if</span> <span class="n">eventItemQid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">eventVar</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;wd:</span><span class="si">{</span><span class="n">eventItemQid</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">proceedingsWikidataId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getWikidataIdByVolumeNumber</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="n">volumeNumber</span><span class="p">)</span>
    <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;ASK</span><span class="se">{{</span><span class="s2"> wd:</span><span class="si">{</span><span class="n">proceedingsWikidataId</span><span class="si">}</span><span class="s2"> wdt:P4745 </span><span class="si">{</span><span class="n">eventVar</span><span class="si">}</span><span class="s2">.</span><span class="se">}}</span><span class="s2">&quot;&quot;&quot;</span>
    <span class="n">proceedingExists</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">askWikidata</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">proceedingExists</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.doAddEventToWikidata" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">doAddEventToWikidata</span><span class="p">(</span><span class="n">record</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Creates a wikidata event entry for the given record
Args:
    record(dict): the data to add
    write(bool): if True actually write
    ignoreErrors(bool): if True ignore errors</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>WikidataResult</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the result of the add operation</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">doAddEventToWikidata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a wikidata event entry for the given record</span>
<span class="sd">    Args:</span>
<span class="sd">        record(dict): the data to add</span>
<span class="sd">        write(bool): if True actually write</span>
<span class="sd">        ignoreErrors(bool): if True ignore errors</span>

<span class="sd">    Returns:</span>
<span class="sd">        WikidataResult: the result of the add operation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">entityQid</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;instanceOf&quot;</span><span class="p">)</span>
    <span class="c1"># entity = record.get(&quot;description&quot;)</span>
    <span class="n">mappings</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;instanceof&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;instanceof&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P31&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="n">entityQid</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;short name&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;short name&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P1813&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;describedAt&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;described at URL&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P973&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;language of work or name&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;language of work or name&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P407&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
            <span class="n">qualifierOf</span><span class="o">=</span><span class="s2">&quot;describedAt&quot;</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Q1860&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;title&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;title&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P1476&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;describedAt&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;described at URL&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P973&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;dblpEventId&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;DBLP event ID&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P10692&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">extid</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;start time&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;start time&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P580&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;end time&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;end time&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P582&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;locationWikidataId&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;location&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P276&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;countryWikidataId&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;country&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P17&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span>
    <span class="n">reference_url</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;referenceUrl&quot;</span><span class="p">)</span>
    <span class="n">reference</span> <span class="o">=</span> <span class="n">UrlReference</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">reference_url</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="o">.</span><span class="n">add_record</span><span class="p">(</span>
        <span class="n">record</span><span class="o">=</span><span class="n">record</span><span class="p">,</span>
        <span class="n">property_mappings</span><span class="o">=</span><span class="n">mappings</span><span class="p">,</span>
        <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">,</span>
        <span class="n">ignore_errors</span><span class="o">=</span><span class="n">ignoreErrors</span><span class="p">,</span>
        <span class="n">reference</span><span class="o">=</span><span class="n">reference</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.doAddProceedingsToWikidata" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">doAddProceedingsToWikidata</span><span class="p">(</span><span class="n">record</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Creates a wikidata proceedings entry for the given record</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>record(dict)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the data to add</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>write(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True actually write</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>ignoreErrors(bool)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True ignore errors</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>
      <p>Returns:
    WikidataResult: the result of the add operation</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">doAddProceedingsToWikidata</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">ignoreErrors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">WikidataResult</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a wikidata proceedings entry for the given record</span>

<span class="sd">    Args:</span>
<span class="sd">        record(dict): the data to add</span>
<span class="sd">        write(bool): if True actually write</span>
<span class="sd">        ignoreErrors(bool): if True ignore errors</span>
<span class="sd">    Returns:</span>
<span class="sd">        WikidataResult: the result of the add operation</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mappings</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;instanceof&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;instanceof&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P31&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Q1143604&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;part of the series&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;part of the series&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P179&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Q27230297&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;volume&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;volume&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P478&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">string</span><span class="p">,</span>
            <span class="n">qualifierOf</span><span class="o">=</span><span class="s2">&quot;part of the series&quot;</span><span class="p">,</span>
        <span class="p">),</span>  <span class="c1"># ToDo: refactor qualifier of anchor column or property name?</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;short name&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;short name&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P1813&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;pubDate&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;publication date&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P577&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;title&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;title&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P1476&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">text</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;ceurwsUrl&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;described at URL&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P973&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;language of work or name&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;language of work or name&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P407&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">itemid</span><span class="p">,</span>
            <span class="n">qualifierOf</span><span class="o">=</span><span class="s2">&quot;ceurwsUrl&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;fullWorkUrl&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;full work available at URL&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P953&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">PropertyMapping</span><span class="p">(</span>
            <span class="n">column</span><span class="o">=</span><span class="s2">&quot;urn&quot;</span><span class="p">,</span>
            <span class="n">propertyName</span><span class="o">=</span><span class="s2">&quot;URN-NBN&quot;</span><span class="p">,</span>
            <span class="n">propertyId</span><span class="o">=</span><span class="s2">&quot;P4109&quot;</span><span class="p">,</span>
            <span class="n">propertyType</span><span class="o">=</span><span class="n">WdDatatype</span><span class="o">.</span><span class="n">extid</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span>
    <span class="n">reference</span> <span class="o">=</span> <span class="n">UrlReference</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ceurwsUrl&quot;</span><span class="p">))</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wd</span><span class="o">.</span><span class="n">add_record</span><span class="p">(</span>
        <span class="n">record</span><span class="o">=</span><span class="n">record</span><span class="p">,</span>
        <span class="n">property_mappings</span><span class="o">=</span><span class="n">mappings</span><span class="p">,</span>
        <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">,</span>
        <span class="n">ignore_errors</span><span class="o">=</span><span class="n">ignoreErrors</span><span class="p">,</span>
        <span class="n">reference</span><span class="o">=</span><span class="n">reference</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.doCreateEventItemAndLinkProceedings" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">doCreateEventItemAndLinkProceedings</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="n">proceedingsWikidataId</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Create event  wikidata item for given volume and link the proceedings with the event
Args:
    volume: volume to create the event for
    proceedingsWikidataId: proceedings wikidata id of the event
    write: If True actually write</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>dict[str, <span title="ez_wikidata.wikidata.WikidataResult">WikidataResult</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>proceedingsQId, eventQId, msg</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">doCreateEventItemAndLinkProceedings</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">volume</span><span class="p">:</span> <span class="n">Volume</span><span class="p">,</span>
    <span class="n">proceedingsWikidataId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">write</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">WikidataResult</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create event  wikidata item for given volume and link the proceedings with the event</span>
<span class="sd">    Args:</span>
<span class="sd">        volume: volume to create the event for</span>
<span class="sd">        proceedingsWikidataId: proceedings wikidata id of the event</span>
<span class="sd">        write: If True actually write</span>

<span class="sd">    Returns:</span>
<span class="sd">        proceedingsQId, eventQId, msg</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">vol_number</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">number</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">proceedingsWikidataId</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="ow">and</span> <span class="n">vol_number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">checkIfProceedingsFromExists</span><span class="p">(</span><span class="n">vol_number</span><span class="p">,</span> <span class="n">eventItemQid</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="c1"># link between proceedings and event already exists</span>
        <span class="n">proceedingsWikidataId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getWikidataIdByVolumeNumber</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="n">vol_number</span><span class="p">)</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;Proceedings&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">WikidataResult</span><span class="p">(</span>
            <span class="n">qid</span><span class="o">=</span><span class="n">proceedingsWikidataId</span><span class="p">,</span>
            <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Proceedings for Vol-</span><span class="si">{</span><span class="n">vol_number</span><span class="si">}</span><span class="s2"> already exists&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">dblpEntityIds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">getDblpIdByVolumeNumber</span><span class="p">(</span><span class="n">vol_number</span><span class="p">)</span>
    <span class="n">dblpEntityId</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dblpEntityIds</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Multiple dblpEventIds found for Vol-</span><span class="si">{</span><span class="n">vol_number</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dblpEntityIds</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">dblpEntityIds</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">dblpEntityId</span> <span class="o">=</span> <span class="n">dblpEntityIds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">dblpEntityId</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">results</span><span class="p">[</span><span class="s2">&quot;dblp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">WikidataResult</span><span class="p">(</span><span class="n">qid</span><span class="o">=</span><span class="n">dblpEntityId</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
    <span class="n">wdItems</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getWikidataIdByDblpEventId</span><span class="p">(</span><span class="n">dblpEntityId</span><span class="p">,</span> <span class="n">vol_number</span><span class="p">)</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">eventQid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">wdItems</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1"># event item does not exist → create a new one</span>
        <span class="n">volume</span><span class="o">.</span><span class="n">resolveLoctime</span><span class="p">()</span>
        <span class="n">eventRecord</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getWikidataEventRecord</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
        <span class="n">event_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">doAddEventToWikidata</span><span class="p">(</span><span class="n">record</span><span class="o">=</span><span class="n">eventRecord</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">)</span>
        <span class="n">eventQid</span> <span class="o">=</span> <span class="n">event_result</span><span class="o">.</span><span class="n">qid</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;Event&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">event_result</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">wdItems</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;Event&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">WikidataResult</span><span class="p">(</span>
            <span class="c1"># the event item already exists</span>
            <span class="n">qid</span><span class="o">=</span><span class="n">wdItems</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
            <span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Event item already exists;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;Event&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">WikidataResult</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Multiple event entries exist: </span><span class="si">{</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">wdItems</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">eventQid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># add link between Proceedings and the event item</span>
        <span class="n">link_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">addLinkBetweenProceedingsAndEvent</span><span class="p">(</span>
            <span class="n">volumeNumber</span><span class="o">=</span><span class="n">vol_number</span><span class="p">,</span>
            <span class="n">eventItemQid</span><span class="o">=</span><span class="n">eventQid</span><span class="p">,</span>
            <span class="n">proceedingsWikidataId</span><span class="o">=</span><span class="n">proceedingsWikidataId</span><span class="p">,</span>
            <span class="n">write</span><span class="o">=</span><span class="n">write</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">link_result</span><span class="o">.</span><span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Added Link between Proceedings and Event item;&quot;</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;link&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">link_result</span>
    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.from_args" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>create a WikidataSync object from the given command line arguments</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>args(Namespace)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the command line arguments</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_args</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;WikidataSync&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    create a WikidataSync object from the given command line arguments</span>

<span class="sd">    Args:</span>
<span class="sd">        args(Namespace): the command line arguments</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">wd_en</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">wikidata_endpoint_name</span>
    <span class="n">dblp_en</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">dblp_endpoint_name</span>
    <span class="n">wd_sync</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_endpoint_names</span><span class="p">(</span><span class="n">wd_en</span><span class="p">,</span> <span class="n">dblp_en</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">debug</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wd_sync</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.from_endpoint_names" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">from_endpoint_names</span><span class="p">(</span><span class="n">wd_en</span><span class="p">,</span> <span class="n">dblp_en</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>create a WikidataSync object from the given endpoint names</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>wd_en(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wikidata endpoint name</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>dblp_en(str)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dblp endpoint name</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_endpoint_names</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">wd_en</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">dblp_en</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;WikidataSync&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    create a WikidataSync object from the given endpoint names</span>

<span class="sd">    Args:</span>
<span class="sd">        wd_en(str): wikidata endpoint name</span>
<span class="sd">        dblp_en(str): dblp endpoint name</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">endpoints</span> <span class="o">=</span> <span class="n">EndpointManager</span><span class="o">.</span><span class="n">getEndpoints</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">wd_en</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">endpoints</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;invalid wikidata endpoint name </span><span class="si">{</span><span class="n">wd_en</span><span class="si">}</span><span class="se">\n</span><span class="s2">see sparqlquery -le &quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">dblp_en</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">endpoints</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;invalid dblp endpoint name </span><span class="si">{</span><span class="n">dblp_en</span><span class="si">}</span><span class="se">\n</span><span class="s2">see sparqlquery -le &quot;</span><span class="p">)</span>
    <span class="n">dblp_ep</span> <span class="o">=</span> <span class="n">endpoints</span><span class="p">[</span><span class="n">dblp_en</span><span class="p">]</span>
    <span class="n">wd_ep</span> <span class="o">=</span> <span class="n">endpoints</span><span class="p">[</span><span class="n">wd_en</span><span class="p">]</span>
    <span class="n">wd_sync</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span>
        <span class="n">baseurl</span><span class="o">=</span><span class="n">wd_ep</span><span class="o">.</span><span class="n">endpoint</span><span class="p">,</span>
        <span class="n">dblp_endpoint_url</span><span class="o">=</span><span class="n">dblp_ep</span><span class="o">.</span><span class="n">endpoint</span><span class="p">,</span>
        <span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">wd_sync</span><span class="o">.</span><span class="n">wikidata_endpoint</span> <span class="o">=</span> <span class="n">wd_ep</span>
    <span class="k">return</span> <span class="n">wd_sync</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.getAuthorByIds" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getAuthorByIds</span><span class="p">(</span><span class="n">identifiers</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Based on the given identifiers get potential author items
the names of the identifiers must be according to DblpAuthorIdentifier
Args:
    identifiers: known identifiers of the author</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getAuthorByIds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifiers</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Based on the given identifiers get potential author items</span>
<span class="sd">    the names of the identifiers must be according to DblpAuthorIdentifier</span>
<span class="sd">    Args:</span>
<span class="sd">        identifiers: known identifiers of the author</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">identifiers</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">identifiers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">id_map</span> <span class="o">=</span> <span class="n">DblpAuthorIdentifier</span><span class="o">.</span><span class="n">getAllAsMap</span><span class="p">()</span>
    <span class="n">optional_clauses</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">id_name</span><span class="p">,</span> <span class="n">id_value</span> <span class="ow">in</span> <span class="n">identifiers</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">id_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">id_value</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">id_query</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">id_name</span> <span class="ow">in</span> <span class="n">id_map</span><span class="p">:</span>
                <span class="n">id_query</span> <span class="o">=</span> <span class="n">DblpAuthorIdentifier</span><span class="o">.</span><span class="n">getWikidataIdQueryPart</span><span class="p">(</span><span class="n">id_name</span><span class="p">,</span> <span class="n">id_value</span><span class="p">,</span> <span class="s2">&quot;?person&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">id_name</span> <span class="o">==</span> <span class="s2">&quot;homepage&quot;</span><span class="p">:</span>
                    <span class="n">id_query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">{{</span><span class="s2"> ?person wdt:P856 &lt;</span><span class="si">{</span><span class="n">id_value</span><span class="si">}</span><span class="s2">&gt;. </span><span class="se">}}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="n">id_query</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">optional_clauses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">id_query</span><span class="p">)</span>
    <span class="n">id_queries</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">UNION</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">optional_clauses</span><span class="p">)</span>
    <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;SELECT DISTINCT ?person ?personLabel</span>
<span class="s2">                WHERE</span>
<span class="s2">                </span><span class="se">{{</span>
<span class="s2">                    </span><span class="si">{</span><span class="n">id_queries</span><span class="si">}</span>
<span class="s2">                    ?person rdfs:label ?personLabel. FILTER(lang(?personLabel)=&quot;en&quot;).</span>
<span class="s2">                </span><span class="se">}}</span><span class="s2">&quot;&quot;&quot;</span>
    <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">res</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">record</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">record</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="n">item_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">removeWdPrefix</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;person&quot;</span><span class="p">))</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;personLabel&quot;</span><span class="p">)</span>
        <span class="n">res</span><span class="p">[</span><span class="n">item_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
    <span class="k">return</span> <span class="n">res</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.getEventNameFromTitle" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getEventNameFromTitle</span><span class="p">(</span><span class="n">title</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>Get the event name from the given proceedings title
Args:
    title: title of the proceeding</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of the event</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">getEventNameFromTitle</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the event name from the given proceedings title</span>
<span class="sd">    Args:</span>
<span class="sd">        title: title of the proceeding</span>

<span class="sd">    Returns:</span>
<span class="sd">        name of the event</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">prefixes</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;Proceedings of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Proceedings of&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Joint Proceedings of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Joint Proceedings of&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Joint Proceedings&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Joint Proceeding of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Joint Proceeding of&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Selected Papers of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Selected Contributions of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Workshops Proceedings for the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Supplementary Proceedings of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Short Paper Proceedings of&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Short Paper Proceedings of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Working Notes Proceedings of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Working Notes of&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Working Notes for&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Joint Workshop Proceedings of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Joint Workshop Proceedings of&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Workshop Proceedings from&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Workshop and Poster Proceedings of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Workshops Proceedings and Tutorials of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Extended Papers of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Short Papers Proceedings of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Short Papers Proceedings of&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Proceedings of the Selected Papers of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Proceedings of the Working Notes of&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Proceedings of the Doctoral Consortium Papers Presented at the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Selected Contributions to the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Selected and Revised Papers of&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Selected Papers of&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Up-and-Coming and Short Papers of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Academic Papers at&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Poster Track of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Actes de la&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Post-proceedings of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Late Breaking Papers of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Anais do&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Proceedings del&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Proceedings&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Gemeinsamer Tagungsband der&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Local Proceedings of the&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Local Proceedings and Materials of&quot;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="n">postfixes</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;Workshop Proceedings&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Proceedings&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Conference Proceedings&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Workshops Proceedings&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Adjunct Proceedings&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Poster and Demo Proceedings&quot;</span><span class="p">,</span>
        <span class="s2">&quot;(full papers)&quot;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">prefixes</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">prefix</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">prefix</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="n">prefixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">title</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="o">.</span><span class="n">lower</span><span class="p">()):</span>
                <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span> <span class="p">:]</span>
                <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">break</span>
        <span class="n">postfixes</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">postfix</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">postfix</span><span class="p">),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">postfix</span> <span class="ow">in</span> <span class="n">postfixes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">title</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">postfix</span><span class="o">.</span><span class="n">lower</span><span class="p">()):</span>
                <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="p">[:</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">postfix</span><span class="p">)]</span>
                <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot; .,&quot;</span><span class="p">)</span>
                <span class="k">break</span>
    <span class="k">return</span> <span class="n">title</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.getEventTypeFromTitle" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getEventTypeFromTitle</span><span class="p">(</span><span class="n">title</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>Extract the event type from the given title
Assumption: lowest mentioned type is the correct one
Args:
    title: title of the event</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>tuple[str | None, str | None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wikidata id and label of the event type</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">getEventTypeFromTitle</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extract the event type from the given title</span>
<span class="sd">    Assumption: lowest mentioned type is the correct one</span>
<span class="sd">    Args:</span>
<span class="sd">        title: title of the event</span>

<span class="sd">    Returns:</span>
<span class="sd">        wikidata id and label of the event type</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">title</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="n">academicConference</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Q2020153&quot;</span><span class="p">,</span> <span class="s2">&quot;academic conference&quot;</span><span class="p">)</span>
    <span class="n">academicWorkshop</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Q40444998&quot;</span><span class="p">,</span> <span class="s2">&quot;academic workshop&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="s2">&quot;workshop&quot;</span> <span class="ow">in</span> <span class="n">title</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">academicWorkshop</span>
    <span class="k">elif</span> <span class="s2">&quot;conference&quot;</span> <span class="ow">in</span> <span class="n">title</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">or</span> <span class="s2">&quot;symposium&quot;</span> <span class="ow">in</span> <span class="n">title</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">academicConference</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">academicWorkshop</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.getEventWdItemsByUrn" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getEventWdItemsByUrn</span><span class="p">(</span><span class="n">urn</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>queries the wikidata proceedings that have the given urn assigned to P4109 and returns the assigned event
Args:
    urn: URN id to query for</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of corresponding wikidata item ids or empty list of no matching item is found</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getEventWdItemsByUrn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">urn</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    queries the wikidata proceedings that have the given urn assigned to P4109 and returns the assigned event</span>
<span class="sd">    Args:</span>
<span class="sd">        urn: URN id to query for</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of corresponding wikidata item ids or empty list of no matching item is found</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;SELECT ?event WHERE</span><span class="se">{{</span><span class="s2"> ?proceeding wdt:P4109 &quot;</span><span class="si">{</span><span class="n">urn</span><span class="si">}</span><span class="s2">&quot;; wdt:P4745 ?event .</span><span class="se">}}</span><span class="s2">&quot;&quot;&quot;</span>
    <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">wdItems</span> <span class="o">=</span> <span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;event&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">wdItems</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.getEventsOfProceedings" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getEventsOfProceedings</span><span class="p">(</span><span class="n">itemId</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>get the item ids of the events the given proceedings ids is the proceedings from
Args:
    itemId: Qid of the proceedings</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of the events</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getEventsOfProceedings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">itemId</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the item ids of the events the given proceedings ids is the proceedings from</span>
<span class="sd">    Args:</span>
<span class="sd">        itemId: Qid of the proceedings</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of the events</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;SELECT ?event WHERE </span><span class="se">{{</span><span class="s2"> wd:</span><span class="si">{</span><span class="n">itemId</span><span class="si">}</span><span class="s2"> wdt:P4745 ?event.</span><span class="se">}}</span><span class="s2">&quot;&quot;&quot;</span>
    <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">wdItems</span> <span class="o">=</span> <span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;event&quot;</span><span class="p">)[</span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;http://www.wikidata.org/entity/&quot;</span><span class="p">)</span> <span class="p">:]</span> <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">wdItems</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.getEventsOfProceedingsByVolnumber" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getEventsOfProceedingsByVolnumber</span><span class="p">(</span><span class="n">volnumber</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>get the item ids of the events the given proceedings ids is the proceedings from
Args:
    volnumber: Volume number of the proceedings</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of the events</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getEventsOfProceedingsByVolnumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volnumber</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the item ids of the events the given proceedings ids is the proceedings from</span>
<span class="sd">    Args:</span>
<span class="sd">        volnumber: Volume number of the proceedings</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of the events</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;SELECT ?event </span>
<span class="s2">                WHERE </span><span class="se">{{</span>
<span class="s2">                ?proceeding wdt:P31 wd:Q1143604; </span>
<span class="s2">                            p:P179 [ps:P179 wd:Q27230297; pq:P478 &quot;</span><span class="si">{</span><span class="n">volnumber</span><span class="si">}</span><span class="s2">&quot;]; </span>
<span class="s2">                            wdt:P4745 ?event.</span><span class="se">}}</span>
<span class="s2">    &quot;&quot;&quot;</span>
    <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">wdItems</span> <span class="o">=</span> <span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;event&quot;</span><span class="p">)[</span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;http://www.wikidata.org/entity/&quot;</span><span class="p">)</span> <span class="p">:]</span> <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">wdItems</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.getProceedingWdItemsByUrn" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getProceedingWdItemsByUrn</span><span class="p">(</span><span class="n">urn</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>queries the wikidata items that have the given urn for the property P4109
Args:
    urn: URN id to query for</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of corresponding wikidata item ids or empty list of no matching item is found</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getProceedingWdItemsByUrn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">urn</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    queries the wikidata items that have the given urn for the property P4109</span>
<span class="sd">    Args:</span>
<span class="sd">        urn: URN id to query for</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of corresponding wikidata item ids or empty list of no matching item is found</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;SELECT ?proceeding WHERE</span><span class="se">{{</span><span class="s2"> ?proceeding wdt:P4109 &quot;</span><span class="si">{</span><span class="n">urn</span><span class="si">}</span><span class="s2">&quot;</span><span class="se">}}</span><span class="s2">&quot;&quot;&quot;</span>
    <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">wdItems</span> <span class="o">=</span> <span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proceeding&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">wdItems</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.getProceedingsForVolume" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getProceedingsForVolume</span><span class="p">(</span><span class="n">searchVolnumber</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>get the proceedings record for the given searchVolnumber</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>searchVolnumber(int)</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the number of the volume to search</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code>dict | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the record for the proceedings in wikidata</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>None</code></td>            <td>
                  <code>dict | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the proceeding record in not found for the given searchVolnumber</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getProceedingsForVolume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">searchVolnumber</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the proceedings record for the given searchVolnumber</span>

<span class="sd">    Args:</span>
<span class="sd">        searchVolnumber(int): the number of the volume to search</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: the record for the proceedings in wikidata</span>
<span class="sd">        None: if the proceeding record in not found for the given searchVolnumber</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">procRecords</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loadProceedingsFromCache</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">procsByVolnumber</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">procsByVolnumber</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">procRecords</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">procRecord</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">procRecords</span><span class="p">:</span>
                <span class="n">volnumber</span> <span class="o">=</span> <span class="n">procRecord</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sVolume&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">volnumber</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">procRecord</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Volume&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">volnumber</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">procsByVolnumber</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">volnumber</span><span class="p">)]</span> <span class="o">=</span> <span class="n">procRecord</span>
    <span class="n">volProcRecord</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">procsByVolnumber</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">searchVolnumber</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">volProcRecord</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.getRecentlyAddedVolumeList" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getRecentlyAddedVolumeList</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>get the list of volumes that have recently been added
we do not expect deletions</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>tuple[dict[int, dict], list[dict]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[int]: list of volume numbers recently added</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getRecentlyAddedVolumeList</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">dict</span><span class="p">],</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the list of volumes that have recently been added</span>
<span class="sd">    we do not expect deletions</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[int]: list of volume numbers recently added</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prepareVolumeManager</span><span class="p">()</span>
    <span class="n">refreshVm</span> <span class="o">=</span> <span class="n">VolumeManager</span><span class="p">()</span>
    <span class="n">parser_config</span> <span class="o">=</span> <span class="n">ParserConfig</span><span class="p">()</span>
    <span class="n">parser_config</span><span class="o">.</span><span class="n">force_download</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">set_down_to_volume</span><span class="p">(</span><span class="n">parser_config</span><span class="p">)</span>
    <span class="n">refreshVm</span><span class="o">.</span><span class="n">loadFromIndexHtml</span><span class="p">(</span><span class="n">parser_config</span><span class="o">=</span><span class="n">parser_config</span><span class="p">)</span>
    <span class="n">refreshVolumesByNumber</span><span class="p">,</span> <span class="n">_duplicates</span> <span class="o">=</span> <span class="n">LOD</span><span class="o">.</span><span class="n">getLookup</span><span class="p">(</span><span class="n">refreshVm</span><span class="o">.</span><span class="n">getList</span><span class="p">(),</span> <span class="s2">&quot;number&quot;</span><span class="p">)</span>
    <span class="c1"># https://stackoverflow.com/questions/3462143/get-difference-between-two-lists</span>
    <span class="n">newVolumes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">refreshVolumesByNumber</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volumesByNumber</span><span class="o">.</span><span class="n">keys</span><span class="p">())))</span>
    <span class="k">return</span> <span class="n">refreshVolumesByNumber</span><span class="p">,</span> <span class="n">newVolumes</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.getWikidataEventRecord" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getWikidataEventRecord</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>get the wikidata Record for the given volume</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getWikidataEventRecord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">:</span> <span class="n">Volume</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the wikidata Record for the given volume</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">volumeTitle</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">title</span>
    <span class="n">volumeNumber</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">number</span>
    <span class="n">dblpEntityIds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">getDblpIdByVolumeNumber</span><span class="p">(</span><span class="n">number</span><span class="o">=</span><span class="n">volumeNumber</span><span class="p">)</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">label</span> <span class="o">=</span> <span class="n">instanceOf</span> <span class="o">=</span> <span class="n">description</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">volumeTitle</span><span class="p">:</span>
        <span class="n">instanceOf</span><span class="p">,</span> <span class="n">description</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getEventTypeFromTitle</span><span class="p">(</span><span class="n">volumeTitle</span><span class="p">)</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getEventNameFromTitle</span><span class="p">(</span><span class="n">volumeTitle</span><span class="p">)</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">dateFrom</span>
    <span class="n">end_time</span> <span class="o">=</span> <span class="n">volume</span><span class="o">.</span><span class="n">dateTo</span>
    <span class="n">record</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
        <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">label</span><span class="p">,</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">description</span><span class="p">,</span>
        <span class="s2">&quot;instanceOf&quot;</span><span class="p">:</span> <span class="n">instanceOf</span><span class="p">,</span>
        <span class="s2">&quot;short name&quot;</span><span class="p">:</span> <span class="n">volume</span><span class="o">.</span><span class="n">acronym</span><span class="p">,</span>
        <span class="s2">&quot;locationWikidataId&quot;</span><span class="p">:</span> <span class="n">volume</span><span class="o">.</span><span class="n">cityWikidataId</span><span class="p">,</span>
        <span class="s2">&quot;countryWikidataId&quot;</span><span class="p">:</span> <span class="n">volume</span><span class="o">.</span><span class="n">countryWikidataId</span><span class="p">,</span>
        <span class="s2">&quot;start time&quot;</span><span class="p">:</span> <span class="n">start_time</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">start_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">start_time</span><span class="p">,</span>
        <span class="s2">&quot;end time&quot;</span><span class="p">:</span> <span class="n">end_time</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">end_time</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">end_time</span><span class="p">,</span>
        <span class="s2">&quot;referenceUrl&quot;</span><span class="p">:</span> <span class="n">volume</span><span class="o">.</span><span class="n">getVolumeUrl</span><span class="p">(),</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="n">dblpEntityIds</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">dblpEntityIds</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">dblpEntityId</span> <span class="o">=</span> <span class="n">dblpEntityIds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">record</span><span class="p">[</span><span class="s2">&quot;describedAt&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">toDblpUrl</span><span class="p">(</span><span class="n">dblpEntityId</span><span class="p">)</span>
        <span class="n">record</span><span class="p">[</span><span class="s2">&quot;language of work or name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Q1860&quot;</span>
        <span class="n">record</span><span class="p">[</span><span class="s2">&quot;dblpEventId&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">convertEntityIdToUrlId</span><span class="p">(</span><span class="n">entityId</span><span class="o">=</span><span class="n">dblpEntityId</span><span class="p">)</span>
    <span class="c1"># the modeling of virtual events has changed in wikidata</span>
    <span class="c1"># virtual event (Q7935096) is discontinued for conferences</span>
    <span class="c1"># if volume.isVirtualEvent():</span>
    <span class="c1">#     record[&quot;instanceOf&quot;] = [instanceOf, &quot;Q7935096&quot;]</span>
    <span class="k">return</span> <span class="n">record</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.getWikidataIdByDblpEventId" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getWikidataIdByDblpEventId</span><span class="p">(</span><span class="n">entityId</span><span class="p">,</span> <span class="n">volumeNumber</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>query wikidata for the qId of items that correspond to the given dblpEventId
Args:
    entityId: id of a dblp event
    volumeNumber: volume number</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list of matching wikidata items</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getWikidataIdByDblpEventId</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entityId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">volumeNumber</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    query wikidata for the qId of items that correspond to the given dblpEventId</span>
<span class="sd">    Args:</span>
<span class="sd">        entityId: id of a dblp event</span>
<span class="sd">        volumeNumber: volume number</span>

<span class="sd">    Returns:</span>
<span class="sd">        list of matching wikidata items</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dblpEventId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">convertEntityIdToUrlId</span><span class="p">(</span><span class="n">entityId</span><span class="o">=</span><span class="n">entityId</span><span class="p">)</span>
    <span class="n">dblpIds</span> <span class="o">=</span> <span class="p">[</span><span class="n">entityId</span><span class="p">,</span> <span class="n">dblpEventId</span><span class="p">]</span>
    <span class="n">dblpIdsStr</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s1">&#39;&quot;</span><span class="si">{</span><span class="n">dblpId</span><span class="si">}</span><span class="s1">&quot;&#39;</span> <span class="k">for</span> <span class="n">dblpId</span> <span class="ow">in</span> <span class="n">dblpIds</span><span class="p">])</span>
    <span class="n">urls</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">entityId</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">urls</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="sa">f</span><span class="s2">&quot;&lt;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">toDblpUrl</span><span class="p">(</span><span class="n">entityId</span><span class="p">)</span><span class="si">}</span><span class="s2">&gt;&quot;</span><span class="p">,</span>
                <span class="sa">f</span><span class="s2">&quot;&lt;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dblpEndpoint</span><span class="o">.</span><span class="n">toDblpUrl</span><span class="p">(</span><span class="n">entityId</span><span class="p">,</span><span class="w"> </span><span class="kc">True</span><span class="p">)</span><span class="si">}</span><span class="s2">&gt;&quot;</span><span class="p">,</span>
            <span class="p">]</span>
        <span class="p">)</span>
    <span class="n">volumeQuery</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">volumeNumber</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">volumeQuery</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        UNION</span>
<span class="s2">              </span><span class="se">{{</span>
<span class="s2">              ?proceeding p:P179 [ps:P179 wd:Q27230297; pq:P478 &quot;</span><span class="si">{</span><span class="n">volumeNumber</span><span class="si">}</span><span class="s2">&quot;].</span>
<span class="s2">              ?proceeding wdt:P4745 ?qid.</span>
<span class="s2">              </span><span class="se">}}</span>
<span class="s2">        &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;SELECT DISTINCT ?qid</span>
<span class="s2">        WHERE</span><span class="se">{{</span>
<span class="s2">          VALUES ?url </span><span class="se">{{</span><span class="s2"> </span><span class="si">{</span><span class="n">urls</span><span class="si">}</span><span class="s2"> </span><span class="se">}}</span>
<span class="s2">          VALUES ?dblpEventId </span><span class="se">{{</span><span class="s2"> </span><span class="si">{</span><span class="n">dblpIdsStr</span><span class="si">}</span><span class="s2"> </span><span class="se">}}</span>
<span class="s2">          VALUES ?eventType </span><span class="se">{{</span><span class="s2">wd:Q2020153 wd:Q40444998</span><span class="se">}}</span>
<span class="s2">          </span><span class="se">{{</span><span class="s2">?qid wdt:P31 ?eventType; wdt:P973 ?url</span><span class="se">}}</span>
<span class="s2">          UNION</span>
<span class="s2">          </span><span class="se">{{</span><span class="s2">?qid wdt:P31 ?eventType; wdt:P10692 ?dblpEventId</span><span class="se">}}</span>
<span class="s2">          </span><span class="si">{</span><span class="n">volumeQuery</span><span class="si">}</span>
<span class="s2">        </span><span class="se">}}</span>
<span class="s2">    &quot;&quot;&quot;</span>
    <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">qIds</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">qres</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">qres</span> <span class="o">!=</span> <span class="p">[]:</span>
        <span class="n">qIds</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">removeWdPrefix</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;qid&quot;</span><span class="p">))</span> <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">qIds</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.getWikidataIdByVolumeNumber" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getWikidataIdByVolumeNumber</span><span class="p">(</span><span class="n">number</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>query wikidata for the qId of the proceedings of the given volume number
Args:
    number: volume number</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>wikidata id corresponding to the given volume number</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>None</code></td>            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if the corresponding wikidata id was not found</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getWikidataIdByVolumeNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    query wikidata for the qId of the proceedings of the given volume number</span>
<span class="sd">    Args:</span>
<span class="sd">        number: volume number</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: wikidata id corresponding to the given volume number</span>
<span class="sd">        None: if the corresponding wikidata id was not found</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">number</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;SELECT * WHERE</span><span class="se">{{</span><span class="s2"> ?proceeding p:P179 [ps:P179 wd:Q27230297; pq:P478 &quot;</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">&quot;].</span><span class="se">}}</span><span class="s2">&quot;&quot;&quot;</span>
    <span class="n">qres</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
    <span class="n">qid</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">qres</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">qres</span> <span class="o">!=</span> <span class="p">[]:</span>
        <span class="n">qids</span> <span class="o">=</span> <span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proceeding&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">qres</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">qids</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CEUR-WS volume number is not unique&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">qid</span> <span class="o">=</span> <span class="n">qids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">qid</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.getWikidataProceedingsRecord" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">getWikidataProceedingsRecord</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>get the wikidata Record for the given volume</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">getWikidataProceedingsRecord</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volume</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    get the wikidata Record for the given volume</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">record</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Proceedings of </span><span class="si">{</span><span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;acronym&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">None</span><span class="p">)</span><span class="si">}</span><span class="s2"> workshop&quot;</span><span class="p">,</span>
        <span class="s2">&quot;urn&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;urn&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="s2">&quot;short name&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;acronym&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="s2">&quot;volume&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;number&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="s2">&quot;pubDate&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;pubDate&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="s2">&quot;ceurwsUrl&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;url&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
        <span class="s2">&quot;language of work or name&quot;</span><span class="p">:</span> <span class="s2">&quot;Q1860&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fullWorkUrl&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">volume</span><span class="p">,</span> <span class="s2">&quot;url&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;pubDate&quot;</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">):</span>
        <span class="n">record</span><span class="p">[</span><span class="s2">&quot;pubDate&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">record</span><span class="p">[</span><span class="s2">&quot;pubDate&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">record</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.hasItemPropertyValueFor" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">hasItemPropertyValueFor</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">propertyId</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>ask wikidata if the given item has a value for the given property
Args:
    item: item Qid
    propertyId: property Pid
Returns:
    True if the item has the property else False</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">hasItemPropertyValueFor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">,</span> <span class="n">propertyId</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ask wikidata if the given item has a value for the given property</span>
<span class="sd">    Args:</span>
<span class="sd">        item: item Qid</span>
<span class="sd">        propertyId: property Pid</span>
<span class="sd">    Returns:</span>
<span class="sd">        True if the item has the property else False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;ASK</span><span class="se">{{</span><span class="s2"> wd:</span><span class="si">{</span><span class="n">item</span><span class="si">}</span><span class="s2"> wdt:</span><span class="si">{</span><span class="n">propertyId</span><span class="si">}</span><span class="s2"> ?value.</span><span class="se">}}</span><span class="s2">&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">askWikidata</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.loadProceedingsFromCache" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">loadProceedingsFromCache</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>load the proceedings records from the cache</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">loadProceedingsFromCache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    load the proceedings records from the cache</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sqlQuery</span> <span class="o">=</span> <span class="s2">&quot;SELECT * from Proceedings&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">procRecords</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sqldb</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">sqlQuery</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">procRecords</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.preparePaperManager" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">preparePaperManager</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>prepare my paper Manager</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">preparePaperManager</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    prepare my paper Manager</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pm</span> <span class="o">=</span> <span class="n">PaperManager</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pm</span><span class="o">.</span><span class="n">isCached</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pm</span><span class="o">.</span><span class="n">fromStore</span><span class="p">(</span><span class="n">cacheFile</span><span class="o">=</span><span class="n">CEURWS</span><span class="o">.</span><span class="n">CACHE_FILE</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="s2">&quot;PaperManager not cached you might want to run ceur-ws --recreate&quot;</span><span class="p">,</span>
            <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.prepareVolumeManager" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">prepareVolumeManager</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>prepare my volume manager</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">prepareVolumeManager</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    prepare my volume manager</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">vm</span> <span class="o">=</span> <span class="n">VolumeManager</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">volumesByNumber</span><span class="p">,</span> <span class="n">_duplicates</span> <span class="o">=</span> <span class="n">LOD</span><span class="o">.</span><span class="n">getLookup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">getList</span><span class="p">(),</span> <span class="s2">&quot;number&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">volumeList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">getList</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">volumeCount</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volumeList</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">volumeOptions</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">reverse_keys</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">volumesByNumber</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">volume_number</span> <span class="ow">in</span> <span class="n">reverse_keys</span><span class="p">:</span>
        <span class="n">volume</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">volumesByNumber</span><span class="p">[</span><span class="n">volume_number</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volumeOptions</span><span class="p">[</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Vol-</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">number</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">volume</span><span class="o">.</span><span class="n">title</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.removeWdPrefix" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">removeWdPrefix</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h4>


    <div class="doc doc-contents ">

      <p>removes the wikidata entity prefix
Args:
    value: wikidata entity url</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">removeWdPrefix</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    removes the wikidata entity prefix</span>
<span class="sd">    Args:</span>
<span class="sd">        value: wikidata entity url</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">wd_prefix</span> <span class="o">=</span> <span class="s2">&quot;http://www.wikidata.org/entity/&quot;</span>
    <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">value</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">wd_prefix</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="s2">&quot;http://www.wikidata.org/entity/&quot;</span><span class="p">)</span> <span class="p">:]</span>
    <span class="k">return</span> <span class="n">value</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.storeVolumes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">storeVolumes</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>store my volumes</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">storeVolumes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    store my volumes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">vm</span><span class="o">.</span><span class="n">store</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="ceurws.wikidatasync.WikidataSync.update" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update</span><span class="p">(</span><span class="n">withStore</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>update my table from the Wikidata Proceedings SPARQL query</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/wikidatasync.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">withStore</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    update my table from the Wikidata Proceedings SPARQL query</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Querying proceedings from </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">baseurl</span><span class="si">}</span><span class="s2"> ...&quot;</span><span class="p">)</span>
    <span class="c1"># query proceedings</span>
    <span class="n">wd_proceedings_records</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wdQuery</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
    <span class="c1"># query events</span>
    <span class="n">event_query</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">qm</span><span class="o">.</span><span class="n">queriesByName</span><span class="p">[</span><span class="s2">&quot;EventsByProceeding&quot;</span><span class="p">]</span>
    <span class="n">wd_event_records</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sparql</span><span class="o">.</span><span class="n">queryAsListOfDicts</span><span class="p">(</span><span class="n">event_query</span><span class="o">.</span><span class="n">query</span><span class="p">)</span>
    <span class="c1"># add events to proceeding records</span>
    <span class="n">proceedings_event_map</span><span class="p">,</span> <span class="n">_duplicates</span> <span class="o">=</span> <span class="n">LOD</span><span class="o">.</span><span class="n">getLookup</span><span class="p">(</span><span class="n">wd_event_records</span><span class="p">,</span> <span class="s2">&quot;item&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">proceedings_record</span> <span class="ow">in</span> <span class="n">wd_proceedings_records</span><span class="p">:</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">proceedings_record</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;item&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">proceedings_event_map</span><span class="p">:</span>
            <span class="n">event_record</span> <span class="o">=</span> <span class="n">proceedings_event_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
            <span class="n">proceedings_record</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">event_record</span><span class="p">)</span>
    <span class="n">primaryKey</span> <span class="o">=</span> <span class="s2">&quot;URN_NBN&quot;</span>
    <span class="n">withCreate</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">withDrop</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">entityInfo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sqldb</span><span class="o">.</span><span class="n">createTable</span><span class="p">(</span>
        <span class="n">wd_proceedings_records</span><span class="p">,</span>
        <span class="s2">&quot;Proceedings&quot;</span><span class="p">,</span>
        <span class="n">primaryKey</span><span class="p">,</span>
        <span class="n">withCreate</span><span class="p">,</span>
        <span class="n">withDrop</span><span class="p">,</span>
        <span class="n">sampleRecordCount</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span>
        <span class="n">failIfTooFew</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">procsByURN</span><span class="p">,</span> <span class="n">duplicates</span> <span class="o">=</span> <span class="n">LOD</span><span class="o">.</span><span class="n">getLookup</span><span class="p">(</span><span class="n">wd_proceedings_records</span><span class="p">,</span> <span class="s2">&quot;URN_NBN&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">withStore</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sqldb</span><span class="o">.</span><span class="n">store</span><span class="p">(</span><span class="n">procsByURN</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span> <span class="n">entityInfo</span><span class="p">,</span> <span class="n">executeMany</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fixNone</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;stored </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">procsByURN</span><span class="o">.</span><span class="n">values</span><span class="p">())</span><span class="si">}</span><span class="s2"> proceedings records&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">duplicates</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">duplicates</span><span class="p">)</span><span class="si">}</span><span class="s2"> duplicates URN entries&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">duplicates</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">duplicates</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wd_proceedings_records</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="ceurws.workshop" class="doc doc-heading">
            <code>workshop</code>


</h2>

    <div class="doc doc-contents ">

      <p>Created on 2020-11-12</p>
<p>@author: wf</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="ceurws.workshop.Workshop" class="doc doc-heading">
            <code>Workshop</code>


</h3>


    <div class="doc doc-contents ">


      <p>a single Workshop</p>

              <details class="quote">
                <summary>Source code in <code>ceurws/workshop.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Workshop</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    a single Workshop</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor</span>
<span class="sd">        &quot;&quot;&quot;</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">ofURI</span><span class="p">(</span><span class="n">uri</span><span class="p">):</span>
        <span class="n">xml</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
        <span class="n">ws</span> <span class="o">=</span> <span class="n">Workshop</span><span class="p">()</span>
        <span class="n">ws</span><span class="o">.</span><span class="n">wsdict</span> <span class="o">=</span> <span class="n">xmltodict</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">xml</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ws</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="ceurws.workshop.Workshop.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">()</span></code>

</h4>


    <div class="doc doc-contents ">

      <p>Constructor</p>

            <details class="quote">
              <summary>Source code in <code>ceurws/workshop.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>


  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>